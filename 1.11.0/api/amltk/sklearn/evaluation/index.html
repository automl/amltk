
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../estimators/">
      
      
        <link rel="next" href="../voting/">
      
      
      <link rel="icon" href="../../../../assets/automl_org.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.12">
    
    
      
        <title>Evaluation - AutoML-Toolkit</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/_markdown_exec_pyodide.css">
    
      <link rel="stylesheet" href="../../../../assets/_markdown_exec_ansi.css">
    
      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/custom.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#amltk.sklearn.evaluation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="AutoML-Toolkit" class="md-header__button md-logo" aria-label="AutoML-Toolkit" data-md-component="logo">
      
  <img src="../../../../assets/automl_org.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AutoML-Toolkit
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Evaluation
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="deep-purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3m0-4.5c5 0 9.27 3.11 11 7.5-1.73 4.39-6 7.5-11 7.5S2.73 16.39 1 12c1.73-4.39 6-7.5 11-7.5M3.18 12a9.821 9.821 0 0 0 17.64 0 9.821 9.821 0 0 0-17.64 0Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="deep-purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/automl/amltk/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    automl/amltk
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../guides/" class="md-tabs__link">
          
  
  Guides

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../reference/" class="md-tabs__link">
          
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../examples/" class="md-tabs__link">
          
  
  Examples

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../" class="md-tabs__link">
          
  
  API

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../contributing/" class="md-tabs__link">
        
  
    
  
  Contributing

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../changelog/" class="md-tabs__link">
        
  
    
  
  What's New?

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="AutoML-Toolkit" class="md-nav__button md-logo" aria-label="AutoML-Toolkit" data-md-component="logo">
      
  <img src="../../../../assets/automl_org.png" alt="logo">

    </a>
    AutoML-Toolkit
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/automl/amltk/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    automl/amltk
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/optimization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optimization Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/pipelines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipelines Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/scheduling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scheduling
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Scheduling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Scheduling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/scheduling/scheduler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scheduler
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/scheduling/executors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Executors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/scheduling/task/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Task
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/scheduling/plugins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plugins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/scheduling/queue_monitor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Queue monitor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/scheduling/events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Events
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Pipelines
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Pipelines
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/pipelines/pipeline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipeline
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/pipelines/spaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spaces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/pipelines/builders/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Builders
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Optimization
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Optimization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/optimization/metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metrics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/optimization/optimizers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optimizers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/optimization/trials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/optimization/history/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    History
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/optimization/profiling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Profiling
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/data/buckets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Buckets
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Meta-Learning
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Meta-Learning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/metalearning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metalearning
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../examples/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../examples/dask-jobqueue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using the Scheduler with SLURM (dask-jobqueue)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../examples/hpo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HPO
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../examples/hpo_with_ensembling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Performing HPO with Post-Hoc Ensembling.
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" checked>
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Amltk
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Amltk
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../distances/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Distances
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exceptions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../options/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../randomness/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Randomness
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_6" >
        
          
          <label class="md-nav__link" for="__nav_5_2_6" id="__nav_5_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_6">
            <span class="md-nav__icon md-icon"></span>
            Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/conversions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conversions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/dtype_reduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dtype reduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/measure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Measure
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_7" >
        
          
          <label class="md-nav__link" for="__nav_5_2_7" id="__nav_5_2_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ensembling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_7">
            <span class="md-nav__icon md-icon"></span>
            Ensembling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ensembling/weighted_ensemble_caruana/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Weighted ensemble caruana
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_8" >
        
          
          <label class="md-nav__link" for="__nav_5_2_8" id="__nav_5_2_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Metalearning
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_8">
            <span class="md-nav__icon md-icon"></span>
            Metalearning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../metalearning/dataset_distances/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dataset distances
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../metalearning/metafeatures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metafeatures
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../metalearning/portfolio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Portfolio
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_9" >
        
          
          <label class="md-nav__link" for="__nav_5_2_9" id="__nav_5_2_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Optimization
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_9">
            <span class="md-nav__icon md-icon"></span>
            Optimization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/evaluation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evaluation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/history/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    History
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/metric/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metric
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/optimizer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optimizer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/trial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_9_6" >
        
          
          <label class="md-nav__link" for="__nav_5_2_9_6" id="__nav_5_2_9_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Optimizers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_9_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_9_6">
            <span class="md-nav__icon md-icon"></span>
            Optimizers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/optimizers/neps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Neps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/optimizers/optuna/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optuna
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/optimizers/smac/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Smac
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_10" >
        
          
          <label class="md-nav__link" for="__nav_5_2_10" id="__nav_5_2_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Pipeline
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_10">
            <span class="md-nav__icon md-icon"></span>
            Pipeline
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline/components/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Components
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline/node/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline/ops/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ops
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline/xgboost/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Xgboost
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_10_5" >
        
          
          <label class="md-nav__link" for="__nav_5_2_10_5" id="__nav_5_2_10_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Builders
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_10_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_10_5">
            <span class="md-nav__icon md-icon"></span>
            Builders
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline/builders/sklearn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sklearn
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_10_6" >
        
          
          <label class="md-nav__link" for="__nav_5_2_10_6" id="__nav_5_2_10_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Parsers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_10_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_10_6">
            <span class="md-nav__icon md-icon"></span>
            Parsers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline/parsers/configspace/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configspace
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline/parsers/optuna/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optuna
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_11" >
        
          
          <label class="md-nav__link" for="__nav_5_2_11" id="__nav_5_2_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Profiling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_11">
            <span class="md-nav__icon md-icon"></span>
            Profiling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../profiling/memory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Memory
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../profiling/profiler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Profiler
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../profiling/timing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timing
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_12" >
        
          
          <label class="md-nav__link" for="__nav_5_2_12" id="__nav_5_2_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Scheduling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_12">
            <span class="md-nav__icon md-icon"></span>
            Scheduling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Events
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/queue_monitor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Queue monitor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/scheduler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scheduler
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/task/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Task
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/termination_strategies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Termination strategies
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_12_6" >
        
          
          <label class="md-nav__link" for="__nav_5_2_12_6" id="__nav_5_2_12_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Executors
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_12_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_12_6">
            <span class="md-nav__icon md-icon"></span>
            Executors
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/executors/dask_jobqueue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dask jobqueue
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/executors/sequential_executor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sequential executor
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_12_7" >
        
          
          <label class="md-nav__link" for="__nav_5_2_12_7" id="__nav_5_2_12_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Plugins
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_12_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_12_7">
            <span class="md-nav__icon md-icon"></span>
            Plugins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/plugins/comm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/plugins/emissions_tracker_plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Emissions tracker plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/plugins/limiter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Limiter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/plugins/plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/plugins/pynisher/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pynisher
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/plugins/threadpoolctl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Threadpoolctl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/plugins/wandb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wandb
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/plugins/warning_filter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Warning filter
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_13" checked>
        
          
          <label class="md-nav__link" for="__nav_5_2_13" id="__nav_5_2_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sklearn
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_13_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_2_13">
            <span class="md-nav__icon md-icon"></span>
            Sklearn
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../estimators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Estimators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Evaluation
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Evaluation
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;evaluation
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" evaluation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.PostSplitSignature" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;PostSplitSignature
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.TaskTypeName" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;TaskTypeName
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.XLike" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;XLike
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.YLike" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;YLike
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEarlyStoppingProtocol" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;CVEarlyStoppingProtocol
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" CVEarlyStoppingProtocol">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEarlyStoppingProtocol.should_stop" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;should_stop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEarlyStoppingProtocol.update" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;CVEvaluation
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" CVEvaluation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.LARGE_PARAM_HEURISTIC" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;LARGE_PARAM_HEURISTIC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.PARAM_EXTENSION_MAPPING" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;PARAM_EXTENSION_MAPPING
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.SPLIT_EVALUATED" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;SPLIT_EVALUATED
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.TMP_DIR_PREFIX" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;TMP_DIR_PREFIX
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.X_stored" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;X_stored
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.additional_scorers" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;additional_scorers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.bucket" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;bucket
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.params" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;params
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.splitter" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;splitter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.store_models" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;store_models
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.task_type" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;task_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.train_score" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;train_score
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.y_stored" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;y_stored
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;CompleteEvalInfo
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" CompleteEvalInfo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.X" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;X
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.X_test" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;X_test
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.fit_params" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;fit_params
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.max_splits" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;max_splits
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.models" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;models
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.scorer_params" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;scorer_params
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.scorers" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;scorers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.scores" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;scores
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.splitter" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;splitter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.splitter_params" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;splitter_params
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.test_scorer_params" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;test_scorer_params
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.y" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;y
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.y_test" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;y_test
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.select_params" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;select_params
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PostSplitInfo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.SplitScores" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SplitScores
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.CVEvaluation.cv_early_stopping_plugin" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;cv_early_stopping_plugin
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.sklearn.evaluation.identify_task_type" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;identify_task_type
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../voting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Voting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_14" >
        
          
          <label class="md-nav__link" for="__nav_5_2_14" id="__nav_5_2_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Store
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_14">
            <span class="md-nav__icon md-icon"></span>
            Store
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../store/bucket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bucket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../store/drop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Drop
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../store/loader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Loader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../store/stored/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stored
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_14_5" >
        
          
          <label class="md-nav__link" for="__nav_5_2_14_5" id="__nav_5_2_14_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Paths
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_14_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_14_5">
            <span class="md-nav__icon md-icon"></span>
            Paths
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../store/paths/path_bucket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Path bucket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../store/paths/path_loaders/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Path loaders
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What's New?
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Evaluation</h1>

<div class="doc doc-object doc-module">



<h2 id="amltk.sklearn.evaluation" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>          <span class="doc doc-object-name doc-module-name">amltk.sklearn.evaluation</span>


<a href="#amltk.sklearn.evaluation" class="headerlink" title="Permanent link">#</a></h2>

  <div class="doc doc-contents first">
  
      <p>This module contains the cross-validation evaluation protocol.</p>
<p>This protocol will create a cross-validation task to be used in parallel and
optimization. It represents a typical cross-validation evaluation for sklearn,
handling some of the minor nuances of sklearn and it's interaction with
optimization and parallelization.</p>
<p>Please see <a class="autorefs autorefs-internal" href="#amltk.sklearn.evaluation.CVEvaluation"><code>CVEvaluation</code></a> for more
information on usage.</p>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="amltk.sklearn.evaluation.PostSplitSignature" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">PostSplitSignature</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.PostSplitSignature" class="headerlink" title="Permanent link">#</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">PostSplitSignature</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.TypeAlias" href="https://docs.python.org/3/library/typing.html#typing.TypeAlias">TypeAlias</a></span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a></span><span class="p">[</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.Trial" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial">Trial</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">,</span> <span class="s2">&quot;CVEvaluation.PostSplitInfo&quot;</span><span class="p">],</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="s2">&quot;CVEvaluation.PostSplitInfo&quot;</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>A type alias for the post split callback signature.</p>
<p>Please see <a class="autorefs autorefs-internal" href="#amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo"><code>PostSplitInfo</code></a>
for more information on the information available to this callback.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">def</span> <span class="nf">my_post_split</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">trial</span><span class="p">:</span> <span class="n">Trial</span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n">split_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="nb">eval</span><span class="p">:</span> <span class="n">CVEvalauation</span><span class="o">.</span><span class="n">PostSplitInfo</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CVEvaluation</span><span class="o">.</span><span class="n">PostSplitInfo</span><span class="p">:</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="o">...</span>
</code></pre></div>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="amltk.sklearn.evaluation.TaskTypeName" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">TaskTypeName</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.TaskTypeName" class="headerlink" title="Permanent link">#</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">TaskTypeName</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.TypeAlias" href="https://docs.python.org/3/library/typing.html#typing.TypeAlias">TypeAlias</a></span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="s2">&quot;binary&quot;</span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="s2">&quot;multiclass&quot;</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="s2">&quot;multilabel-indicator&quot;</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="s2">&quot;multiclass-multioutput&quot;</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="s2">&quot;continuous&quot;</span><span class="p">,</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="s2">&quot;continuous-multioutput&quot;</span><span class="p">,</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>A type alias for the task type name as defined by sklearn.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="amltk.sklearn.evaluation.XLike" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">XLike</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.XLike" class="headerlink" title="Permanent link">#</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">XLike</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.TypeAlias" href="https://docs.python.org/3/library/typing.html#typing.TypeAlias">TypeAlias</a></span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-external" title="pandas.DataFrame" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="numpy.ndarray" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray">ndarray</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>A type alias for X input data type as defined by sklearn.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="amltk.sklearn.evaluation.YLike" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">YLike</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.YLike" class="headerlink" title="Permanent link">#</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">YLike</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.TypeAlias" href="https://docs.python.org/3/library/typing.html#typing.TypeAlias">TypeAlias</a></span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-external" title="pandas.Series" href="https://pandas.pydata.org/docs/reference/api/pandas.Series.html#pandas.Series">Series</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="pandas.DataFrame" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="numpy.ndarray" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray">ndarray</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>A type alias for y input data type as defined by sklearn.</p>
  </div>

</div>


<div class="doc doc-object doc-class">



<h3 id="amltk.sklearn.evaluation.CVEarlyStoppingProtocol" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>          <span class="doc doc-object-name doc-class-name">CVEarlyStoppingProtocol</span>


<a href="#amltk.sklearn.evaluation.CVEarlyStoppingProtocol" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-external" title="typing.Protocol" href="https://docs.python.org/3/library/typing.html#typing.Protocol">Protocol</a></code></p>

  
      <p>Protocol for early stopping in cross-validation.</p>
<p>You class should implement the
<a class="autorefs autorefs-internal" href="#amltk.sklearn.evaluation.CVEarlyStoppingProtocol.update"><code>update()</code></a>
and <a class="autorefs autorefs-internal" href="#amltk.sklearn.evaluation.CVEarlyStoppingProtocol.should_stop"><code>should_stop()</code></a>
methods. You can optionally inherit from this class but it is not required.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">class</span> <span class="nc">MyStopper</span><span class="p">:</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">report</span><span class="p">:</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>        <span class="k">if</span> <span class="n">report</span><span class="o">.</span><span class="n">status</span> <span class="ow">is</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">SUCCESS</span><span class="p">:</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>            <span class="c1"># ... do some update logic</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="k">def</span> <span class="nf">should_stop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trial</span><span class="p">:</span> <span class="n">Trial</span><span class="p">,</span> <span class="n">split_infos</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">CVEvaluation</span><span class="o">.</span><span class="n">PostSplitInfo</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span> <span class="o">|</span> <span class="ne">Exception</span><span class="p">:</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>        <span class="n">mean_scores_up_to_current_split</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">([</span><span class="n">i</span><span class="o">.</span><span class="n">val_scores</span><span class="p">[</span><span class="s2">&quot;accuracy&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">split_infos</span><span class="p">])</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>        <span class="k">if</span> <span class="n">mean_scores_up_to_current_split</span> <span class="o">&gt;</span> <span class="mf">0.9</span><span class="p">:</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>            <span class="k">return</span> <span class="kc">False</span>  <span class="c1"># Keep going</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>            <span class="k">return</span> <span class="kc">True</span>  <span class="c1"># Stop evaluating</span>
</code></pre></div>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="amltk.sklearn.evaluation.CVEarlyStoppingProtocol.should_stop" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">should_stop</span>


<a href="#amltk.sklearn.evaluation.CVEarlyStoppingProtocol.should_stop" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">should_stop</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">trial</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.Trial" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial">Trial</a></span><span class="p">,</span> <span class="n">scores</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.CVEvaluation.SplitScores" href="#amltk.sklearn.evaluation.CVEvaluation.SplitScores">SplitScores</a></span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#Exception">Exception</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Determines whether the cross-validation should stop early.</p>



  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b> DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>trial</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The trial that is currently being evaluated.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.optimization.Trial" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial">Trial</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>scores</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The scores from the evlauated splits.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.CVEvaluation.SplitScores" href="#amltk.sklearn.evaluation.CVEvaluation.SplitScores">SplitScores</a></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>



  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#Exception">Exception</a></code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p><code>True</code> if the cross-validation should stop, <code>False</code> if it should
continue, or an <code>Exception</code> if it should stop and you'd like a custom
error to be registered with the trial.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>src/amltk/sklearn/evaluation.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1802">1802</a></span>
<span class="normal"><a href="#__codelineno-0-1803">1803</a></span>
<span class="normal"><a href="#__codelineno-0-1804">1804</a></span>
<span class="normal"><a href="#__codelineno-0-1805">1805</a></span>
<span class="normal"><a href="#__codelineno-0-1806">1806</a></span>
<span class="normal"><a href="#__codelineno-0-1807">1807</a></span>
<span class="normal"><a href="#__codelineno-0-1808">1808</a></span>
<span class="normal"><a href="#__codelineno-0-1809">1809</a></span>
<span class="normal"><a href="#__codelineno-0-1810">1810</a></span>
<span class="normal"><a href="#__codelineno-0-1811">1811</a></span>
<span class="normal"><a href="#__codelineno-0-1812">1812</a></span>
<span class="normal"><a href="#__codelineno-0-1813">1813</a></span>
<span class="normal"><a href="#__codelineno-0-1814">1814</a></span>
<span class="normal"><a href="#__codelineno-0-1815">1815</a></span>
<span class="normal"><a href="#__codelineno-0-1816">1816</a></span>
<span class="normal"><a href="#__codelineno-0-1817">1817</a></span>
<span class="normal"><a href="#__codelineno-0-1818">1818</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1802" name="__codelineno-0-1802"></a><span class="k">def</span> <span class="nf">should_stop</span><span class="p">(</span>
<a id="__codelineno-0-1803" name="__codelineno-0-1803"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-1804" name="__codelineno-0-1804"></a>    <span class="n">trial</span><span class="p">:</span> <span class="n">Trial</span><span class="p">,</span>
<a id="__codelineno-0-1805" name="__codelineno-0-1805"></a>    <span class="n">scores</span><span class="p">:</span> <span class="n">CVEvaluation</span><span class="o">.</span><span class="n">SplitScores</span><span class="p">,</span>
<a id="__codelineno-0-1806" name="__codelineno-0-1806"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span> <span class="o">|</span> <span class="ne">Exception</span><span class="p">:</span>
<a id="__codelineno-0-1807" name="__codelineno-0-1807"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Determines whether the cross-validation should stop early.</span>
<a id="__codelineno-0-1808" name="__codelineno-0-1808"></a>
<a id="__codelineno-0-1809" name="__codelineno-0-1809"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-1810" name="__codelineno-0-1810"></a><span class="sd">        trial: The trial that is currently being evaluated.</span>
<a id="__codelineno-0-1811" name="__codelineno-0-1811"></a><span class="sd">        scores: The scores from the evlauated splits.</span>
<a id="__codelineno-0-1812" name="__codelineno-0-1812"></a>
<a id="__codelineno-0-1813" name="__codelineno-0-1813"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1814" name="__codelineno-0-1814"></a><span class="sd">        `True` if the cross-validation should stop, `False` if it should</span>
<a id="__codelineno-0-1815" name="__codelineno-0-1815"></a><span class="sd">        continue, or an `Exception` if it should stop and you&#39;d like a custom</span>
<a id="__codelineno-0-1816" name="__codelineno-0-1816"></a><span class="sd">        error to be registered with the trial.</span>
<a id="__codelineno-0-1817" name="__codelineno-0-1817"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1818" name="__codelineno-0-1818"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="amltk.sklearn.evaluation.CVEarlyStoppingProtocol.update" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">update</span>


<a href="#amltk.sklearn.evaluation.CVEarlyStoppingProtocol.update" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">update</span><span class="p">(</span><span class="n">report</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Update the protocol with a new report.</p>
<p>This will be called when a trial has been completed, either successfully
or failed. You can check for successful trials by using
<a class="autorefs autorefs-internal" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report.status"><code>report.status</code></a>.</p>



  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b> DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>report</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The report from the trial.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.optimization.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>src/amltk/sklearn/evaluation.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1790">1790</a></span>
<span class="normal"><a href="#__codelineno-0-1791">1791</a></span>
<span class="normal"><a href="#__codelineno-0-1792">1792</a></span>
<span class="normal"><a href="#__codelineno-0-1793">1793</a></span>
<span class="normal"><a href="#__codelineno-0-1794">1794</a></span>
<span class="normal"><a href="#__codelineno-0-1795">1795</a></span>
<span class="normal"><a href="#__codelineno-0-1796">1796</a></span>
<span class="normal"><a href="#__codelineno-0-1797">1797</a></span>
<span class="normal"><a href="#__codelineno-0-1798">1798</a></span>
<span class="normal"><a href="#__codelineno-0-1799">1799</a></span>
<span class="normal"><a href="#__codelineno-0-1800">1800</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1790" name="__codelineno-0-1790"></a><span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">report</span><span class="p">:</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1791" name="__codelineno-0-1791"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Update the protocol with a new report.</span>
<a id="__codelineno-0-1792" name="__codelineno-0-1792"></a>
<a id="__codelineno-0-1793" name="__codelineno-0-1793"></a><span class="sd">    This will be called when a trial has been completed, either successfully</span>
<a id="__codelineno-0-1794" name="__codelineno-0-1794"></a><span class="sd">    or failed. You can check for successful trials by using</span>
<a id="__codelineno-0-1795" name="__codelineno-0-1795"></a><span class="sd">    [`report.status`][amltk.optimization.Trial.Report.status].</span>
<a id="__codelineno-0-1796" name="__codelineno-0-1796"></a>
<a id="__codelineno-0-1797" name="__codelineno-0-1797"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-1798" name="__codelineno-0-1798"></a><span class="sd">        report: The report from the trial.</span>
<a id="__codelineno-0-1799" name="__codelineno-0-1799"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1800" name="__codelineno-0-1800"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="amltk.sklearn.evaluation.CVEvaluation" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>          <span class="doc doc-object-name doc-class-name">CVEvaluation</span>


<a href="#amltk.sklearn.evaluation.CVEvaluation" class="headerlink" title="Permanent link">#</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">CVEvaluation</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">X</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.XLike" href="#amltk.sklearn.evaluation.XLike">XLike</a></span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n">y</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.YLike" href="#amltk.sklearn.evaluation.YLike">YLike</a></span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">X_test</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.XLike" href="#amltk.sklearn.evaluation.XLike">XLike</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">y_test</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.YLike" href="#amltk.sklearn.evaluation.YLike">YLike</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n">splitter</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>        <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span><span class="s2">&quot;holdout&quot;</span><span class="p">,</span> <span class="s2">&quot;cv&quot;</span><span class="p">]</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>        <span class="o">|</span> <span class="n"><span title="sklearn.model_selection.BaseShuffleSplit">BaseShuffleSplit</span></span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>        <span class="o">|</span> <span class="n"><span title="sklearn.model_selection.BaseCrossValidator">BaseCrossValidator</span></span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    <span class="p">)</span> <span class="o">=</span> <span class="s2">&quot;cv&quot;</span><span class="p">,</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    <span class="n">n_splits</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    <span class="n">holdout_size</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span> <span class="o">=</span> <span class="mf">0.33</span><span class="p">,</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="n">train_score</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    <span class="n">store_models</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>    <span class="n">additional_scorers</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><span title="sklearn.metrics._scorer._Scorer">_Scorer</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>    <span class="n">random_state</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.randomness.Seed" href="../../types/#amltk.types.Seed">Seed</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>    <span class="n">params</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>    <span class="n">task_hint</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>        <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.TaskTypeName" href="#amltk.sklearn.evaluation.TaskTypeName">TaskTypeName</a></span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>        <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span><span class="s2">&quot;classification&quot;</span><span class="p">,</span> <span class="s2">&quot;regression&quot;</span><span class="p">,</span> <span class="s2">&quot;auto&quot;</span><span class="p">]</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>    <span class="p">)</span> <span class="o">=</span> <span class="s2">&quot;auto&quot;</span><span class="p">,</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>    <span class="n">working_dir</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.store.paths.path_bucket.PathBucket" href="../../store/paths/path_bucket/#amltk.store.paths.path_bucket.PathBucket">PathBucket</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>    <span class="n">on_error</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span><span class="s2">&quot;raise&quot;</span><span class="p">,</span> <span class="s2">&quot;fail&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;fail&quot;</span><span class="p">,</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>    <span class="n">post_split</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.PostSplitSignature" href="#amltk.sklearn.evaluation.PostSplitSignature">PostSplitSignature</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>    <span class="n">post_processing</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>        <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a></span><span class="p">[[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.Node" href="../../pipeline/node/#amltk.pipeline.node.Node">Node</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo" href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo">CompleteEvalInfo</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a></span><span class="p">]</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>        <span class="o">|</span> <span class="kc">None</span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>    <span class="n">post_processing_requires_models</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="amltk.scheduling.events.Emitter" href="../../scheduling/events/#amltk.scheduling.events.Emitter">Emitter</a></code></p>

  
      <p>Cross-validation evaluation protocol.</p>
<p>This protocol will create a cross-validation task to be used in parallel and
optimization. It represents a typical cross-validation evaluation for sklearn.</p>
<p>Aside from the init parameters, it expects:
* The pipeline you are optimizing can be made into a <a class="autorefs autorefs-external" href="https://scikit-learn.org/stable/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline">sklearn.pipeline.Pipeline</a>
calling <a class="autorefs autorefs-internal" href="../../pipeline/node/#amltk.pipeline.node.Node.build"><code>.build("sklearn")</code></a>.
* The seed for the trial will be passed as a param to
<a class="autorefs autorefs-internal" href="../../pipeline/node/#amltk.pipeline.node.Node.configure"><code>.configure()</code></a>. If you have a component
that accepts a <code>random_state</code> parameter, you can use a
<a class="autorefs autorefs-internal" href="../../pipeline/node/#amltk.pipeline.node.request"><code>request()</code></a> so that it will be seeded correctly.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">amltk.sklearn</span> <span class="kn">import</span> <span class="n">CVEvaluation</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">amltk.pipeline</span> <span class="kn">import</span> <span class="n">Component</span><span class="p">,</span> <span class="n">request</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">from</span> <span class="nn">amltk.optimization</span> <span class="kn">import</span> <span class="n">Metric</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestClassifier</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">get_scorer</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_iris</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="n">pipeline</span> <span class="o">=</span> <span class="n">Component</span><span class="p">(</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    <span class="n">RandomForestClassifier</span><span class="p">,</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    <span class="n">config</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;random_state&quot;</span><span class="p">:</span> <span class="n">request</span><span class="p">(</span><span class="s2">&quot;random_state&quot;</span><span class="p">)},</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    <span class="n">space</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;n_estimators&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="s2">&quot;criterion&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;gini&quot;</span><span class="p">,</span> <span class="s2">&quot;entropy&quot;</span><span class="p">]},</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="p">)</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="n">working_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;./some-path&quot;</span><span class="p">)</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="n">X</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">load_iris</span><span class="p">(</span><span class="n">return_X_y</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="n">evaluator</span> <span class="o">=</span> <span class="n">CVEvaluation</span><span class="p">(</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>    <span class="n">X</span><span class="p">,</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>    <span class="n">y</span><span class="p">,</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>    <span class="n">n_splits</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>    <span class="n">splitter</span><span class="o">=</span><span class="s2">&quot;cv&quot;</span><span class="p">,</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>    <span class="n">additional_scorers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;roc_auc&quot;</span><span class="p">:</span> <span class="n">get_scorer</span><span class="p">(</span><span class="s2">&quot;roc_auc_ovr&quot;</span><span class="p">)},</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>    <span class="n">store_models</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>    <span class="n">train_score</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>    <span class="n">working_dir</span><span class="o">=</span><span class="n">working_dir</span><span class="p">,</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a><span class="p">)</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a><span class="n">history</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">optimize</span><span class="p">(</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>    <span class="n">target</span><span class="o">=</span><span class="n">evaluator</span><span class="o">.</span><span class="n">fn</span><span class="p">,</span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>    <span class="n">metric</span><span class="o">=</span><span class="n">Metric</span><span class="p">(</span><span class="s2">&quot;accuracy&quot;</span><span class="p">,</span> <span class="n">minimize</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">bounds</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>    <span class="n">working_dir</span><span class="o">=</span><span class="n">working_dir</span><span class="p">,</span>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>    <span class="n">max_trials</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a><span class="p">)</span>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a><span class="nb">print</span><span class="p">(</span><span class="n">history</span><span class="o">.</span><span class="n">df</span><span class="p">())</span>
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a><span class="n">evaluator</span><span class="o">.</span><span class="n">bucket</span><span class="o">.</span><span class="n">rmdir</span><span class="p">()</span>  <span class="c1"># Cleanup</span>
</code></pre></div>
<div class="result">
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>                                                     <span class="n">status</span>  <span class="o">...</span>  <span class="n">profile</span><span class="p">:</span><span class="n">cv</span><span class="p">:</span><span class="n">train_score</span><span class="p">:</span><span class="n">time</span><span class="p">:</span><span class="n">unit</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">name</span>                                                         <span class="o">...</span>                                  
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="n">config_id</span><span class="o">=</span><span class="mi">1</span><span class="n">_seed</span><span class="o">=</span><span class="mi">29923995</span><span class="n">_budget</span><span class="o">=</span><span class="n">None_instance</span><span class="o">=...</span>  <span class="n">success</span>  <span class="o">...</span>                           <span class="n">seconds</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="p">[</span><span class="mi">1</span> <span class="n">rows</span> <span class="n">x</span> <span class="mi">114</span> <span class="n">columns</span><span class="p">]</span>
</code></pre></div>
</div>
<p>If you need to pass specific configuration items to your pipeline during
configuration, you can do so using a <a class="autorefs autorefs-internal" href="../../pipeline/node/#amltk.pipeline.node.request"><code>request()</code></a>
in the config of your pipeline.</p>
<p>In the below example, we allow the pipeline to be configured with <code>"n_jobs"</code>
and pass it in to the <code>CVEvalautor</code> using the <code>params</code> argument.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">amltk.sklearn</span> <span class="kn">import</span> <span class="n">CVEvaluation</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">amltk.pipeline</span> <span class="kn">import</span> <span class="n">Component</span><span class="p">,</span> <span class="n">request</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">from</span> <span class="nn">amltk.optimization</span> <span class="kn">import</span> <span class="n">Metric</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestClassifier</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">get_scorer</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_iris</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="n">working_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;./some-path&quot;</span><span class="p">)</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="n">X</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">load_iris</span><span class="p">(</span><span class="n">return_X_y</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="n">pipeline</span> <span class="o">=</span> <span class="n">Component</span><span class="p">(</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="n">RandomForestClassifier</span><span class="p">,</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    <span class="n">config</span><span class="o">=</span><span class="p">{</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>        <span class="s2">&quot;random_state&quot;</span><span class="p">:</span> <span class="n">request</span><span class="p">(</span><span class="s2">&quot;random_state&quot;</span><span class="p">),</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>        <span class="c1"># Allow it to be configured with n_jobs</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>        <span class="s2">&quot;n_jobs&quot;</span><span class="p">:</span> <span class="n">request</span><span class="p">(</span><span class="s2">&quot;n_jobs&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>    <span class="p">},</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>    <span class="n">space</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;n_estimators&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="s2">&quot;criterion&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;gini&quot;</span><span class="p">,</span> <span class="s2">&quot;entropy&quot;</span><span class="p">]},</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="p">)</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="n">evaluator</span> <span class="o">=</span> <span class="n">CVEvaluation</span><span class="p">(</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>    <span class="n">X</span><span class="p">,</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>    <span class="n">y</span><span class="p">,</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>    <span class="n">working_dir</span><span class="o">=</span><span class="n">working_dir</span><span class="p">,</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>    <span class="c1"># Use the `configure` keyword in params to pass to the `n_jobs`</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>    <span class="c1"># Anything in the pipeline requesting `n_jobs` will get the value</span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>    <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;configure&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;n_jobs&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}}</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a><span class="p">)</span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a><span class="n">history</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">optimize</span><span class="p">(</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>    <span class="n">target</span><span class="o">=</span><span class="n">evaluator</span><span class="o">.</span><span class="n">fn</span><span class="p">,</span>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>    <span class="n">metric</span><span class="o">=</span><span class="n">Metric</span><span class="p">(</span><span class="s2">&quot;accuracy&quot;</span><span class="p">),</span>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a>    <span class="n">working_dir</span><span class="o">=</span><span class="n">working_dir</span><span class="p">,</span>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>    <span class="n">max_trials</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a><span class="p">)</span>
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a><span class="nb">print</span><span class="p">(</span><span class="n">history</span><span class="o">.</span><span class="n">df</span><span class="p">())</span>
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a><span class="n">evaluator</span><span class="o">.</span><span class="n">bucket</span><span class="o">.</span><span class="n">rmdir</span><span class="p">()</span>  <span class="c1"># Cleanup</span>
</code></pre></div>
<div class="result">
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>                                                     <span class="n">status</span>  <span class="o">...</span>  <span class="n">profile</span><span class="p">:</span><span class="n">cv</span><span class="p">:</span><span class="n">split_4</span><span class="p">:</span><span class="n">time</span><span class="p">:</span><span class="n">unit</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">name</span>                                                         <span class="o">...</span>                              
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="n">config_id</span><span class="o">=</span><span class="mi">1</span><span class="n">_seed</span><span class="o">=</span><span class="mi">1598017079</span><span class="n">_budget</span><span class="o">=</span><span class="n">None_instanc</span><span class="o">...</span>  <span class="n">success</span>  <span class="o">...</span>                       <span class="n">seconds</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="p">[</span><span class="mi">1</span> <span class="n">rows</span> <span class="n">x</span> <span class="mi">113</span> <span class="n">columns</span><span class="p">]</span>
</code></pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">CV Early Stopping</p>
<p>To see more about early stopping, please see
<a class="autorefs autorefs-internal" href="#amltk.sklearn.evaluation.CVEvaluation.cv_early_stopping_plugin"><code>CVEvaluation.cv_early_stopping_plugin()</code></a>.</p>
</div>
  



  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b> DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>X</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The features to use for training.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.XLike" href="#amltk.sklearn.evaluation.XLike">XLike</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>y</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The target to use for training.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.YLike" href="#amltk.sklearn.evaluation.YLike">YLike</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>X_test</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The features to use for testing. If provided, all
scorers will be calculated on this data as well.
Must be provided with <code>y_test=</code>.</p>
<div class="admonition tip">
<p class="admonition-title">Scorer params for test scoring</p>
<p>Due to nuances of sklearn's metadata routing, if you need to provide
parameters to the scorer for the test data, you can prefix these
with <code class="highlight"><span class="s2">&quot;test_&quot;</span></code>. For example, if you need to provide
<code>pos_label</code> to the scorer for the test data, you must provide
<code>test_pos_label</code> in the <code>params</code> argument.</p>
</div>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.XLike" href="#amltk.sklearn.evaluation.XLike">XLike</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>y_test</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The target to use for testing. If provided, all
scorers will be calculated on this data as well.
Must be provided with <code>X_test=</code>.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.YLike" href="#amltk.sklearn.evaluation.YLike">YLike</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>splitter</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The cross-validation splitter to use. This can be either
<code class="highlight"><span class="s2">&quot;holdout&quot;</span></code> or <code class="highlight"><span class="s2">&quot;cv&quot;</span></code>. Please see the related
arguments below. If a scikit-learn cross-validator is provided,
this will be used directly.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;holdout&#39;, &#39;cv&#39;] | <span title="sklearn.model_selection.BaseShuffleSplit">BaseShuffleSplit</span> | <span title="sklearn.model_selection.BaseCrossValidator">BaseCrossValidator</span></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>&#39;cv&#39;</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>n_splits</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The number of cross-validation splits to use.
This argument will be ignored if <code class="highlight"><span class="n">splitter</span><span class="o">=</span><span class="s2">&quot;holdout&quot;</span></code>
or a custom splitter is provided for <code>splitter=</code>.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>5</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>holdout_size</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The size of the holdout set to use. This argument
will be ignored if <code class="highlight"><span class="n">splitter</span><span class="o">=</span><span class="s2">&quot;cv&quot;</span></code> or a custom splitter
is provided for <code>splitter=</code>.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>0.33</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>train_score</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>Whether to score on the training data as well. This
will take extra time as predictions will be made on the
training data as well.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>False</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>store_models</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>Whether to store the trained models in the trial.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>False</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>additional_scorers</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>Additional scorers to use.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <span title="sklearn.metrics._scorer._Scorer">_Scorer</span>] | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>random_state</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The random state to use for the cross-validation
<code>splitter=</code>. If a custom splitter is provided, this will be
ignored.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.randomness.Seed" href="../../types/#amltk.types.Seed">Seed</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>params</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>Parameters to pass to the estimator, splitter or scorers.
See <a href="https://scikit-learn.org/stable/metadata_routing.html">scikit-learn.org/stable/metadata_routing.html</a> for
more information.</p>
<p>You may also additionally include the following as dictionarys:</p>
<ul>
<li><code class="highlight"><span class="s2">&quot;configure&quot;</span></code>: Parameters to pass to the pipeline
    for <a class="autorefs autorefs-internal" href="../../pipeline/node/#amltk.pipeline.node.Node.configure"><code>configure()</code></a>. Please
    the example in the class docstring for more information.</li>
<li>
<p><code class="highlight"><span class="s2">&quot;build&quot;</span></code>: Parameters to pass to the pipeline for
    <a class="autorefs autorefs-internal" href="../../pipeline/node/#amltk.pipeline.node.Node.build"><code>build()</code></a>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">imblearn.pipeline</span> <span class="kn">import</span> <span class="n">Pipeline</span> <span class="k">as</span> <span class="n">ImbalancedPipeline</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="n">CVEvaluator</span><span class="p">(</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="o">...</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">params</span><span class="o">=</span><span class="p">{</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>        <span class="s2">&quot;build&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>            <span class="s2">&quot;builder&quot;</span><span class="p">:</span> <span class="s2">&quot;sklearn&quot;</span><span class="p">,</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>            <span class="s2">&quot;pipeline_type&quot;</span><span class="p">:</span> <span class="n">ImbalancedPipeline</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>        <span class="p">}</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="p">}</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="p">)</span>
</code></pre></div>
</li>
<li>
<p><code class="highlight"><span class="s2">&quot;transform_context&quot;</span></code>: The transform context to use
    for <a class="autorefs autorefs-internal" href="../../pipeline/node/#amltk.pipeline.node.Node.configure"><code>configure()</code></a>.</p>
</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Scorer params for test scoring</p>
<p>Due to nuances of sklearn's metadata routing, if you need to provide
parameters to the scorer for the test data, you must prefix these
with <code class="highlight"><span class="s2">&quot;test_&quot;</span></code>. For example, if you need to provide
<code>pos_label</code> to the scorer for the test data, you can provide
<code>test_pos_label</code> in the <code>params</code> argument.</p>
</div>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a>] | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>task_hint</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>A string indicating the task type matching those
use by sklearn's <code>type_of_target</code>. This can be either
<code class="highlight"><span class="s2">&quot;binary&quot;</span></code>, <code class="highlight"><span class="s2">&quot;multiclass&quot;</span></code>,
<code class="highlight"><span class="s2">&quot;multilabel-indicator&quot;</span></code>, <code class="highlight"><span class="s2">&quot;continuous&quot;</span></code>,
<code class="highlight"><span class="s2">&quot;continuous-multioutput&quot;</span></code> or
<code class="highlight"><span class="s2">&quot;multiclass-multioutput&quot;</span></code>.</p>
<p>You can also provide <code class="highlight"><span class="s2">&quot;classification&quot;</span></code> or
<code class="highlight"><span class="s2">&quot;regression&quot;</span></code> for a more general hint.</p>
<p>If not provided, this will be inferred from the target data.
If you know this value, it is recommended to provide it as
sometimes the target is ambiguous and sklearn may infer
incorrectly.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.TaskTypeName" href="#amltk.sklearn.evaluation.TaskTypeName">TaskTypeName</a> | <a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;classification&#39;, &#39;regression&#39;, &#39;auto&#39;]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>&#39;auto&#39;</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>working_dir</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The directory to use for storing data. If not provided,
a temporary directory will be used. If provided as a string
or a <code>Path</code>, it will be used as the path to the directory.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a> | <a class="autorefs autorefs-internal" title="amltk.store.paths.path_bucket.PathBucket" href="../../store/paths/path_bucket/#amltk.store.paths.path_bucket.PathBucket">PathBucket</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>on_error</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>What to do if an error occurs in the task. This can be
either <code class="highlight"><span class="s2">&quot;raise&quot;</span></code> or <code class="highlight"><span class="s2">&quot;fail&quot;</span></code>. If <code class="highlight"><span class="s2">&quot;raise&quot;</span></code>,
the error will be raised and the task will fail. If <code class="highlight"><span class="s2">&quot;fail&quot;</span></code>,
the error will be caught and the task will report a failure report
with the error message stored inside.
Set this to <code class="highlight"><span class="s2">&quot;fail&quot;</span></code> if you want to continue optimization
even if some trials fail.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;raise&#39;, &#39;fail&#39;]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>&#39;fail&#39;</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>post_split</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>If provided, this callable will be called with a
<a class="autorefs autorefs-internal" href="#amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo"><code>PostSplitInfo</code></a>.</p>
<p>For example, this could be useful if you'd like to save out-of-fold
predictions for later use.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">def</span> <span class="nf">my_post_split</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">split_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n">info</span><span class="p">:</span> <span class="n">CVEvaluator</span><span class="o">.</span><span class="n">PostSplitInfo</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">X_val</span><span class="p">,</span> <span class="n">y_val</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">val</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">oof_preds</span> <span class="o">=</span> <span class="n">fitted_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_val</span><span class="p">)</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="n">split</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">current_split</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="n">info</span><span class="o">.</span><span class="n">trial</span><span class="o">.</span><span class="n">store</span><span class="p">({</span><span class="sa">f</span><span class="s2">&quot;oof_predictions_</span><span class="si">{</span><span class="n">split</span><span class="si">}</span><span class="s2">.npy&quot;</span><span class="p">:</span> <span class="n">oof_preds</span><span class="p">})</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="k">return</span> <span class="n">info</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Run in the worker</p>
<p>This callable will be pickled and sent to the worker that is
executing an evaluation. This means that you should mitigate
relying on any large objects if your callalbe is an object, as
the object will get pickled and sent to the worker. This also means
you can not rely on information obtained from other trials as when
sending the callable to a worker, it is no longer updatable from the
main process.</p>
<p>You should also avoid holding on to references to either the model
or large data that is passed in
<a class="autorefs autorefs-internal" href="#amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo"><code>PostSplitInfo</code></a>
to the function.</p>
<p>This parameter should primarily be used for callables that rely
solely on the output of the current trial and wish to store/add
additional information to the trial itself.</p>
</div>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.PostSplitSignature" href="#amltk.sklearn.evaluation.PostSplitSignature">PostSplitSignature</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>post_processing</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>If provided, this callable will be called with all of the
evaluated splits and the final report that will be returned.
This can be used to do things such as augment the final scores
if required, cleanup any resources or any other tasks that should be
run after the evaluation has completed. This will be handed a
<a class="autorefs autorefs-internal" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report"><code>Report</code></a> and a
<a class="autorefs autorefs-internal" href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo"><code>CompleteEvalInfo</code></a>,
which contains all the information about the evaluation. If your
function requires the individual models, you can set
<code>post_processing_requires_models=True</code>. By default this is <code>False</code>
as this requires having all models in memory at once.</p>
<p>This can be useful when you'd like to report the score of a bagged
model, i.e. an ensemble of all validation models. Another example
is if you'd like to add to the summary, the score of what the model
would be if refit on all the data.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">amltk.sklearn.voting</span> <span class="kn">import</span> <span class="n">voting_with_prefitted_estimators</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1"># Compute the test score of all fold models bagged together</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="k">def</span> <span class="nf">my_post_processing</span><span class="p">(</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">report</span><span class="p">:</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">pipeline</span><span class="p">:</span> <span class="n">Node</span><span class="p">,</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n">info</span><span class="p">:</span> <span class="n">CVEvaluator</span><span class="o">.</span><span class="n">CompleteEvalInfo</span><span class="p">,</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">:</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="n">bagged_model</span> <span class="o">=</span> <span class="n">voting_with_prefitted_estimators</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">models</span><span class="p">)</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="n">acc</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">scorers</span><span class="p">[</span><span class="s2">&quot;accuracy&quot;</span><span class="p">]</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    <span class="n">bagged_score</span> <span class="o">=</span> <span class="n">acc</span><span class="p">(</span><span class="n">bagged_model</span><span class="p">,</span> <span class="n">info</span><span class="o">.</span><span class="n">X_test</span><span class="p">,</span> <span class="n">info</span><span class="o">.</span><span class="n">y_test</span><span class="p">)</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    <span class="n">report</span><span class="o">.</span><span class="n">summary</span><span class="p">[</span><span class="s2">&quot;bagged_test_score&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bagged_score</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    <span class="k">return</span> <span class="n">report</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Run in the worker</p>
<p>This callable will be pickled and sent to the worker that is
executing an evaluation. This means that you should mitigate
relying on any large objects if your callalbe is an object, as
the object will get pickled and sent to the worker. This also means
you can not rely on information obtained from other trials as when
sending the callable to a worker, it is no longer updatable from the
main process.</p>
<p>This parameter should primarily be used for callables that will
augment the report or what is stored with the trial. It should
rely solely on the current trial to prevent unexpected issues.</p>
</div>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a>[[<a class="autorefs autorefs-internal" title="amltk.optimization.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a>, <a class="autorefs autorefs-internal" title="amltk.pipeline.Node" href="../../pipeline/node/#amltk.pipeline.node.Node">Node</a>, <a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo" href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo">CompleteEvalInfo</a>], <a class="autorefs autorefs-internal" title="amltk.optimization.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a>] | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>post_processing_requires_models</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>Whether the <code>post_processing</code> function
requires the models to be passed to it. If <code>True</code>, the models will
be passed to the function in the <code>CompleteEvalInfo</code> object. If <code>False</code>,
the models will not be passed to the function. By default this is
<code>False</code> as this requires having all models in memory at once.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>False</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

                <details class="quote">
                  <summary>Source code in <code>src/amltk/sklearn/evaluation.py</code></summary>
                  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1308">1308</a></span>
<span class="normal"><a href="#__codelineno-0-1309">1309</a></span>
<span class="normal"><a href="#__codelineno-0-1310">1310</a></span>
<span class="normal"><a href="#__codelineno-0-1311">1311</a></span>
<span class="normal"><a href="#__codelineno-0-1312">1312</a></span>
<span class="normal"><a href="#__codelineno-0-1313">1313</a></span>
<span class="normal"><a href="#__codelineno-0-1314">1314</a></span>
<span class="normal"><a href="#__codelineno-0-1315">1315</a></span>
<span class="normal"><a href="#__codelineno-0-1316">1316</a></span>
<span class="normal"><a href="#__codelineno-0-1317">1317</a></span>
<span class="normal"><a href="#__codelineno-0-1318">1318</a></span>
<span class="normal"><a href="#__codelineno-0-1319">1319</a></span>
<span class="normal"><a href="#__codelineno-0-1320">1320</a></span>
<span class="normal"><a href="#__codelineno-0-1321">1321</a></span>
<span class="normal"><a href="#__codelineno-0-1322">1322</a></span>
<span class="normal"><a href="#__codelineno-0-1323">1323</a></span>
<span class="normal"><a href="#__codelineno-0-1324">1324</a></span>
<span class="normal"><a href="#__codelineno-0-1325">1325</a></span>
<span class="normal"><a href="#__codelineno-0-1326">1326</a></span>
<span class="normal"><a href="#__codelineno-0-1327">1327</a></span>
<span class="normal"><a href="#__codelineno-0-1328">1328</a></span>
<span class="normal"><a href="#__codelineno-0-1329">1329</a></span>
<span class="normal"><a href="#__codelineno-0-1330">1330</a></span>
<span class="normal"><a href="#__codelineno-0-1331">1331</a></span>
<span class="normal"><a href="#__codelineno-0-1332">1332</a></span>
<span class="normal"><a href="#__codelineno-0-1333">1333</a></span>
<span class="normal"><a href="#__codelineno-0-1334">1334</a></span>
<span class="normal"><a href="#__codelineno-0-1335">1335</a></span>
<span class="normal"><a href="#__codelineno-0-1336">1336</a></span>
<span class="normal"><a href="#__codelineno-0-1337">1337</a></span>
<span class="normal"><a href="#__codelineno-0-1338">1338</a></span>
<span class="normal"><a href="#__codelineno-0-1339">1339</a></span>
<span class="normal"><a href="#__codelineno-0-1340">1340</a></span>
<span class="normal"><a href="#__codelineno-0-1341">1341</a></span>
<span class="normal"><a href="#__codelineno-0-1342">1342</a></span>
<span class="normal"><a href="#__codelineno-0-1343">1343</a></span>
<span class="normal"><a href="#__codelineno-0-1344">1344</a></span>
<span class="normal"><a href="#__codelineno-0-1345">1345</a></span>
<span class="normal"><a href="#__codelineno-0-1346">1346</a></span>
<span class="normal"><a href="#__codelineno-0-1347">1347</a></span>
<span class="normal"><a href="#__codelineno-0-1348">1348</a></span>
<span class="normal"><a href="#__codelineno-0-1349">1349</a></span>
<span class="normal"><a href="#__codelineno-0-1350">1350</a></span>
<span class="normal"><a href="#__codelineno-0-1351">1351</a></span>
<span class="normal"><a href="#__codelineno-0-1352">1352</a></span>
<span class="normal"><a href="#__codelineno-0-1353">1353</a></span>
<span class="normal"><a href="#__codelineno-0-1354">1354</a></span>
<span class="normal"><a href="#__codelineno-0-1355">1355</a></span>
<span class="normal"><a href="#__codelineno-0-1356">1356</a></span>
<span class="normal"><a href="#__codelineno-0-1357">1357</a></span>
<span class="normal"><a href="#__codelineno-0-1358">1358</a></span>
<span class="normal"><a href="#__codelineno-0-1359">1359</a></span>
<span class="normal"><a href="#__codelineno-0-1360">1360</a></span>
<span class="normal"><a href="#__codelineno-0-1361">1361</a></span>
<span class="normal"><a href="#__codelineno-0-1362">1362</a></span>
<span class="normal"><a href="#__codelineno-0-1363">1363</a></span>
<span class="normal"><a href="#__codelineno-0-1364">1364</a></span>
<span class="normal"><a href="#__codelineno-0-1365">1365</a></span>
<span class="normal"><a href="#__codelineno-0-1366">1366</a></span>
<span class="normal"><a href="#__codelineno-0-1367">1367</a></span>
<span class="normal"><a href="#__codelineno-0-1368">1368</a></span>
<span class="normal"><a href="#__codelineno-0-1369">1369</a></span>
<span class="normal"><a href="#__codelineno-0-1370">1370</a></span>
<span class="normal"><a href="#__codelineno-0-1371">1371</a></span>
<span class="normal"><a href="#__codelineno-0-1372">1372</a></span>
<span class="normal"><a href="#__codelineno-0-1373">1373</a></span>
<span class="normal"><a href="#__codelineno-0-1374">1374</a></span>
<span class="normal"><a href="#__codelineno-0-1375">1375</a></span>
<span class="normal"><a href="#__codelineno-0-1376">1376</a></span>
<span class="normal"><a href="#__codelineno-0-1377">1377</a></span>
<span class="normal"><a href="#__codelineno-0-1378">1378</a></span>
<span class="normal"><a href="#__codelineno-0-1379">1379</a></span>
<span class="normal"><a href="#__codelineno-0-1380">1380</a></span>
<span class="normal"><a href="#__codelineno-0-1381">1381</a></span>
<span class="normal"><a href="#__codelineno-0-1382">1382</a></span>
<span class="normal"><a href="#__codelineno-0-1383">1383</a></span>
<span class="normal"><a href="#__codelineno-0-1384">1384</a></span>
<span class="normal"><a href="#__codelineno-0-1385">1385</a></span>
<span class="normal"><a href="#__codelineno-0-1386">1386</a></span>
<span class="normal"><a href="#__codelineno-0-1387">1387</a></span>
<span class="normal"><a href="#__codelineno-0-1388">1388</a></span>
<span class="normal"><a href="#__codelineno-0-1389">1389</a></span>
<span class="normal"><a href="#__codelineno-0-1390">1390</a></span>
<span class="normal"><a href="#__codelineno-0-1391">1391</a></span>
<span class="normal"><a href="#__codelineno-0-1392">1392</a></span>
<span class="normal"><a href="#__codelineno-0-1393">1393</a></span>
<span class="normal"><a href="#__codelineno-0-1394">1394</a></span>
<span class="normal"><a href="#__codelineno-0-1395">1395</a></span>
<span class="normal"><a href="#__codelineno-0-1396">1396</a></span>
<span class="normal"><a href="#__codelineno-0-1397">1397</a></span>
<span class="normal"><a href="#__codelineno-0-1398">1398</a></span>
<span class="normal"><a href="#__codelineno-0-1399">1399</a></span>
<span class="normal"><a href="#__codelineno-0-1400">1400</a></span>
<span class="normal"><a href="#__codelineno-0-1401">1401</a></span>
<span class="normal"><a href="#__codelineno-0-1402">1402</a></span>
<span class="normal"><a href="#__codelineno-0-1403">1403</a></span>
<span class="normal"><a href="#__codelineno-0-1404">1404</a></span>
<span class="normal"><a href="#__codelineno-0-1405">1405</a></span>
<span class="normal"><a href="#__codelineno-0-1406">1406</a></span>
<span class="normal"><a href="#__codelineno-0-1407">1407</a></span>
<span class="normal"><a href="#__codelineno-0-1408">1408</a></span>
<span class="normal"><a href="#__codelineno-0-1409">1409</a></span>
<span class="normal"><a href="#__codelineno-0-1410">1410</a></span>
<span class="normal"><a href="#__codelineno-0-1411">1411</a></span>
<span class="normal"><a href="#__codelineno-0-1412">1412</a></span>
<span class="normal"><a href="#__codelineno-0-1413">1413</a></span>
<span class="normal"><a href="#__codelineno-0-1414">1414</a></span>
<span class="normal"><a href="#__codelineno-0-1415">1415</a></span>
<span class="normal"><a href="#__codelineno-0-1416">1416</a></span>
<span class="normal"><a href="#__codelineno-0-1417">1417</a></span>
<span class="normal"><a href="#__codelineno-0-1418">1418</a></span>
<span class="normal"><a href="#__codelineno-0-1419">1419</a></span>
<span class="normal"><a href="#__codelineno-0-1420">1420</a></span>
<span class="normal"><a href="#__codelineno-0-1421">1421</a></span>
<span class="normal"><a href="#__codelineno-0-1422">1422</a></span>
<span class="normal"><a href="#__codelineno-0-1423">1423</a></span>
<span class="normal"><a href="#__codelineno-0-1424">1424</a></span>
<span class="normal"><a href="#__codelineno-0-1425">1425</a></span>
<span class="normal"><a href="#__codelineno-0-1426">1426</a></span>
<span class="normal"><a href="#__codelineno-0-1427">1427</a></span>
<span class="normal"><a href="#__codelineno-0-1428">1428</a></span>
<span class="normal"><a href="#__codelineno-0-1429">1429</a></span>
<span class="normal"><a href="#__codelineno-0-1430">1430</a></span>
<span class="normal"><a href="#__codelineno-0-1431">1431</a></span>
<span class="normal"><a href="#__codelineno-0-1432">1432</a></span>
<span class="normal"><a href="#__codelineno-0-1433">1433</a></span>
<span class="normal"><a href="#__codelineno-0-1434">1434</a></span>
<span class="normal"><a href="#__codelineno-0-1435">1435</a></span>
<span class="normal"><a href="#__codelineno-0-1436">1436</a></span>
<span class="normal"><a href="#__codelineno-0-1437">1437</a></span>
<span class="normal"><a href="#__codelineno-0-1438">1438</a></span>
<span class="normal"><a href="#__codelineno-0-1439">1439</a></span>
<span class="normal"><a href="#__codelineno-0-1440">1440</a></span>
<span class="normal"><a href="#__codelineno-0-1441">1441</a></span>
<span class="normal"><a href="#__codelineno-0-1442">1442</a></span>
<span class="normal"><a href="#__codelineno-0-1443">1443</a></span>
<span class="normal"><a href="#__codelineno-0-1444">1444</a></span>
<span class="normal"><a href="#__codelineno-0-1445">1445</a></span>
<span class="normal"><a href="#__codelineno-0-1446">1446</a></span>
<span class="normal"><a href="#__codelineno-0-1447">1447</a></span>
<span class="normal"><a href="#__codelineno-0-1448">1448</a></span>
<span class="normal"><a href="#__codelineno-0-1449">1449</a></span>
<span class="normal"><a href="#__codelineno-0-1450">1450</a></span>
<span class="normal"><a href="#__codelineno-0-1451">1451</a></span>
<span class="normal"><a href="#__codelineno-0-1452">1452</a></span>
<span class="normal"><a href="#__codelineno-0-1453">1453</a></span>
<span class="normal"><a href="#__codelineno-0-1454">1454</a></span>
<span class="normal"><a href="#__codelineno-0-1455">1455</a></span>
<span class="normal"><a href="#__codelineno-0-1456">1456</a></span>
<span class="normal"><a href="#__codelineno-0-1457">1457</a></span>
<span class="normal"><a href="#__codelineno-0-1458">1458</a></span>
<span class="normal"><a href="#__codelineno-0-1459">1459</a></span>
<span class="normal"><a href="#__codelineno-0-1460">1460</a></span>
<span class="normal"><a href="#__codelineno-0-1461">1461</a></span>
<span class="normal"><a href="#__codelineno-0-1462">1462</a></span>
<span class="normal"><a href="#__codelineno-0-1463">1463</a></span>
<span class="normal"><a href="#__codelineno-0-1464">1464</a></span>
<span class="normal"><a href="#__codelineno-0-1465">1465</a></span>
<span class="normal"><a href="#__codelineno-0-1466">1466</a></span>
<span class="normal"><a href="#__codelineno-0-1467">1467</a></span>
<span class="normal"><a href="#__codelineno-0-1468">1468</a></span>
<span class="normal"><a href="#__codelineno-0-1469">1469</a></span>
<span class="normal"><a href="#__codelineno-0-1470">1470</a></span>
<span class="normal"><a href="#__codelineno-0-1471">1471</a></span>
<span class="normal"><a href="#__codelineno-0-1472">1472</a></span>
<span class="normal"><a href="#__codelineno-0-1473">1473</a></span>
<span class="normal"><a href="#__codelineno-0-1474">1474</a></span>
<span class="normal"><a href="#__codelineno-0-1475">1475</a></span>
<span class="normal"><a href="#__codelineno-0-1476">1476</a></span>
<span class="normal"><a href="#__codelineno-0-1477">1477</a></span>
<span class="normal"><a href="#__codelineno-0-1478">1478</a></span>
<span class="normal"><a href="#__codelineno-0-1479">1479</a></span>
<span class="normal"><a href="#__codelineno-0-1480">1480</a></span>
<span class="normal"><a href="#__codelineno-0-1481">1481</a></span>
<span class="normal"><a href="#__codelineno-0-1482">1482</a></span>
<span class="normal"><a href="#__codelineno-0-1483">1483</a></span>
<span class="normal"><a href="#__codelineno-0-1484">1484</a></span>
<span class="normal"><a href="#__codelineno-0-1485">1485</a></span>
<span class="normal"><a href="#__codelineno-0-1486">1486</a></span>
<span class="normal"><a href="#__codelineno-0-1487">1487</a></span>
<span class="normal"><a href="#__codelineno-0-1488">1488</a></span>
<span class="normal"><a href="#__codelineno-0-1489">1489</a></span>
<span class="normal"><a href="#__codelineno-0-1490">1490</a></span>
<span class="normal"><a href="#__codelineno-0-1491">1491</a></span>
<span class="normal"><a href="#__codelineno-0-1492">1492</a></span>
<span class="normal"><a href="#__codelineno-0-1493">1493</a></span>
<span class="normal"><a href="#__codelineno-0-1494">1494</a></span>
<span class="normal"><a href="#__codelineno-0-1495">1495</a></span>
<span class="normal"><a href="#__codelineno-0-1496">1496</a></span>
<span class="normal"><a href="#__codelineno-0-1497">1497</a></span>
<span class="normal"><a href="#__codelineno-0-1498">1498</a></span>
<span class="normal"><a href="#__codelineno-0-1499">1499</a></span>
<span class="normal"><a href="#__codelineno-0-1500">1500</a></span>
<span class="normal"><a href="#__codelineno-0-1501">1501</a></span>
<span class="normal"><a href="#__codelineno-0-1502">1502</a></span>
<span class="normal"><a href="#__codelineno-0-1503">1503</a></span>
<span class="normal"><a href="#__codelineno-0-1504">1504</a></span>
<span class="normal"><a href="#__codelineno-0-1505">1505</a></span>
<span class="normal"><a href="#__codelineno-0-1506">1506</a></span>
<span class="normal"><a href="#__codelineno-0-1507">1507</a></span>
<span class="normal"><a href="#__codelineno-0-1508">1508</a></span>
<span class="normal"><a href="#__codelineno-0-1509">1509</a></span>
<span class="normal"><a href="#__codelineno-0-1510">1510</a></span>
<span class="normal"><a href="#__codelineno-0-1511">1511</a></span>
<span class="normal"><a href="#__codelineno-0-1512">1512</a></span>
<span class="normal"><a href="#__codelineno-0-1513">1513</a></span>
<span class="normal"><a href="#__codelineno-0-1514">1514</a></span>
<span class="normal"><a href="#__codelineno-0-1515">1515</a></span>
<span class="normal"><a href="#__codelineno-0-1516">1516</a></span>
<span class="normal"><a href="#__codelineno-0-1517">1517</a></span>
<span class="normal"><a href="#__codelineno-0-1518">1518</a></span>
<span class="normal"><a href="#__codelineno-0-1519">1519</a></span>
<span class="normal"><a href="#__codelineno-0-1520">1520</a></span>
<span class="normal"><a href="#__codelineno-0-1521">1521</a></span>
<span class="normal"><a href="#__codelineno-0-1522">1522</a></span>
<span class="normal"><a href="#__codelineno-0-1523">1523</a></span>
<span class="normal"><a href="#__codelineno-0-1524">1524</a></span>
<span class="normal"><a href="#__codelineno-0-1525">1525</a></span>
<span class="normal"><a href="#__codelineno-0-1526">1526</a></span>
<span class="normal"><a href="#__codelineno-0-1527">1527</a></span>
<span class="normal"><a href="#__codelineno-0-1528">1528</a></span>
<span class="normal"><a href="#__codelineno-0-1529">1529</a></span>
<span class="normal"><a href="#__codelineno-0-1530">1530</a></span>
<span class="normal"><a href="#__codelineno-0-1531">1531</a></span>
<span class="normal"><a href="#__codelineno-0-1532">1532</a></span>
<span class="normal"><a href="#__codelineno-0-1533">1533</a></span>
<span class="normal"><a href="#__codelineno-0-1534">1534</a></span>
<span class="normal"><a href="#__codelineno-0-1535">1535</a></span>
<span class="normal"><a href="#__codelineno-0-1536">1536</a></span>
<span class="normal"><a href="#__codelineno-0-1537">1537</a></span>
<span class="normal"><a href="#__codelineno-0-1538">1538</a></span>
<span class="normal"><a href="#__codelineno-0-1539">1539</a></span>
<span class="normal"><a href="#__codelineno-0-1540">1540</a></span>
<span class="normal"><a href="#__codelineno-0-1541">1541</a></span>
<span class="normal"><a href="#__codelineno-0-1542">1542</a></span>
<span class="normal"><a href="#__codelineno-0-1543">1543</a></span>
<span class="normal"><a href="#__codelineno-0-1544">1544</a></span>
<span class="normal"><a href="#__codelineno-0-1545">1545</a></span>
<span class="normal"><a href="#__codelineno-0-1546">1546</a></span>
<span class="normal"><a href="#__codelineno-0-1547">1547</a></span>
<span class="normal"><a href="#__codelineno-0-1548">1548</a></span>
<span class="normal"><a href="#__codelineno-0-1549">1549</a></span>
<span class="normal"><a href="#__codelineno-0-1550">1550</a></span>
<span class="normal"><a href="#__codelineno-0-1551">1551</a></span>
<span class="normal"><a href="#__codelineno-0-1552">1552</a></span>
<span class="normal"><a href="#__codelineno-0-1553">1553</a></span>
<span class="normal"><a href="#__codelineno-0-1554">1554</a></span>
<span class="normal"><a href="#__codelineno-0-1555">1555</a></span>
<span class="normal"><a href="#__codelineno-0-1556">1556</a></span>
<span class="normal"><a href="#__codelineno-0-1557">1557</a></span>
<span class="normal"><a href="#__codelineno-0-1558">1558</a></span>
<span class="normal"><a href="#__codelineno-0-1559">1559</a></span>
<span class="normal"><a href="#__codelineno-0-1560">1560</a></span>
<span class="normal"><a href="#__codelineno-0-1561">1561</a></span>
<span class="normal"><a href="#__codelineno-0-1562">1562</a></span>
<span class="normal"><a href="#__codelineno-0-1563">1563</a></span>
<span class="normal"><a href="#__codelineno-0-1564">1564</a></span>
<span class="normal"><a href="#__codelineno-0-1565">1565</a></span>
<span class="normal"><a href="#__codelineno-0-1566">1566</a></span>
<span class="normal"><a href="#__codelineno-0-1567">1567</a></span>
<span class="normal"><a href="#__codelineno-0-1568">1568</a></span>
<span class="normal"><a href="#__codelineno-0-1569">1569</a></span>
<span class="normal"><a href="#__codelineno-0-1570">1570</a></span>
<span class="normal"><a href="#__codelineno-0-1571">1571</a></span>
<span class="normal"><a href="#__codelineno-0-1572">1572</a></span>
<span class="normal"><a href="#__codelineno-0-1573">1573</a></span>
<span class="normal"><a href="#__codelineno-0-1574">1574</a></span>
<span class="normal"><a href="#__codelineno-0-1575">1575</a></span>
<span class="normal"><a href="#__codelineno-0-1576">1576</a></span>
<span class="normal"><a href="#__codelineno-0-1577">1577</a></span>
<span class="normal"><a href="#__codelineno-0-1578">1578</a></span>
<span class="normal"><a href="#__codelineno-0-1579">1579</a></span>
<span class="normal"><a href="#__codelineno-0-1580">1580</a></span>
<span class="normal"><a href="#__codelineno-0-1581">1581</a></span>
<span class="normal"><a href="#__codelineno-0-1582">1582</a></span>
<span class="normal"><a href="#__codelineno-0-1583">1583</a></span>
<span class="normal"><a href="#__codelineno-0-1584">1584</a></span>
<span class="normal"><a href="#__codelineno-0-1585">1585</a></span>
<span class="normal"><a href="#__codelineno-0-1586">1586</a></span>
<span class="normal"><a href="#__codelineno-0-1587">1587</a></span>
<span class="normal"><a href="#__codelineno-0-1588">1588</a></span>
<span class="normal"><a href="#__codelineno-0-1589">1589</a></span>
<span class="normal"><a href="#__codelineno-0-1590">1590</a></span>
<span class="normal"><a href="#__codelineno-0-1591">1591</a></span>
<span class="normal"><a href="#__codelineno-0-1592">1592</a></span>
<span class="normal"><a href="#__codelineno-0-1593">1593</a></span>
<span class="normal"><a href="#__codelineno-0-1594">1594</a></span>
<span class="normal"><a href="#__codelineno-0-1595">1595</a></span>
<span class="normal"><a href="#__codelineno-0-1596">1596</a></span>
<span class="normal"><a href="#__codelineno-0-1597">1597</a></span>
<span class="normal"><a href="#__codelineno-0-1598">1598</a></span>
<span class="normal"><a href="#__codelineno-0-1599">1599</a></span>
<span class="normal"><a href="#__codelineno-0-1600">1600</a></span>
<span class="normal"><a href="#__codelineno-0-1601">1601</a></span>
<span class="normal"><a href="#__codelineno-0-1602">1602</a></span>
<span class="normal"><a href="#__codelineno-0-1603">1603</a></span>
<span class="normal"><a href="#__codelineno-0-1604">1604</a></span>
<span class="normal"><a href="#__codelineno-0-1605">1605</a></span>
<span class="normal"><a href="#__codelineno-0-1606">1606</a></span>
<span class="normal"><a href="#__codelineno-0-1607">1607</a></span>
<span class="normal"><a href="#__codelineno-0-1608">1608</a></span>
<span class="normal"><a href="#__codelineno-0-1609">1609</a></span>
<span class="normal"><a href="#__codelineno-0-1610">1610</a></span>
<span class="normal"><a href="#__codelineno-0-1611">1611</a></span>
<span class="normal"><a href="#__codelineno-0-1612">1612</a></span>
<span class="normal"><a href="#__codelineno-0-1613">1613</a></span>
<span class="normal"><a href="#__codelineno-0-1614">1614</a></span>
<span class="normal"><a href="#__codelineno-0-1615">1615</a></span>
<span class="normal"><a href="#__codelineno-0-1616">1616</a></span>
<span class="normal"><a href="#__codelineno-0-1617">1617</a></span>
<span class="normal"><a href="#__codelineno-0-1618">1618</a></span>
<span class="normal"><a href="#__codelineno-0-1619">1619</a></span>
<span class="normal"><a href="#__codelineno-0-1620">1620</a></span>
<span class="normal"><a href="#__codelineno-0-1621">1621</a></span>
<span class="normal"><a href="#__codelineno-0-1622">1622</a></span>
<span class="normal"><a href="#__codelineno-0-1623">1623</a></span>
<span class="normal"><a href="#__codelineno-0-1624">1624</a></span>
<span class="normal"><a href="#__codelineno-0-1625">1625</a></span>
<span class="normal"><a href="#__codelineno-0-1626">1626</a></span>
<span class="normal"><a href="#__codelineno-0-1627">1627</a></span>
<span class="normal"><a href="#__codelineno-0-1628">1628</a></span>
<span class="normal"><a href="#__codelineno-0-1629">1629</a></span>
<span class="normal"><a href="#__codelineno-0-1630">1630</a></span>
<span class="normal"><a href="#__codelineno-0-1631">1631</a></span>
<span class="normal"><a href="#__codelineno-0-1632">1632</a></span>
<span class="normal"><a href="#__codelineno-0-1633">1633</a></span>
<span class="normal"><a href="#__codelineno-0-1634">1634</a></span>
<span class="normal"><a href="#__codelineno-0-1635">1635</a></span>
<span class="normal"><a href="#__codelineno-0-1636">1636</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1308" name="__codelineno-0-1308"></a><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>  <span class="c1"># noqa: PLR0913</span>
<a id="__codelineno-0-1309" name="__codelineno-0-1309"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-1310" name="__codelineno-0-1310"></a>    <span class="n">X</span><span class="p">:</span> <span class="n">XLike</span><span class="p">,</span>  <span class="c1"># noqa: N803</span>
<a id="__codelineno-0-1311" name="__codelineno-0-1311"></a>    <span class="n">y</span><span class="p">:</span> <span class="n">YLike</span><span class="p">,</span>
<a id="__codelineno-0-1312" name="__codelineno-0-1312"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-1313" name="__codelineno-0-1313"></a>    <span class="n">X_test</span><span class="p">:</span> <span class="n">XLike</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>  <span class="c1"># noqa: N803</span>
<a id="__codelineno-0-1314" name="__codelineno-0-1314"></a>    <span class="n">y_test</span><span class="p">:</span> <span class="n">YLike</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1315" name="__codelineno-0-1315"></a>    <span class="n">splitter</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-1316" name="__codelineno-0-1316"></a>        <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;holdout&quot;</span><span class="p">,</span> <span class="s2">&quot;cv&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="n">BaseShuffleSplit</span> <span class="o">|</span> <span class="n">BaseCrossValidator</span>
<a id="__codelineno-0-1317" name="__codelineno-0-1317"></a>    <span class="p">)</span> <span class="o">=</span> <span class="s2">&quot;cv&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1318" name="__codelineno-0-1318"></a>    <span class="n">n_splits</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>  <span class="c1"># sklearn default</span>
<a id="__codelineno-0-1319" name="__codelineno-0-1319"></a>    <span class="n">holdout_size</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.33</span><span class="p">,</span>
<a id="__codelineno-0-1320" name="__codelineno-0-1320"></a>    <span class="n">train_score</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-1321" name="__codelineno-0-1321"></a>    <span class="n">store_models</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-1322" name="__codelineno-0-1322"></a>    <span class="n">additional_scorers</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">_Scorer</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1323" name="__codelineno-0-1323"></a>    <span class="n">random_state</span><span class="p">:</span> <span class="n">Seed</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>  <span class="c1"># Only used if cv is an int/float</span>
<a id="__codelineno-0-1324" name="__codelineno-0-1324"></a>    <span class="n">params</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1325" name="__codelineno-0-1325"></a>    <span class="n">task_hint</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-1326" name="__codelineno-0-1326"></a>        <span class="n">TaskTypeName</span> <span class="o">|</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;classification&quot;</span><span class="p">,</span> <span class="s2">&quot;regression&quot;</span><span class="p">,</span> <span class="s2">&quot;auto&quot;</span><span class="p">]</span>
<a id="__codelineno-0-1327" name="__codelineno-0-1327"></a>    <span class="p">)</span> <span class="o">=</span> <span class="s2">&quot;auto&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1328" name="__codelineno-0-1328"></a>    <span class="n">working_dir</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span> <span class="o">|</span> <span class="n">PathBucket</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1329" name="__codelineno-0-1329"></a>    <span class="n">on_error</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;raise&quot;</span><span class="p">,</span> <span class="s2">&quot;fail&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;fail&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1330" name="__codelineno-0-1330"></a>    <span class="n">post_split</span><span class="p">:</span> <span class="n">PostSplitSignature</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1331" name="__codelineno-0-1331"></a>    <span class="n">post_processing</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-1332" name="__codelineno-0-1332"></a>        <span class="n">Callable</span><span class="p">[[</span><span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">,</span> <span class="n">Node</span><span class="p">,</span> <span class="n">CVEvaluation</span><span class="o">.</span><span class="n">CompleteEvalInfo</span><span class="p">],</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">]</span>
<a id="__codelineno-0-1333" name="__codelineno-0-1333"></a>        <span class="o">|</span> <span class="kc">None</span>
<a id="__codelineno-0-1334" name="__codelineno-0-1334"></a>    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1335" name="__codelineno-0-1335"></a>    <span class="n">post_processing_requires_models</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-1336" name="__codelineno-0-1336"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1337" name="__codelineno-0-1337"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the evaluation protocol.</span>
<a id="__codelineno-0-1338" name="__codelineno-0-1338"></a>
<a id="__codelineno-0-1339" name="__codelineno-0-1339"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-1340" name="__codelineno-0-1340"></a><span class="sd">        X: The features to use for training.</span>
<a id="__codelineno-0-1341" name="__codelineno-0-1341"></a><span class="sd">        y: The target to use for training.</span>
<a id="__codelineno-0-1342" name="__codelineno-0-1342"></a><span class="sd">        X_test: The features to use for testing. If provided, all</span>
<a id="__codelineno-0-1343" name="__codelineno-0-1343"></a><span class="sd">            scorers will be calculated on this data as well.</span>
<a id="__codelineno-0-1344" name="__codelineno-0-1344"></a><span class="sd">            Must be provided with `y_test=`.</span>
<a id="__codelineno-0-1345" name="__codelineno-0-1345"></a>
<a id="__codelineno-0-1346" name="__codelineno-0-1346"></a><span class="sd">            !!! tip &quot;Scorer params for test scoring&quot;</span>
<a id="__codelineno-0-1347" name="__codelineno-0-1347"></a>
<a id="__codelineno-0-1348" name="__codelineno-0-1348"></a><span class="sd">                Due to nuances of sklearn&#39;s metadata routing, if you need to provide</span>
<a id="__codelineno-0-1349" name="__codelineno-0-1349"></a><span class="sd">                parameters to the scorer for the test data, you can prefix these</span>
<a id="__codelineno-0-1350" name="__codelineno-0-1350"></a><span class="sd">                with `#!python &quot;test_&quot;`. For example, if you need to provide</span>
<a id="__codelineno-0-1351" name="__codelineno-0-1351"></a><span class="sd">                `pos_label` to the scorer for the test data, you must provide</span>
<a id="__codelineno-0-1352" name="__codelineno-0-1352"></a><span class="sd">                `test_pos_label` in the `params` argument.</span>
<a id="__codelineno-0-1353" name="__codelineno-0-1353"></a>
<a id="__codelineno-0-1354" name="__codelineno-0-1354"></a><span class="sd">        y_test: The target to use for testing. If provided, all</span>
<a id="__codelineno-0-1355" name="__codelineno-0-1355"></a><span class="sd">            scorers will be calculated on this data as well.</span>
<a id="__codelineno-0-1356" name="__codelineno-0-1356"></a><span class="sd">            Must be provided with `X_test=`.</span>
<a id="__codelineno-0-1357" name="__codelineno-0-1357"></a><span class="sd">        splitter: The cross-validation splitter to use. This can be either</span>
<a id="__codelineno-0-1358" name="__codelineno-0-1358"></a><span class="sd">            `#!python &quot;holdout&quot;` or `#!python &quot;cv&quot;`. Please see the related</span>
<a id="__codelineno-0-1359" name="__codelineno-0-1359"></a><span class="sd">            arguments below. If a scikit-learn cross-validator is provided,</span>
<a id="__codelineno-0-1360" name="__codelineno-0-1360"></a><span class="sd">            this will be used directly.</span>
<a id="__codelineno-0-1361" name="__codelineno-0-1361"></a><span class="sd">        n_splits: The number of cross-validation splits to use.</span>
<a id="__codelineno-0-1362" name="__codelineno-0-1362"></a><span class="sd">            This argument will be ignored if `#!python splitter=&quot;holdout&quot;`</span>
<a id="__codelineno-0-1363" name="__codelineno-0-1363"></a><span class="sd">            or a custom splitter is provided for `splitter=`.</span>
<a id="__codelineno-0-1364" name="__codelineno-0-1364"></a><span class="sd">        holdout_size: The size of the holdout set to use. This argument</span>
<a id="__codelineno-0-1365" name="__codelineno-0-1365"></a><span class="sd">            will be ignored if `#!python splitter=&quot;cv&quot;` or a custom splitter</span>
<a id="__codelineno-0-1366" name="__codelineno-0-1366"></a><span class="sd">            is provided for `splitter=`.</span>
<a id="__codelineno-0-1367" name="__codelineno-0-1367"></a><span class="sd">        train_score: Whether to score on the training data as well. This</span>
<a id="__codelineno-0-1368" name="__codelineno-0-1368"></a><span class="sd">            will take extra time as predictions will be made on the</span>
<a id="__codelineno-0-1369" name="__codelineno-0-1369"></a><span class="sd">            training data as well.</span>
<a id="__codelineno-0-1370" name="__codelineno-0-1370"></a><span class="sd">        store_models: Whether to store the trained models in the trial.</span>
<a id="__codelineno-0-1371" name="__codelineno-0-1371"></a><span class="sd">        additional_scorers: Additional scorers to use.</span>
<a id="__codelineno-0-1372" name="__codelineno-0-1372"></a><span class="sd">        random_state: The random state to use for the cross-validation</span>
<a id="__codelineno-0-1373" name="__codelineno-0-1373"></a><span class="sd">            `splitter=`. If a custom splitter is provided, this will be</span>
<a id="__codelineno-0-1374" name="__codelineno-0-1374"></a><span class="sd">            ignored.</span>
<a id="__codelineno-0-1375" name="__codelineno-0-1375"></a><span class="sd">        params: Parameters to pass to the estimator, splitter or scorers.</span>
<a id="__codelineno-0-1376" name="__codelineno-0-1376"></a><span class="sd">            See https://scikit-learn.org/stable/metadata_routing.html for</span>
<a id="__codelineno-0-1377" name="__codelineno-0-1377"></a><span class="sd">            more information.</span>
<a id="__codelineno-0-1378" name="__codelineno-0-1378"></a>
<a id="__codelineno-0-1379" name="__codelineno-0-1379"></a><span class="sd">            You may also additionally include the following as dictionarys:</span>
<a id="__codelineno-0-1380" name="__codelineno-0-1380"></a>
<a id="__codelineno-0-1381" name="__codelineno-0-1381"></a><span class="sd">            * `#!python &quot;configure&quot;`: Parameters to pass to the pipeline</span>
<a id="__codelineno-0-1382" name="__codelineno-0-1382"></a><span class="sd">                for [`configure()`][amltk.pipeline.Node.configure]. Please</span>
<a id="__codelineno-0-1383" name="__codelineno-0-1383"></a><span class="sd">                the example in the class docstring for more information.</span>
<a id="__codelineno-0-1384" name="__codelineno-0-1384"></a><span class="sd">            * `#!python &quot;build&quot;`: Parameters to pass to the pipeline for</span>
<a id="__codelineno-0-1385" name="__codelineno-0-1385"></a><span class="sd">                [`build()`][amltk.pipeline.Node.build].</span>
<a id="__codelineno-0-1386" name="__codelineno-0-1386"></a>
<a id="__codelineno-0-1387" name="__codelineno-0-1387"></a><span class="sd">                ```python</span>
<a id="__codelineno-0-1388" name="__codelineno-0-1388"></a><span class="sd">                from imblearn.pipeline import Pipeline as ImbalancedPipeline</span>
<a id="__codelineno-0-1389" name="__codelineno-0-1389"></a><span class="sd">                CVEvaluator(</span>
<a id="__codelineno-0-1390" name="__codelineno-0-1390"></a><span class="sd">                    ...,</span>
<a id="__codelineno-0-1391" name="__codelineno-0-1391"></a><span class="sd">                    params={</span>
<a id="__codelineno-0-1392" name="__codelineno-0-1392"></a><span class="sd">                        &quot;build&quot;: {</span>
<a id="__codelineno-0-1393" name="__codelineno-0-1393"></a><span class="sd">                            &quot;builder&quot;: &quot;sklearn&quot;,</span>
<a id="__codelineno-0-1394" name="__codelineno-0-1394"></a><span class="sd">                            &quot;pipeline_type&quot;: ImbalancedPipeline</span>
<a id="__codelineno-0-1395" name="__codelineno-0-1395"></a><span class="sd">                        }</span>
<a id="__codelineno-0-1396" name="__codelineno-0-1396"></a><span class="sd">                    }</span>
<a id="__codelineno-0-1397" name="__codelineno-0-1397"></a><span class="sd">                )</span>
<a id="__codelineno-0-1398" name="__codelineno-0-1398"></a><span class="sd">                ```</span>
<a id="__codelineno-0-1399" name="__codelineno-0-1399"></a>
<a id="__codelineno-0-1400" name="__codelineno-0-1400"></a><span class="sd">            * `#!python &quot;transform_context&quot;`: The transform context to use</span>
<a id="__codelineno-0-1401" name="__codelineno-0-1401"></a><span class="sd">                for [`configure()`][amltk.pipeline.Node.configure].</span>
<a id="__codelineno-0-1402" name="__codelineno-0-1402"></a>
<a id="__codelineno-0-1403" name="__codelineno-0-1403"></a><span class="sd">            !!! tip &quot;Scorer params for test scoring&quot;</span>
<a id="__codelineno-0-1404" name="__codelineno-0-1404"></a>
<a id="__codelineno-0-1405" name="__codelineno-0-1405"></a><span class="sd">                Due to nuances of sklearn&#39;s metadata routing, if you need to provide</span>
<a id="__codelineno-0-1406" name="__codelineno-0-1406"></a><span class="sd">                parameters to the scorer for the test data, you must prefix these</span>
<a id="__codelineno-0-1407" name="__codelineno-0-1407"></a><span class="sd">                with `#!python &quot;test_&quot;`. For example, if you need to provide</span>
<a id="__codelineno-0-1408" name="__codelineno-0-1408"></a><span class="sd">                `pos_label` to the scorer for the test data, you can provide</span>
<a id="__codelineno-0-1409" name="__codelineno-0-1409"></a><span class="sd">                `test_pos_label` in the `params` argument.</span>
<a id="__codelineno-0-1410" name="__codelineno-0-1410"></a>
<a id="__codelineno-0-1411" name="__codelineno-0-1411"></a><span class="sd">        task_hint: A string indicating the task type matching those</span>
<a id="__codelineno-0-1412" name="__codelineno-0-1412"></a><span class="sd">            use by sklearn&#39;s `type_of_target`. This can be either</span>
<a id="__codelineno-0-1413" name="__codelineno-0-1413"></a><span class="sd">            `#!python &quot;binary&quot;`, `#!python &quot;multiclass&quot;`,</span>
<a id="__codelineno-0-1414" name="__codelineno-0-1414"></a><span class="sd">            `#!python &quot;multilabel-indicator&quot;`, `#!python &quot;continuous&quot;`,</span>
<a id="__codelineno-0-1415" name="__codelineno-0-1415"></a><span class="sd">            `#!python &quot;continuous-multioutput&quot;` or</span>
<a id="__codelineno-0-1416" name="__codelineno-0-1416"></a><span class="sd">            `#!python &quot;multiclass-multioutput&quot;`.</span>
<a id="__codelineno-0-1417" name="__codelineno-0-1417"></a>
<a id="__codelineno-0-1418" name="__codelineno-0-1418"></a><span class="sd">            You can also provide `#!python &quot;classification&quot;` or</span>
<a id="__codelineno-0-1419" name="__codelineno-0-1419"></a><span class="sd">            `#!python &quot;regression&quot;` for a more general hint.</span>
<a id="__codelineno-0-1420" name="__codelineno-0-1420"></a>
<a id="__codelineno-0-1421" name="__codelineno-0-1421"></a><span class="sd">            If not provided, this will be inferred from the target data.</span>
<a id="__codelineno-0-1422" name="__codelineno-0-1422"></a><span class="sd">            If you know this value, it is recommended to provide it as</span>
<a id="__codelineno-0-1423" name="__codelineno-0-1423"></a><span class="sd">            sometimes the target is ambiguous and sklearn may infer</span>
<a id="__codelineno-0-1424" name="__codelineno-0-1424"></a><span class="sd">            incorrectly.</span>
<a id="__codelineno-0-1425" name="__codelineno-0-1425"></a><span class="sd">        working_dir: The directory to use for storing data. If not provided,</span>
<a id="__codelineno-0-1426" name="__codelineno-0-1426"></a><span class="sd">            a temporary directory will be used. If provided as a string</span>
<a id="__codelineno-0-1427" name="__codelineno-0-1427"></a><span class="sd">            or a `Path`, it will be used as the path to the directory.</span>
<a id="__codelineno-0-1428" name="__codelineno-0-1428"></a><span class="sd">        on_error: What to do if an error occurs in the task. This can be</span>
<a id="__codelineno-0-1429" name="__codelineno-0-1429"></a><span class="sd">            either `#!python &quot;raise&quot;` or `#!python &quot;fail&quot;`. If `#!python &quot;raise&quot;`,</span>
<a id="__codelineno-0-1430" name="__codelineno-0-1430"></a><span class="sd">            the error will be raised and the task will fail. If `#!python &quot;fail&quot;`,</span>
<a id="__codelineno-0-1431" name="__codelineno-0-1431"></a><span class="sd">            the error will be caught and the task will report a failure report</span>
<a id="__codelineno-0-1432" name="__codelineno-0-1432"></a><span class="sd">            with the error message stored inside.</span>
<a id="__codelineno-0-1433" name="__codelineno-0-1433"></a><span class="sd">            Set this to `#!python &quot;fail&quot;` if you want to continue optimization</span>
<a id="__codelineno-0-1434" name="__codelineno-0-1434"></a><span class="sd">            even if some trials fail.</span>
<a id="__codelineno-0-1435" name="__codelineno-0-1435"></a><span class="sd">        post_split: If provided, this callable will be called with a</span>
<a id="__codelineno-0-1436" name="__codelineno-0-1436"></a><span class="sd">            [`PostSplitInfo`][amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo].</span>
<a id="__codelineno-0-1437" name="__codelineno-0-1437"></a>
<a id="__codelineno-0-1438" name="__codelineno-0-1438"></a><span class="sd">            For example, this could be useful if you&#39;d like to save out-of-fold</span>
<a id="__codelineno-0-1439" name="__codelineno-0-1439"></a><span class="sd">            predictions for later use.</span>
<a id="__codelineno-0-1440" name="__codelineno-0-1440"></a>
<a id="__codelineno-0-1441" name="__codelineno-0-1441"></a><span class="sd">            ```python</span>
<a id="__codelineno-0-1442" name="__codelineno-0-1442"></a><span class="sd">            def my_post_split(</span>
<a id="__codelineno-0-1443" name="__codelineno-0-1443"></a><span class="sd">                split_number: int,</span>
<a id="__codelineno-0-1444" name="__codelineno-0-1444"></a><span class="sd">                info: CVEvaluator.PostSplitInfo,</span>
<a id="__codelineno-0-1445" name="__codelineno-0-1445"></a><span class="sd">            ) -&gt; None:</span>
<a id="__codelineno-0-1446" name="__codelineno-0-1446"></a><span class="sd">                X_val, y_val = info.val</span>
<a id="__codelineno-0-1447" name="__codelineno-0-1447"></a><span class="sd">                oof_preds = fitted_model.predict(X_val)</span>
<a id="__codelineno-0-1448" name="__codelineno-0-1448"></a>
<a id="__codelineno-0-1449" name="__codelineno-0-1449"></a><span class="sd">                split = info.current_split</span>
<a id="__codelineno-0-1450" name="__codelineno-0-1450"></a><span class="sd">                info.trial.store({f&quot;oof_predictions_{split}.npy&quot;: oof_preds})</span>
<a id="__codelineno-0-1451" name="__codelineno-0-1451"></a><span class="sd">                return info</span>
<a id="__codelineno-0-1452" name="__codelineno-0-1452"></a><span class="sd">            ```</span>
<a id="__codelineno-0-1453" name="__codelineno-0-1453"></a>
<a id="__codelineno-0-1454" name="__codelineno-0-1454"></a><span class="sd">            !!! warning &quot;Run in the worker&quot;</span>
<a id="__codelineno-0-1455" name="__codelineno-0-1455"></a>
<a id="__codelineno-0-1456" name="__codelineno-0-1456"></a><span class="sd">                This callable will be pickled and sent to the worker that is</span>
<a id="__codelineno-0-1457" name="__codelineno-0-1457"></a><span class="sd">                executing an evaluation. This means that you should mitigate</span>
<a id="__codelineno-0-1458" name="__codelineno-0-1458"></a><span class="sd">                relying on any large objects if your callalbe is an object, as</span>
<a id="__codelineno-0-1459" name="__codelineno-0-1459"></a><span class="sd">                the object will get pickled and sent to the worker. This also means</span>
<a id="__codelineno-0-1460" name="__codelineno-0-1460"></a><span class="sd">                you can not rely on information obtained from other trials as when</span>
<a id="__codelineno-0-1461" name="__codelineno-0-1461"></a><span class="sd">                sending the callable to a worker, it is no longer updatable from the</span>
<a id="__codelineno-0-1462" name="__codelineno-0-1462"></a><span class="sd">                main process.</span>
<a id="__codelineno-0-1463" name="__codelineno-0-1463"></a>
<a id="__codelineno-0-1464" name="__codelineno-0-1464"></a><span class="sd">                You should also avoid holding on to references to either the model</span>
<a id="__codelineno-0-1465" name="__codelineno-0-1465"></a><span class="sd">                or large data that is passed in</span>
<a id="__codelineno-0-1466" name="__codelineno-0-1466"></a><span class="sd">                [`PostSplitInfo`][amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo]</span>
<a id="__codelineno-0-1467" name="__codelineno-0-1467"></a><span class="sd">                to the function.</span>
<a id="__codelineno-0-1468" name="__codelineno-0-1468"></a>
<a id="__codelineno-0-1469" name="__codelineno-0-1469"></a><span class="sd">                This parameter should primarily be used for callables that rely</span>
<a id="__codelineno-0-1470" name="__codelineno-0-1470"></a><span class="sd">                solely on the output of the current trial and wish to store/add</span>
<a id="__codelineno-0-1471" name="__codelineno-0-1471"></a><span class="sd">                additional information to the trial itself.</span>
<a id="__codelineno-0-1472" name="__codelineno-0-1472"></a>
<a id="__codelineno-0-1473" name="__codelineno-0-1473"></a><span class="sd">        post_processing: If provided, this callable will be called with all of the</span>
<a id="__codelineno-0-1474" name="__codelineno-0-1474"></a><span class="sd">            evaluated splits and the final report that will be returned.</span>
<a id="__codelineno-0-1475" name="__codelineno-0-1475"></a><span class="sd">            This can be used to do things such as augment the final scores</span>
<a id="__codelineno-0-1476" name="__codelineno-0-1476"></a><span class="sd">            if required, cleanup any resources or any other tasks that should be</span>
<a id="__codelineno-0-1477" name="__codelineno-0-1477"></a><span class="sd">            run after the evaluation has completed. This will be handed a</span>
<a id="__codelineno-0-1478" name="__codelineno-0-1478"></a><span class="sd">            [`Report`][amltk.optimization.trial.Trial.Report] and a</span>
<a id="__codelineno-0-1479" name="__codelineno-0-1479"></a><span class="sd">            [`CompleteEvalInfo`][amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo],</span>
<a id="__codelineno-0-1480" name="__codelineno-0-1480"></a><span class="sd">            which contains all the information about the evaluation. If your</span>
<a id="__codelineno-0-1481" name="__codelineno-0-1481"></a><span class="sd">            function requires the individual models, you can set</span>
<a id="__codelineno-0-1482" name="__codelineno-0-1482"></a><span class="sd">            `post_processing_requires_models=True`. By default this is `False`</span>
<a id="__codelineno-0-1483" name="__codelineno-0-1483"></a><span class="sd">            as this requires having all models in memory at once.</span>
<a id="__codelineno-0-1484" name="__codelineno-0-1484"></a>
<a id="__codelineno-0-1485" name="__codelineno-0-1485"></a><span class="sd">            This can be useful when you&#39;d like to report the score of a bagged</span>
<a id="__codelineno-0-1486" name="__codelineno-0-1486"></a><span class="sd">            model, i.e. an ensemble of all validation models. Another example</span>
<a id="__codelineno-0-1487" name="__codelineno-0-1487"></a><span class="sd">            is if you&#39;d like to add to the summary, the score of what the model</span>
<a id="__codelineno-0-1488" name="__codelineno-0-1488"></a><span class="sd">            would be if refit on all the data.</span>
<a id="__codelineno-0-1489" name="__codelineno-0-1489"></a>
<a id="__codelineno-0-1490" name="__codelineno-0-1490"></a><span class="sd">            ```python</span>
<a id="__codelineno-0-1491" name="__codelineno-0-1491"></a><span class="sd">            from amltk.sklearn.voting import voting_with_prefitted_estimators</span>
<a id="__codelineno-0-1492" name="__codelineno-0-1492"></a>
<a id="__codelineno-0-1493" name="__codelineno-0-1493"></a><span class="sd">            # Compute the test score of all fold models bagged together</span>
<a id="__codelineno-0-1494" name="__codelineno-0-1494"></a><span class="sd">            def my_post_processing(</span>
<a id="__codelineno-0-1495" name="__codelineno-0-1495"></a><span class="sd">                report: Trial.Report,</span>
<a id="__codelineno-0-1496" name="__codelineno-0-1496"></a><span class="sd">                pipeline: Node,</span>
<a id="__codelineno-0-1497" name="__codelineno-0-1497"></a><span class="sd">                info: CVEvaluator.CompleteEvalInfo,</span>
<a id="__codelineno-0-1498" name="__codelineno-0-1498"></a><span class="sd">            ) -&gt; Trial.Report:</span>
<a id="__codelineno-0-1499" name="__codelineno-0-1499"></a><span class="sd">                bagged_model = voting_with_prefitted_estimators(info.models)</span>
<a id="__codelineno-0-1500" name="__codelineno-0-1500"></a><span class="sd">                acc = info.scorers[&quot;accuracy&quot;]</span>
<a id="__codelineno-0-1501" name="__codelineno-0-1501"></a><span class="sd">                bagged_score = acc(bagged_model, info.X_test, info.y_test)</span>
<a id="__codelineno-0-1502" name="__codelineno-0-1502"></a><span class="sd">                report.summary[&quot;bagged_test_score&quot;] = bagged_score</span>
<a id="__codelineno-0-1503" name="__codelineno-0-1503"></a><span class="sd">                return report</span>
<a id="__codelineno-0-1504" name="__codelineno-0-1504"></a><span class="sd">            ```</span>
<a id="__codelineno-0-1505" name="__codelineno-0-1505"></a>
<a id="__codelineno-0-1506" name="__codelineno-0-1506"></a><span class="sd">            !!! warning &quot;Run in the worker&quot;</span>
<a id="__codelineno-0-1507" name="__codelineno-0-1507"></a>
<a id="__codelineno-0-1508" name="__codelineno-0-1508"></a><span class="sd">                This callable will be pickled and sent to the worker that is</span>
<a id="__codelineno-0-1509" name="__codelineno-0-1509"></a><span class="sd">                executing an evaluation. This means that you should mitigate</span>
<a id="__codelineno-0-1510" name="__codelineno-0-1510"></a><span class="sd">                relying on any large objects if your callalbe is an object, as</span>
<a id="__codelineno-0-1511" name="__codelineno-0-1511"></a><span class="sd">                the object will get pickled and sent to the worker. This also means</span>
<a id="__codelineno-0-1512" name="__codelineno-0-1512"></a><span class="sd">                you can not rely on information obtained from other trials as when</span>
<a id="__codelineno-0-1513" name="__codelineno-0-1513"></a><span class="sd">                sending the callable to a worker, it is no longer updatable from the</span>
<a id="__codelineno-0-1514" name="__codelineno-0-1514"></a><span class="sd">                main process.</span>
<a id="__codelineno-0-1515" name="__codelineno-0-1515"></a>
<a id="__codelineno-0-1516" name="__codelineno-0-1516"></a><span class="sd">                This parameter should primarily be used for callables that will</span>
<a id="__codelineno-0-1517" name="__codelineno-0-1517"></a><span class="sd">                augment the report or what is stored with the trial. It should</span>
<a id="__codelineno-0-1518" name="__codelineno-0-1518"></a><span class="sd">                rely solely on the current trial to prevent unexpected issues.</span>
<a id="__codelineno-0-1519" name="__codelineno-0-1519"></a>
<a id="__codelineno-0-1520" name="__codelineno-0-1520"></a><span class="sd">        post_processing_requires_models: Whether the `post_processing` function</span>
<a id="__codelineno-0-1521" name="__codelineno-0-1521"></a><span class="sd">            requires the models to be passed to it. If `True`, the models will</span>
<a id="__codelineno-0-1522" name="__codelineno-0-1522"></a><span class="sd">            be passed to the function in the `CompleteEvalInfo` object. If `False`,</span>
<a id="__codelineno-0-1523" name="__codelineno-0-1523"></a><span class="sd">            the models will not be passed to the function. By default this is</span>
<a id="__codelineno-0-1524" name="__codelineno-0-1524"></a><span class="sd">            `False` as this requires having all models in memory at once.</span>
<a id="__codelineno-0-1525" name="__codelineno-0-1525"></a>
<a id="__codelineno-0-1526" name="__codelineno-0-1526"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1527" name="__codelineno-0-1527"></a>    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<a id="__codelineno-0-1528" name="__codelineno-0-1528"></a>    <span class="k">if</span> <span class="p">(</span><span class="n">X_test</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">y_test</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span>
<a id="__codelineno-0-1529" name="__codelineno-0-1529"></a>        <span class="n">y_test</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">X_test</span> <span class="ow">is</span> <span class="kc">None</span>
<a id="__codelineno-0-1530" name="__codelineno-0-1530"></a>    <span class="p">):</span>
<a id="__codelineno-0-1531" name="__codelineno-0-1531"></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-1532" name="__codelineno-0-1532"></a>            <span class="s2">&quot;Both `X_test`, `y_test` must be provided together if one is provided.&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1533" name="__codelineno-0-1533"></a>        <span class="p">)</span>
<a id="__codelineno-0-1534" name="__codelineno-0-1534"></a>
<a id="__codelineno-0-1535" name="__codelineno-0-1535"></a>    <span class="k">match</span> <span class="n">working_dir</span><span class="p">:</span>
<a id="__codelineno-0-1536" name="__codelineno-0-1536"></a>        <span class="n">case</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1537" name="__codelineno-0-1537"></a>            <span class="n">tmpdir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span>
<a id="__codelineno-0-1538" name="__codelineno-0-1538"></a>                <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">(</span>
<a id="__codelineno-0-1539" name="__codelineno-0-1539"></a>                    <span class="n">prefix</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">TMP_DIR_PREFIX</span><span class="p">,</span>
<a id="__codelineno-0-1540" name="__codelineno-0-1540"></a>                    <span class="n">suffix</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
<a id="__codelineno-0-1541" name="__codelineno-0-1541"></a>                <span class="p">),</span>
<a id="__codelineno-0-1542" name="__codelineno-0-1542"></a>            <span class="p">)</span>
<a id="__codelineno-0-1543" name="__codelineno-0-1543"></a>            <span class="n">bucket</span> <span class="o">=</span> <span class="n">PathBucket</span><span class="p">(</span><span class="n">tmpdir</span><span class="p">)</span>
<a id="__codelineno-0-1544" name="__codelineno-0-1544"></a>        <span class="k">case</span> <span class="nb">str</span><span class="p">()</span> <span class="o">|</span> <span class="n">Path</span><span class="p">():</span>
<a id="__codelineno-0-1545" name="__codelineno-0-1545"></a>            <span class="n">bucket</span> <span class="o">=</span> <span class="n">PathBucket</span><span class="p">(</span><span class="n">working_dir</span><span class="p">)</span>
<a id="__codelineno-0-1546" name="__codelineno-0-1546"></a>        <span class="k">case</span> <span class="n">PathBucket</span><span class="p">():</span>
<a id="__codelineno-0-1547" name="__codelineno-0-1547"></a>            <span class="n">bucket</span> <span class="o">=</span> <span class="n">working_dir</span>
<a id="__codelineno-0-1548" name="__codelineno-0-1548"></a>
<a id="__codelineno-0-1549" name="__codelineno-0-1549"></a>    <span class="k">match</span> <span class="n">task_hint</span><span class="p">:</span>
<a id="__codelineno-0-1550" name="__codelineno-0-1550"></a>        <span class="k">case</span> <span class="s2">&quot;classification&quot;</span> <span class="o">|</span> <span class="s2">&quot;regression&quot;</span> <span class="o">|</span> <span class="s2">&quot;auto&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1551" name="__codelineno-0-1551"></a>            <span class="n">task_type</span> <span class="o">=</span> <span class="n">identify_task_type</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">task_hint</span><span class="o">=</span><span class="n">task_hint</span><span class="p">)</span>
<a id="__codelineno-0-1552" name="__codelineno-0-1552"></a>        <span class="k">case</span> <span class="p">(</span>
<a id="__codelineno-0-1553" name="__codelineno-0-1553"></a>            <span class="s2">&quot;binary&quot;</span>
<a id="__codelineno-0-1554" name="__codelineno-0-1554"></a>            <span class="o">|</span> <span class="s2">&quot;multiclass&quot;</span>
<a id="__codelineno-0-1555" name="__codelineno-0-1555"></a>            <span class="o">|</span> <span class="s2">&quot;multilabel-indicator&quot;</span>
<a id="__codelineno-0-1556" name="__codelineno-0-1556"></a>            <span class="o">|</span> <span class="s2">&quot;continuous&quot;</span>
<a id="__codelineno-0-1557" name="__codelineno-0-1557"></a>            <span class="o">|</span> <span class="s2">&quot;continuous-multioutput&quot;</span>
<a id="__codelineno-0-1558" name="__codelineno-0-1558"></a>            <span class="o">|</span> <span class="s2">&quot;multiclass-multioutput&quot;</span>  <span class="c1">#</span>
<a id="__codelineno-0-1559" name="__codelineno-0-1559"></a>        <span class="p">):</span>
<a id="__codelineno-0-1560" name="__codelineno-0-1560"></a>            <span class="n">task_type</span> <span class="o">=</span> <span class="n">task_hint</span>
<a id="__codelineno-0-1561" name="__codelineno-0-1561"></a>        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-1562" name="__codelineno-0-1562"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-1563" name="__codelineno-0-1563"></a>                <span class="sa">f</span><span class="s2">&quot;Invalid </span><span class="si">{</span><span class="n">task_hint</span><span class="si">=}</span><span class="s2"> provided. Must be in </span><span class="si">{</span><span class="n">_valid_task_types</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-1564" name="__codelineno-0-1564"></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">task_hint</span><span class="p">)</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1565" name="__codelineno-0-1565"></a>            <span class="p">)</span>
<a id="__codelineno-0-1566" name="__codelineno-0-1566"></a>
<a id="__codelineno-0-1567" name="__codelineno-0-1567"></a>    <span class="k">match</span> <span class="n">splitter</span><span class="p">:</span>
<a id="__codelineno-0-1568" name="__codelineno-0-1568"></a>        <span class="k">case</span> <span class="s2">&quot;cv&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1569" name="__codelineno-0-1569"></a>            <span class="n">splitter</span> <span class="o">=</span> <span class="n">_default_cv_resampler</span><span class="p">(</span>
<a id="__codelineno-0-1570" name="__codelineno-0-1570"></a>                <span class="n">task_type</span><span class="p">,</span>
<a id="__codelineno-0-1571" name="__codelineno-0-1571"></a>                <span class="n">n_splits</span><span class="o">=</span><span class="n">n_splits</span><span class="p">,</span>
<a id="__codelineno-0-1572" name="__codelineno-0-1572"></a>                <span class="n">random_state</span><span class="o">=</span><span class="n">random_state</span><span class="p">,</span>
<a id="__codelineno-0-1573" name="__codelineno-0-1573"></a>            <span class="p">)</span>
<a id="__codelineno-0-1574" name="__codelineno-0-1574"></a>        <span class="k">case</span> <span class="s2">&quot;holdout&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1575" name="__codelineno-0-1575"></a>            <span class="n">splitter</span> <span class="o">=</span> <span class="n">_default_holdout</span><span class="p">(</span>
<a id="__codelineno-0-1576" name="__codelineno-0-1576"></a>                <span class="n">task_type</span><span class="p">,</span>
<a id="__codelineno-0-1577" name="__codelineno-0-1577"></a>                <span class="n">holdout_size</span><span class="o">=</span><span class="n">holdout_size</span><span class="p">,</span>
<a id="__codelineno-0-1578" name="__codelineno-0-1578"></a>                <span class="n">random_state</span><span class="o">=</span><span class="n">random_state</span><span class="p">,</span>
<a id="__codelineno-0-1579" name="__codelineno-0-1579"></a>            <span class="p">)</span>
<a id="__codelineno-0-1580" name="__codelineno-0-1580"></a>        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-1581" name="__codelineno-0-1581"></a>            <span class="n">splitter</span> <span class="o">=</span> <span class="n">splitter</span>  <span class="c1"># noqa: PLW0127</span>
<a id="__codelineno-0-1582" name="__codelineno-0-1582"></a>
<a id="__codelineno-0-1583" name="__codelineno-0-1583"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">task_type</span> <span class="o">=</span> <span class="n">task_type</span>
<a id="__codelineno-0-1584" name="__codelineno-0-1584"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">additional_scorers</span> <span class="o">=</span> <span class="n">additional_scorers</span>
<a id="__codelineno-0-1585" name="__codelineno-0-1585"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">bucket</span> <span class="o">=</span> <span class="n">bucket</span>
<a id="__codelineno-0-1586" name="__codelineno-0-1586"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">splitter</span> <span class="o">=</span> <span class="n">splitter</span>
<a id="__codelineno-0-1587" name="__codelineno-0-1587"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">params</span><span class="p">)</span> <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">{}</span>
<a id="__codelineno-0-1588" name="__codelineno-0-1588"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">store_models</span> <span class="o">=</span> <span class="n">store_models</span>
<a id="__codelineno-0-1589" name="__codelineno-0-1589"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">train_score</span> <span class="o">=</span> <span class="n">train_score</span>
<a id="__codelineno-0-1590" name="__codelineno-0-1590"></a>
<a id="__codelineno-0-1591" name="__codelineno-0-1591"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">X_stored</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bucket</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_X_FILENAME</span><span class="p">]</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<a id="__codelineno-0-1592" name="__codelineno-0-1592"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">y_stored</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bucket</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_Y_FILENAME</span><span class="p">]</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<a id="__codelineno-0-1593" name="__codelineno-0-1593"></a>
<a id="__codelineno-0-1594" name="__codelineno-0-1594"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">X_test_stored</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-1595" name="__codelineno-0-1595"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">y_test_stored</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-1596" name="__codelineno-0-1596"></a>    <span class="k">if</span> <span class="n">X_test</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">y_test</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1597" name="__codelineno-0-1597"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">X_test_stored</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bucket</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_X_TEST_FILENAME</span><span class="p">]</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<a id="__codelineno-0-1598" name="__codelineno-0-1598"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">y_test_stored</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bucket</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_Y_TEST_FILENAME</span><span class="p">]</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">y_test</span><span class="p">)</span>
<a id="__codelineno-0-1599" name="__codelineno-0-1599"></a>
<a id="__codelineno-0-1600" name="__codelineno-0-1600"></a>    <span class="c1"># We apply a heuristic that &quot;large&quot; parameters, such as sample_weights</span>
<a id="__codelineno-0-1601" name="__codelineno-0-1601"></a>    <span class="c1"># should be stored to disk as transferring them directly to subprocess as</span>
<a id="__codelineno-0-1602" name="__codelineno-0-1602"></a>    <span class="c1"># parameters is quite expensive (they must be non-optimally pickled and</span>
<a id="__codelineno-0-1603" name="__codelineno-0-1603"></a>    <span class="c1"># streamed to the receiving process). By saving it to a file, we can</span>
<a id="__codelineno-0-1604" name="__codelineno-0-1604"></a>    <span class="c1"># make use of things like numpy/pandas specific efficient pickling</span>
<a id="__codelineno-0-1605" name="__codelineno-0-1605"></a>    <span class="c1"># protocols and also avoid the need to stream it to the subprocess.</span>
<a id="__codelineno-0-1606" name="__codelineno-0-1606"></a>    <span class="n">storable_params</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-1607" name="__codelineno-0-1607"></a>        <span class="n">k</span><span class="p">:</span> <span class="n">v</span>
<a id="__codelineno-0-1608" name="__codelineno-0-1608"></a>        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
<a id="__codelineno-0-1609" name="__codelineno-0-1609"></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s2">&quot;__len__&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">LARGE_PARAM_HEURISTIC</span>  <span class="c1"># type: ignore</span>
<a id="__codelineno-0-1610" name="__codelineno-0-1610"></a>    <span class="p">}</span>
<a id="__codelineno-0-1611" name="__codelineno-0-1611"></a>    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">storable_params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-1612" name="__codelineno-0-1612"></a>        <span class="k">match</span> <span class="n">subclass_map</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">PARAM_EXTENSION_MAPPING</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="c1"># type: ignore</span>
<a id="__codelineno-0-1613" name="__codelineno-0-1613"></a>            <span class="k">case</span><span class="w"> </span><span class="p">(</span><span class="k">_</span><span class="p">,</span> <span class="n">extension_to_save_as</span><span class="p">):</span>
<a id="__codelineno-0-1614" name="__codelineno-0-1614"></a>                <span class="n">ext</span> <span class="o">=</span> <span class="n">extension_to_save_as</span>
<a id="__codelineno-0-1615" name="__codelineno-0-1615"></a>            <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-1616" name="__codelineno-0-1616"></a>                <span class="n">ext</span> <span class="o">=</span> <span class="s2">&quot;pkl&quot;</span>
<a id="__codelineno-0-1617" name="__codelineno-0-1617"></a>
<a id="__codelineno-0-1618" name="__codelineno-0-1618"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bucket</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">ext</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<a id="__codelineno-0-1619" name="__codelineno-0-1619"></a>
<a id="__codelineno-0-1620" name="__codelineno-0-1620"></a>    <span class="c1"># This is the actual function that will be called in the task</span>
<a id="__codelineno-0-1621" name="__codelineno-0-1621"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">fn</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span>
<a id="__codelineno-0-1622" name="__codelineno-0-1622"></a>        <span class="n">cross_validate_task</span><span class="p">,</span>
<a id="__codelineno-0-1623" name="__codelineno-0-1623"></a>        <span class="n">X</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">X_stored</span><span class="p">,</span>
<a id="__codelineno-0-1624" name="__codelineno-0-1624"></a>        <span class="n">y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_stored</span><span class="p">,</span>
<a id="__codelineno-0-1625" name="__codelineno-0-1625"></a>        <span class="n">X_test</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">X_test_stored</span><span class="p">,</span>
<a id="__codelineno-0-1626" name="__codelineno-0-1626"></a>        <span class="n">y_test</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_test_stored</span><span class="p">,</span>
<a id="__codelineno-0-1627" name="__codelineno-0-1627"></a>        <span class="n">splitter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">splitter</span><span class="p">,</span>
<a id="__codelineno-0-1628" name="__codelineno-0-1628"></a>        <span class="n">additional_scorers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">additional_scorers</span><span class="p">,</span>
<a id="__codelineno-0-1629" name="__codelineno-0-1629"></a>        <span class="n">params</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">,</span>
<a id="__codelineno-0-1630" name="__codelineno-0-1630"></a>        <span class="n">store_models</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">store_models</span><span class="p">,</span>
<a id="__codelineno-0-1631" name="__codelineno-0-1631"></a>        <span class="n">train_score</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">train_score</span><span class="p">,</span>
<a id="__codelineno-0-1632" name="__codelineno-0-1632"></a>        <span class="n">on_error</span><span class="o">=</span><span class="n">on_error</span><span class="p">,</span>
<a id="__codelineno-0-1633" name="__codelineno-0-1633"></a>        <span class="n">post_split</span><span class="o">=</span><span class="n">post_split</span><span class="p">,</span>
<a id="__codelineno-0-1634" name="__codelineno-0-1634"></a>        <span class="n">post_processing</span><span class="o">=</span><span class="n">post_processing</span><span class="p">,</span>
<a id="__codelineno-0-1635" name="__codelineno-0-1635"></a>        <span class="n">post_processing_requires_models</span><span class="o">=</span><span class="n">post_processing_requires_models</span><span class="p">,</span>
<a id="__codelineno-0-1636" name="__codelineno-0-1636"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
                </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="amltk.sklearn.evaluation.CVEvaluation.LARGE_PARAM_HEURISTIC" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">LARGE_PARAM_HEURISTIC</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.LARGE_PARAM_HEURISTIC" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">LARGE_PARAM_HEURISTIC</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">=</span> <span class="mi">100</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Any item in <code>params=</code> which is greater will be stored to disk when sent to the
worker.</p>
<p>When launching tasks, pickling and streaming large data to tasks can be expensive.
This parameter checks if the object is large and if so, stores it to disk and
gives it to the task as a <a class="autorefs autorefs-internal" href="../../store/stored/#amltk.store.stored.Stored"><code>Stored</code></a> object instead.</p>
<p>Please feel free to overwrite this class variable as needed.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.sklearn.evaluation.CVEvaluation.PARAM_EXTENSION_MAPPING" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">PARAM_EXTENSION_MAPPING</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.PARAM_EXTENSION_MAPPING" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">PARAM_EXTENSION_MAPPING</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#type">type</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="collections.abc.Sized" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sized">Sized</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><a class="autorefs autorefs-external" title="numpy.ndarray" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray">ndarray</a></span><span class="p">:</span> <span class="s2">&quot;npy&quot;</span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n"><a class="autorefs autorefs-external" title="pandas.DataFrame" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a></span><span class="p">:</span> <span class="s2">&quot;pdpickle&quot;</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n"><a class="autorefs autorefs-external" title="pandas.Series" href="https://pandas.pydata.org/docs/reference/api/pandas.Series.html#pandas.Series">Series</a></span><span class="p">:</span> <span class="s2">&quot;pdpickle&quot;</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="p">}</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The mapping from types to extensions in
<a class="autorefs autorefs-internal" href="#amltk.sklearn.evaluation.CVEvaluation.params"><code>params</code></a>.</p>
<p>If the parameter is an instance of one of these types, and is larger than
<a class="autorefs autorefs-internal" href="#amltk.sklearn.evaluation.CVEvaluation.LARGE_PARAM_HEURISTIC"><code>LARGE_PARAM_HEURISTIC</code></a>,
then it will be stored to disk and loaded back up in the task.</p>
<p>Please feel free to overwrite this class variable as needed.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.sklearn.evaluation.CVEvaluation.SPLIT_EVALUATED" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">SPLIT_EVALUATED</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.SPLIT_EVALUATED" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">SPLIT_EVALUATED</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.scheduling.events.Event" href="../../scheduling/events/#amltk.scheduling.events.Event">Event</a></span><span class="p">[</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.Trial" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial">Trial</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.CVEvaluation.SplitScores" href="#amltk.sklearn.evaluation.CVEvaluation.SplitScores">SplitScores</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#Exception">Exception</a></span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="p">]</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.scheduling.events.Event" href="../../scheduling/events/#amltk.scheduling.events.Event">Event</a></span><span class="p">(</span><span class="s2">&quot;split-evaluated&quot;</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Event that is emitted when a split has been evaluated.</p>
<p>Only emitted if the evaluator plugin is being used.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.sklearn.evaluation.CVEvaluation.TMP_DIR_PREFIX" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">TMP_DIR_PREFIX</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.TMP_DIR_PREFIX" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">TMP_DIR_PREFIX</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">=</span> <span class="s1">&#39;amltk-sklearn-cv-evaluation-data-&#39;</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Prefix for temporary directory names.</p>
<p>This is only used when <code>working_dir</code> is not specified. If not specified
you can control the tmp dir location by setting the <code>TMPDIR</code>
environment variable. By default this is <code>/tmp</code>.</p>
<p>When using a temporary directory, it will be deleted by default,
controlled by the <code>delete_working_dir=</code> argument.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.sklearn.evaluation.CVEvaluation.X_stored" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">X_stored</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.X_stored" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">X_stored</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.store.Stored" href="../../store/stored/#amltk.store.stored.Stored">Stored</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.XLike" href="#amltk.sklearn.evaluation.XLike">XLike</a></span><span class="p">]</span> <span class="o">=</span> <span class="n">put</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The stored features.</p>
<p>You can call <a class="autorefs autorefs-internal" href="../../store/stored/#amltk.store.stored.Stored.load"><code>.load()</code></a> to load the
data.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.sklearn.evaluation.CVEvaluation.additional_scorers" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">additional_scorers</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.additional_scorers" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">additional_scorers</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><span title="sklearn.metrics._scorer._Scorer">_Scorer</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.CVEvaluation.additional_scorers" href="#amltk.sklearn.evaluation.CVEvaluation.additional_scorers">additional_scorers</a></span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Additional scorers that will be used.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.sklearn.evaluation.CVEvaluation.bucket" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">bucket</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.bucket" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">bucket</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.store.paths.path_bucket.PathBucket" href="../../store/paths/path_bucket/#amltk.store.paths.path_bucket.PathBucket">PathBucket</a></span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.CVEvaluation.bucket" href="#amltk.sklearn.evaluation.CVEvaluation.bucket">bucket</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The bucket to use for storing data.</p>
<p>For cleanup, you can call
<a class="autorefs autorefs-internal" href="../../store/paths/path_bucket/#amltk.store.paths.path_bucket.PathBucket.rmdir"><code>bucket.rmdir()</code></a>.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.sklearn.evaluation.CVEvaluation.params" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">params</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.params" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">params</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.store.Stored" href="../../store/stored/#amltk.store.stored.Stored">Stored</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.CVEvaluation.params" href="#amltk.sklearn.evaluation.CVEvaluation.params">params</a></span><span class="p">)</span> <span class="k">if</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.CVEvaluation.params" href="#amltk.sklearn.evaluation.CVEvaluation.params">params</a></span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">{}</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Parameters to pass to the estimator, splitter or scorers.</p>
<p>Please see <a href="https://scikit-learn.org/stable/metadata_routing.html">scikit-learn.org/stable/metadata_routing.html</a> for
more.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.sklearn.evaluation.CVEvaluation.splitter" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">splitter</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.splitter" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">splitter</span><span class="p">:</span> <span class="n"><span title="sklearn.model_selection.BaseShuffleSplit">BaseShuffleSplit</span></span> <span class="o">|</span> <span class="n"><span title="sklearn.model_selection.BaseCrossValidator">BaseCrossValidator</span></span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.CVEvaluation.splitter" href="#amltk.sklearn.evaluation.CVEvaluation.splitter">splitter</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The splitter that will be used.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.sklearn.evaluation.CVEvaluation.store_models" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">store_models</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.store_models" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">store_models</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.CVEvaluation.store_models" href="#amltk.sklearn.evaluation.CVEvaluation.store_models">store_models</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Whether models will be stored in the trial.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.sklearn.evaluation.CVEvaluation.task_type" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">task_type</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.task_type" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">task_type</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.TaskTypeName" href="#amltk.sklearn.evaluation.TaskTypeName">TaskTypeName</a></span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.CVEvaluation.task_type" href="#amltk.sklearn.evaluation.CVEvaluation.task_type">task_type</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The inferred task type.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.sklearn.evaluation.CVEvaluation.train_score" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">train_score</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.train_score" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">train_score</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.CVEvaluation.train_score" href="#amltk.sklearn.evaluation.CVEvaluation.train_score">train_score</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Whether scores will be calculated on the training data as well.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.sklearn.evaluation.CVEvaluation.y_stored" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">y_stored</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.y_stored" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">y_stored</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.store.Stored" href="../../store/stored/#amltk.store.stored.Stored">Stored</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.YLike" href="#amltk.sklearn.evaluation.YLike">YLike</a></span><span class="p">]</span> <span class="o">=</span> <span class="n">put</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The stored target.</p>
<p>You can call <a class="autorefs autorefs-internal" href="../../store/stored/#amltk.store.stored.Stored.load"><code>.load()</code></a> to load the
data.</p>
  </div>

</div>


<div class="doc doc-object doc-class">



<h4 id="amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>          <span class="doc doc-object-name doc-class-name">CompleteEvalInfo</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo" class="headerlink" title="Permanent link">#</a></h4>


  <div class="doc doc-contents ">

  
      <p>Information about the final evaluation of a cross-validation task.</p>
<p>This class contains information about the final evaluation of a cross-validation
that will be passed to the post-processing function.</p>


  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h5 id="amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.X" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">X</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.X" class="headerlink" title="Permanent link">#</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">X</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.XLike" href="#amltk.sklearn.evaluation.XLike">XLike</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The features to used for training.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.X_test" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">X_test</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.X_test" class="headerlink" title="Permanent link">#</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">X_test</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.XLike" href="#amltk.sklearn.evaluation.XLike">XLike</a></span> <span class="o">|</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The features used for testing.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.fit_params" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">fit_params</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.fit_params" class="headerlink" title="Permanent link">#</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">fit_params</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The parameters that were used for fitting the estimator.</p>
<p>Please use
<a class="autorefs autorefs-internal" href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.select_params"><code>select_params()</code></a>
if you need to select the params specific to a split, i.e. for <code>sample_weights</code>.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.max_splits" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">max_splits</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.max_splits" class="headerlink" title="Permanent link">#</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">max_splits</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The maximum number of splits that were (or could have been) evaluated.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.models" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">models</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.models" class="headerlink" title="Permanent link">#</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">models</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="sklearn.base.BaseEstimator" href="https://scikit-learn.org/stable/modules/generated/sklearn.base.BaseEstimator.html#sklearn.base.BaseEstimator">BaseEstimator</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The models that were trained in each split.</p>
<p>This will be <code>None</code> if <code>post_processing_requires_models=False</code>.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.scorer_params" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">scorer_params</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.scorer_params" class="headerlink" title="Permanent link">#</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">scorer_params</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The parameters that were used for scoring the estimator.</p>
<p>Please use
<a class="autorefs autorefs-internal" href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.select_params"><code>select_params()</code></a>
if you need to select the params specific to a split, i.e. for <code>sample_weights</code>.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.scorers" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">scorers</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.scorers" class="headerlink" title="Permanent link">#</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">scorers</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><span title="sklearn.metrics._scorer._Scorer">_Scorer</span></span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The scorers that were used.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.scores" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">scores</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.scores" class="headerlink" title="Permanent link">#</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">scores</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.CVEvaluation.SplitScores" href="#amltk.sklearn.evaluation.CVEvaluation.SplitScores">SplitScores</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The scores for the splits that were evaluated.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.splitter" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">splitter</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.splitter" class="headerlink" title="Permanent link">#</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">splitter</span><span class="p">:</span> <span class="n"><span title="sklearn.model_selection.BaseShuffleSplit">BaseShuffleSplit</span></span> <span class="o">|</span> <span class="n"><span title="sklearn.model_selection.BaseCrossValidator">BaseCrossValidator</span></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The splitter that was used.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.splitter_params" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">splitter_params</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.splitter_params" class="headerlink" title="Permanent link">#</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">splitter_params</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The parameters that were used for the splitter.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.test_scorer_params" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">test_scorer_params</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.test_scorer_params" class="headerlink" title="Permanent link">#</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">test_scorer_params</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The parameters that were used for scoring the test data.</p>
<p>Please use
<a class="autorefs autorefs-internal" href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.select_params"><code>select_params()</code></a>
if you need to select the params specific to a split, i.e. for <code>sample_weights</code>.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.y" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">y</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.y" class="headerlink" title="Permanent link">#</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">y</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.YLike" href="#amltk.sklearn.evaluation.YLike">YLike</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The targets used for training.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.y_test" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">y_test</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.y_test" class="headerlink" title="Permanent link">#</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">y_test</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.YLike" href="#amltk.sklearn.evaluation.YLike">YLike</a></span> <span class="o">|</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The targets used for testing.</p>
  </div>

</div>




<div class="doc doc-object doc-function">



<h5 id="amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.select_params" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">select_params</span>


<a href="#amltk.sklearn.evaluation.CVEvaluation.CompleteEvalInfo.select_params" class="headerlink" title="Permanent link">#</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">select_params</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">params</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">],</span> <span class="n">indices</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="numpy.ndarray" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray">ndarray</a></span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Convinience method to select parameters for a specific split.</p>

          <details class="quote">
            <summary>Source code in <code>src/amltk/sklearn/evaluation.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1211">1211</a></span>
<span class="normal"><a href="#__codelineno-0-1212">1212</a></span>
<span class="normal"><a href="#__codelineno-0-1213">1213</a></span>
<span class="normal"><a href="#__codelineno-0-1214">1214</a></span>
<span class="normal"><a href="#__codelineno-0-1215">1215</a></span>
<span class="normal"><a href="#__codelineno-0-1216">1216</a></span>
<span class="normal"><a href="#__codelineno-0-1217">1217</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1211" name="__codelineno-0-1211"></a><span class="k">def</span> <span class="nf">select_params</span><span class="p">(</span>
<a id="__codelineno-0-1212" name="__codelineno-0-1212"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-1213" name="__codelineno-0-1213"></a>    <span class="n">params</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
<a id="__codelineno-0-1214" name="__codelineno-0-1214"></a>    <span class="n">indices</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
<a id="__codelineno-0-1215" name="__codelineno-0-1215"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<a id="__codelineno-0-1216" name="__codelineno-0-1216"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Convinience method to select parameters for a specific split.&quot;&quot;&quot;</span>
<a id="__codelineno-0-1217" name="__codelineno-0-1217"></a>    <span class="k">return</span> <span class="n">_check_method_params</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">X</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">indices</span><span class="o">=</span><span class="n">indices</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>          <span class="doc doc-object-name doc-class-name">PostSplitInfo</span>


<a href="#amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo" class="headerlink" title="Permanent link">#</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-external" title="typing.NamedTuple" href="https://docs.python.org/3/library/typing.html#typing.NamedTuple">NamedTuple</a></code></p>

  
      <p>Information about the evaluation of a split.</p>



  <table>
    <thead>
      <tr>
        <th><b>ATTRIBUTE</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code><span title="amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo.X">X</span></code></td>
          <td class="doc-attribute-details">
            <div class="doc-md-description">
              <p>The features to used for training.</p>
            </div>
            <p>
                <span class="doc-attribute-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.XLike" href="#amltk.sklearn.evaluation.XLike">XLike</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code><span title="amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo.y">y</span></code></td>
          <td class="doc-attribute-details">
            <div class="doc-md-description">
              <p>The targets used for training.</p>
            </div>
            <p>
                <span class="doc-attribute-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.YLike" href="#amltk.sklearn.evaluation.YLike">YLike</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code><span title="amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo.X_test">X_test</span></code></td>
          <td class="doc-attribute-details">
            <div class="doc-md-description">
              <p>The features used for testing if it was passed in.</p>
            </div>
            <p>
                <span class="doc-attribute-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.XLike" href="#amltk.sklearn.evaluation.XLike">XLike</a> | None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code><span title="amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo.y_test">y_test</span></code></td>
          <td class="doc-attribute-details">
            <div class="doc-md-description">
              <p>The targets used for testing if it was passed in.</p>
            </div>
            <p>
                <span class="doc-attribute-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.YLike" href="#amltk.sklearn.evaluation.YLike">YLike</a> | None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code><span title="amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo.i_train">i_train</span></code></td>
          <td class="doc-attribute-details">
            <div class="doc-md-description">
              <p>The train indices for this split.</p>
            </div>
            <p>
                <span class="doc-attribute-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="numpy.ndarray" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray">ndarray</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code><span title="amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo.i_val">i_val</span></code></td>
          <td class="doc-attribute-details">
            <div class="doc-md-description">
              <p>The validation indices for this split.</p>
            </div>
            <p>
                <span class="doc-attribute-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="numpy.ndarray" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray">ndarray</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code><span title="amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo.model">model</span></code></td>
          <td class="doc-attribute-details">
            <div class="doc-md-description">
              <p>The model that was trained in this split.</p>
            </div>
            <p>
                <span class="doc-attribute-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="sklearn.base.BaseEstimator" href="https://scikit-learn.org/stable/modules/generated/sklearn.base.BaseEstimator.html#sklearn.base.BaseEstimator">BaseEstimator</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code><span title="amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo.train_scores">train_scores</span></code></td>
          <td class="doc-attribute-details">
            <div class="doc-md-description">
              <p>The training scores for this split if requested.</p>
            </div>
            <p>
                <span class="doc-attribute-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>] | None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code><span title="amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo.val_scores">val_scores</span></code></td>
          <td class="doc-attribute-details">
            <div class="doc-md-description">
              <p>The validation scores for this split.</p>
            </div>
            <p>
                <span class="doc-attribute-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code><span title="amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo.test_scores">test_scores</span></code></td>
          <td class="doc-attribute-details">
            <div class="doc-md-description">
              <p>The test scores for this split if requested.</p>
            </div>
            <p>
                <span class="doc-attribute-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>] | None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code><span title="amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo.fitting_params">fitting_params</span></code></td>
          <td class="doc-attribute-details">
            <div class="doc-md-description">
              <p>Any additional fitting parameters that were used.</p>
            </div>
            <p>
                <span class="doc-attribute-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code><span title="amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo.train_scorer_params">train_scorer_params</span></code></td>
          <td class="doc-attribute-details">
            <div class="doc-md-description">
              <p>Any additional scorer parameters used for evaluating
scorers on training set.</p>
            </div>
            <p>
                <span class="doc-attribute-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code><span title="amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo.val_scorer_params">val_scorer_params</span></code></td>
          <td class="doc-attribute-details">
            <div class="doc-md-description">
              <p>Any additional scorer parameters used for evaluating
scorers on training set.</p>
            </div>
            <p>
                <span class="doc-attribute-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code><span title="amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo.test_scorer_params">test_scorer_params</span></code></td>
          <td class="doc-attribute-details">
            <div class="doc-md-description">
              <p>Any additional scorer parameters used for evaluating
scorers on training set.</p>
            </div>
            <p>
                <span class="doc-attribute-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a>]</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="amltk.sklearn.evaluation.CVEvaluation.SplitScores" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>          <span class="doc doc-object-name doc-class-name">SplitScores</span>


<a href="#amltk.sklearn.evaluation.CVEvaluation.SplitScores" class="headerlink" title="Permanent link">#</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-external" title="typing.NamedTuple" href="https://docs.python.org/3/library/typing.html#typing.NamedTuple">NamedTuple</a></code></p>

  
      <p>The scores for a split.</p>



  <table>
    <thead>
      <tr>
        <th><b>ATTRIBUTE</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code><span title="amltk.sklearn.evaluation.CVEvaluation.SplitScores.val">val</span></code></td>
          <td class="doc-attribute-details">
            <div class="doc-md-description">
              <p>The validation scores for all evaluated split.</p>
            </div>
            <p>
                <span class="doc-attribute-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code><span title="amltk.sklearn.evaluation.CVEvaluation.SplitScores.train">train</span></code></td>
          <td class="doc-attribute-details">
            <div class="doc-md-description">
              <p>The training scores for all evaluated splits if requested.</p>
            </div>
            <p>
                <span class="doc-attribute-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]] | None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code><span title="amltk.sklearn.evaluation.CVEvaluation.SplitScores.test">test</span></code></td>
          <td class="doc-attribute-details">
            <div class="doc-md-description">
              <p>The test scores for all evaluated splits if requested.</p>
            </div>
            <p>
                <span class="doc-attribute-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]] | None</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>


</div>



<div class="doc doc-object doc-function">



<h4 id="amltk.sklearn.evaluation.CVEvaluation.cv_early_stopping_plugin" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">cv_early_stopping_plugin</span>


<a href="#amltk.sklearn.evaluation.CVEvaluation.cv_early_stopping_plugin" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">cv_early_stopping_plugin</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">strategy</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.CVEarlyStoppingProtocol" href="#amltk.sklearn.evaluation.CVEarlyStoppingProtocol">CVEarlyStoppingProtocol</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">create_comms</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>        <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a></span><span class="p">[[],</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.scheduling.plugins.comm.Comm" href="../../scheduling/plugins/comm/#amltk.scheduling.plugins.comm.Comm">Comm</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.scheduling.plugins.comm.Comm" href="../../scheduling/plugins/comm/#amltk.scheduling.plugins.comm.Comm">Comm</a></span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="amltk.sklearn.evaluation.CVEvaluation._CVEarlyStoppingPlugin">_CVEarlyStoppingPlugin</span></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create a plugin for a task allow for early stopping.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="kn">import</span> <span class="nn">sklearn.datasets</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeClassifier</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="kn">from</span> <span class="nn">amltk.sklearn</span> <span class="kn">import</span> <span class="n">CVEvaluation</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="kn">from</span> <span class="nn">amltk.pipeline</span> <span class="kn">import</span> <span class="n">Component</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="kn">from</span> <span class="nn">amltk.optimization</span> <span class="kn">import</span> <span class="n">Metric</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="n">working_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;./some-path&quot;</span><span class="p">)</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="n">pipeline</span> <span class="o">=</span> <span class="n">Component</span><span class="p">(</span><span class="n">DecisionTreeClassifier</span><span class="p">,</span> <span class="n">space</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;max_depth&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)})</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">sklearn</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">load_iris</span><span class="p">(</span><span class="n">return_X_y</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="n">evaluator</span> <span class="o">=</span> <span class="n">CVEvaluation</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">n_splits</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">working_dir</span><span class="o">=</span><span class="n">working_dir</span><span class="p">)</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="c1"># Our early stopping strategy, with an `update()` and `should_stop()`</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="c1"># signature match what&#39;s expected.</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="nd">@dataclass</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="k">class</span> <span class="nc">CVEarlyStopper</span><span class="p">:</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">report</span><span class="p">:</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>        <span class="c1"># Normally you would update w.r.t. a finished trial, such</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>        <span class="c1"># as updating a moving average of the scores.</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>        <span class="k">pass</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>    <span class="k">def</span> <span class="nf">should_stop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trial</span><span class="p">:</span> <span class="n">Trial</span><span class="p">,</span> <span class="n">scores</span><span class="p">:</span> <span class="n">CVEvaluation</span><span class="o">.</span><span class="n">SplitScores</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span> <span class="o">|</span> <span class="ne">Exception</span><span class="p">:</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>        <span class="c1"># Return True to stop, False to continue. Alternatively, return a</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>        <span class="c1"># specific exception to attach to the report instead</span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>        <span class="k">return</span> <span class="kc">True</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a><span class="n">history</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">optimize</span><span class="p">(</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>    <span class="n">target</span><span class="o">=</span><span class="n">evaluator</span><span class="o">.</span><span class="n">fn</span><span class="p">,</span>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>    <span class="n">metric</span><span class="o">=</span><span class="n">Metric</span><span class="p">(</span><span class="s2">&quot;accuracy&quot;</span><span class="p">,</span> <span class="n">minimize</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">bounds</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a>    <span class="n">max_trials</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>    <span class="n">working_dir</span><span class="o">=</span><span class="n">working_dir</span><span class="p">,</span>
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a>    <span class="c1"># Here we insert the plugin to the task that will get created</span>
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a>    <span class="n">plugins</span><span class="o">=</span><span class="p">[</span><span class="n">evaluator</span><span class="o">.</span><span class="n">cv_early_stopping_plugin</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="n">CVEarlyStopper</span><span class="p">())],</span>
<a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a>
<a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a>    <span class="c1"># Notably, we set `on_trial_exception=&quot;continue&quot;` to not stop as</span>
<a id="__codelineno-0-41" name="__codelineno-0-41" href="#__codelineno-0-41"></a>    <span class="c1"># we expect trials to fail given the early stopping strategy</span>
<a id="__codelineno-0-42" name="__codelineno-0-42" href="#__codelineno-0-42"></a>    <span class="n">on_trial_exception</span><span class="o">=</span><span class="s2">&quot;continue&quot;</span><span class="p">,</span>
<a id="__codelineno-0-43" name="__codelineno-0-43" href="#__codelineno-0-43"></a><span class="p">)</span>
</code></pre></div>
<div class="result">
<p>
<pre style="font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace;font-size:0.75rem">
<code style="font-family:inherit">╭───── <span style="font-weight: bold">Report</span><span style="color: #000000; text-decoration-color: #000000">(</span><span style="font-style: italic">config_id=1_seed=90158640_budget=None_instance=None</span><span style="color: #000000; text-decoration-color: #000000">) - </span><span style="color: #808000; text-decoration-color: #808000; font-weight: bold">fail</span> ─────╮
│ <span style="font-weight: bold">Status</span><span style="color: #000000; text-decoration-color: #000000">(</span><span style="color: #808000; text-decoration-color: #808000; font-weight: bold">fail</span><span style="color: #000000; text-decoration-color: #000000">)</span>                                                                 │
│ <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">MetricCollection</span><span style="font-weight: bold">(</span>                                                            │
│     <span style="color: #808000; text-decoration-color: #808000">metrics</span>=<span style="font-weight: bold">{</span>                                                                │
│         <span style="color: #008000; text-decoration-color: #008000">&#x27;accuracy&#x27;</span>: <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">Metric</span><span style="font-weight: bold">(</span>                                                  │
│             <span style="color: #808000; text-decoration-color: #808000">name</span>=<span style="color: #008000; text-decoration-color: #008000">&#x27;accuracy&#x27;</span>,                                                 │
│             <span style="color: #808000; text-decoration-color: #808000">minimize</span>=<span style="color: #ff0000; text-decoration-color: #ff0000; font-style: italic">False</span>,                                                  │
│             <span style="color: #808000; text-decoration-color: #808000">bounds</span>=<span style="font-weight: bold">(</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.0</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.0</span><span style="font-weight: bold">)</span>,                                               │
│             <span style="color: #808000; text-decoration-color: #808000">fn</span>=<span style="color: #800080; text-decoration-color: #800080; font-style: italic">None</span>                                                          │
│         <span style="font-weight: bold">)</span>                                                                    │
│     <span style="font-weight: bold">}</span>                                                                        │
│ <span style="font-weight: bold">)</span>                                                                            │
│ ╭─ Metrics ────────────────────────────────────────────────────────────────╮ │
│ │ <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">MetricCollection</span><span style="font-weight: bold">(</span>                                                        │ │
│ │     <span style="color: #808000; text-decoration-color: #808000">metrics</span>=<span style="font-weight: bold">{</span>                                                            │ │
│ │         <span style="color: #008000; text-decoration-color: #008000">&#x27;accuracy&#x27;</span>: <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">Metric</span><span style="font-weight: bold">(</span>                                              │ │
│ │             <span style="color: #808000; text-decoration-color: #808000">name</span>=<span style="color: #008000; text-decoration-color: #008000">&#x27;accuracy&#x27;</span>,                                             │ │
│ │             <span style="color: #808000; text-decoration-color: #808000">minimize</span>=<span style="color: #ff0000; text-decoration-color: #ff0000; font-style: italic">False</span>,                                              │ │
│ │             <span style="color: #808000; text-decoration-color: #808000">bounds</span>=<span style="font-weight: bold">(</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.0</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.0</span><span style="font-weight: bold">)</span>,                                           │ │
│ │             <span style="color: #808000; text-decoration-color: #808000">fn</span>=<span style="color: #800080; text-decoration-color: #800080; font-style: italic">None</span>                                                      │ │
│ │         <span style="font-weight: bold">)</span>                                                                │ │
│ │     <span style="font-weight: bold">}</span>                                                                    │ │
│ │ <span style="font-weight: bold">)</span>                                                                        │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│ config             <span style="font-weight: bold">{</span><span style="color: #008000; text-decoration-color: #008000">&#x27;DecisionTreeClassifier:max_depth&#x27;</span>: <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span><span style="font-weight: bold">}</span>                   │
│ seed               <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">90158640</span>                                                  │
│ bucket             <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">PathBucket</span><span style="font-weight: bold">(</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold">PosixPath</span><span style="font-weight: bold">(</span><span style="color: #008000; text-decoration-color: #008000">&#x27;some-path/config_id=1_seed=9015864…</span> │
│ summary            <span style="font-weight: bold">{</span><span style="color: #008000; text-decoration-color: #008000">&#x27;split_0:val_accuracy&#x27;</span>: <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.66</span><span style="font-weight: bold">}</span>                            │
│ storage            <span style="font-weight: bold">{</span><span style="color: #008000; text-decoration-color: #008000">&#x27;exception.txt&#x27;</span><span style="font-weight: bold">}</span>                                         │
│ profile:cv         <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">Interval</span><span style="font-weight: bold">(</span>                                                 │
│                        <span style="color: #808000; text-decoration-color: #808000">memory</span>=<span style="color: #800080; text-decoration-color: #800080; font-weight: bold">Interval</span><span style="font-weight: bold">(</span>                                      │
│                            <span style="color: #808000; text-decoration-color: #808000">start_vms</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2108018688.0</span>,                           │
│                            <span style="color: #808000; text-decoration-color: #808000">start_rss</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">365371392.0</span>,                            │
│                            <span style="color: #808000; text-decoration-color: #808000">end_vms</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2108018688</span>,                               │
│                            <span style="color: #808000; text-decoration-color: #808000">end_rss</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">368254976</span>,                                │
│                            <span style="color: #808000; text-decoration-color: #808000">unit</span>=<span style="color: #800080; text-decoration-color: #800080">bytes</span>                                        │
│                        <span style="font-weight: bold">)</span>,                                                    │
│                        <span style="color: #808000; text-decoration-color: #808000">time</span>=<span style="color: #800080; text-decoration-color: #800080; font-weight: bold">Interval</span><span style="font-weight: bold">(</span>                                        │
│                            <span style="color: #808000; text-decoration-color: #808000">start</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1709227587.3031108</span>,                         │
│                            <span style="color: #808000; text-decoration-color: #808000">end</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1709227587.3257606</span>,                           │
│                            <span style="color: #808000; text-decoration-color: #808000">kind</span>=<span style="color: #800080; text-decoration-color: #800080">wall</span>,                                        │
│                            <span style="color: #808000; text-decoration-color: #808000">unit</span>=<span style="color: #800080; text-decoration-color: #800080">seconds</span>                                      │
│                        <span style="font-weight: bold">)</span>                                                     │
│                    <span style="font-weight: bold">)</span>                                                         │
│ profile:cv:fit     <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">Interval</span><span style="font-weight: bold">(</span>                                                 │
│                        <span style="color: #808000; text-decoration-color: #808000">memory</span>=<span style="color: #800080; text-decoration-color: #800080; font-weight: bold">Interval</span><span style="font-weight: bold">(</span>                                      │
│                            <span style="color: #808000; text-decoration-color: #808000">start_vms</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2108018688.0</span>,                           │
│                            <span style="color: #808000; text-decoration-color: #808000">start_rss</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">366419968.0</span>,                            │
│                            <span style="color: #808000; text-decoration-color: #808000">end_vms</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2108018688</span>,                               │
│                            <span style="color: #808000; text-decoration-color: #808000">end_rss</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">368123904</span>,                                │
│                            <span style="color: #808000; text-decoration-color: #808000">unit</span>=<span style="color: #800080; text-decoration-color: #800080">bytes</span>                                        │
│                        <span style="font-weight: bold">)</span>,                                                    │
│                        <span style="color: #808000; text-decoration-color: #808000">time</span>=<span style="color: #800080; text-decoration-color: #800080; font-weight: bold">Interval</span><span style="font-weight: bold">(</span>                                        │
│                            <span style="color: #808000; text-decoration-color: #808000">start</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1709227587.3069186</span>,                         │
│                            <span style="color: #808000; text-decoration-color: #808000">end</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1709227587.3134813</span>,                           │
│                            <span style="color: #808000; text-decoration-color: #808000">kind</span>=<span style="color: #800080; text-decoration-color: #800080">wall</span>,                                        │
│                            <span style="color: #808000; text-decoration-color: #808000">unit</span>=<span style="color: #800080; text-decoration-color: #800080">seconds</span>                                      │
│                        <span style="font-weight: bold">)</span>                                                     │
│                    <span style="font-weight: bold">)</span>                                                         │
│ profile:cv:score   <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">Interval</span><span style="font-weight: bold">(</span>                                                 │
│                        <span style="color: #808000; text-decoration-color: #808000">memory</span>=<span style="color: #800080; text-decoration-color: #800080; font-weight: bold">Interval</span><span style="font-weight: bold">(</span>                                      │
│                            <span style="color: #808000; text-decoration-color: #808000">start_vms</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2108018688.0</span>,                           │
│                            <span style="color: #808000; text-decoration-color: #808000">start_rss</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">368123904.0</span>,                            │
│                            <span style="color: #808000; text-decoration-color: #808000">end_vms</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2108018688</span>,                               │
│                            <span style="color: #808000; text-decoration-color: #808000">end_rss</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">368254976</span>,                                │
│                            <span style="color: #808000; text-decoration-color: #808000">unit</span>=<span style="color: #800080; text-decoration-color: #800080">bytes</span>                                        │
│                        <span style="font-weight: bold">)</span>,                                                    │
│                        <span style="color: #808000; text-decoration-color: #808000">time</span>=<span style="color: #800080; text-decoration-color: #800080; font-weight: bold">Interval</span><span style="font-weight: bold">(</span>                                        │
│                            <span style="color: #808000; text-decoration-color: #808000">start</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1709227587.3138366</span>,                         │
│                            <span style="color: #808000; text-decoration-color: #808000">end</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1709227587.315546</span>,                            │
│                            <span style="color: #808000; text-decoration-color: #808000">kind</span>=<span style="color: #800080; text-decoration-color: #800080">wall</span>,                                        │
│                            <span style="color: #808000; text-decoration-color: #808000">unit</span>=<span style="color: #800080; text-decoration-color: #800080">seconds</span>                                      │
│                        <span style="font-weight: bold">)</span>                                                     │
│                    <span style="font-weight: bold">)</span>                                                         │
│ profile:cv:split_0 <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">Interval</span><span style="font-weight: bold">(</span>                                                 │
│                        <span style="color: #808000; text-decoration-color: #808000">memory</span>=<span style="color: #800080; text-decoration-color: #800080; font-weight: bold">Interval</span><span style="font-weight: bold">(</span>                                      │
│                            <span style="color: #808000; text-decoration-color: #808000">start_vms</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2108018688.0</span>,                           │
│                            <span style="color: #808000; text-decoration-color: #808000">start_rss</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">368254976.0</span>,                            │
│                            <span style="color: #808000; text-decoration-color: #808000">end_vms</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2108018688</span>,                               │
│                            <span style="color: #808000; text-decoration-color: #808000">end_rss</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">368254976</span>,                                │
│                            <span style="color: #808000; text-decoration-color: #808000">unit</span>=<span style="color: #800080; text-decoration-color: #800080">bytes</span>                                        │
│                        <span style="font-weight: bold">)</span>,                                                    │
│                        <span style="color: #808000; text-decoration-color: #808000">time</span>=<span style="color: #800080; text-decoration-color: #800080; font-weight: bold">Interval</span><span style="font-weight: bold">(</span>                                        │
│                            <span style="color: #808000; text-decoration-color: #808000">start</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1709227587.3158853</span>,                         │
│                            <span style="color: #808000; text-decoration-color: #808000">end</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1709227587.3256114</span>,                           │
│                            <span style="color: #808000; text-decoration-color: #808000">kind</span>=<span style="color: #800080; text-decoration-color: #800080">wall</span>,                                        │
│                            <span style="color: #808000; text-decoration-color: #808000">unit</span>=<span style="color: #800080; text-decoration-color: #800080">seconds</span>                                      │
│                        <span style="font-weight: bold">)</span>                                                     │
│                    <span style="font-weight: bold">)</span>                                                         │
╰──────────────────────────────────────────────────────────────────────────────╯
</code>
</pre>

</p>
</div>
<p>!!! warning "Recommended settings for <code>CVEvaluation</code></p>
<div class="highlight"><pre><span></span><code>When a trial is early stopped, it will be counted as a failed trial.
This can conflict with the behaviour of `pipeline.optimize` which
by default sets `on_trial_exception=&quot;raise&quot;`, causing the optimization
to end. If using [`pipeline.optimize`][amltk.pipeline.Node.optimize],
to set `on_trial_exception=&quot;continue&quot;` to continue optimization.
</code></pre></div>
<p>This will also add a new event to the task which you can subscribe to with
<a class="autorefs autorefs-internal" href="#amltk.sklearn.evaluation.CVEvaluation.SPLIT_EVALUATED"><code>task.on("split-evaluated")</code></a>.
It will be passed a
<a class="autorefs autorefs-internal" href="#amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo"><code>CVEvaluation.PostSplitInfo</code></a>
that you can use to make a decision on whether to continue or stop. The
passed in <code>strategy=</code> simply sets up listening to these events for you.
You can also do this manually.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">scores</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="n">evaluator</span> <span class="o">=</span> <span class="n">CVEvaluation</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">task</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">task</span><span class="p">(</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">evaluator</span><span class="o">.</span><span class="n">fn</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">plugins</span><span class="o">=</span><span class="p">[</span><span class="n">evaluator</span><span class="o">.</span><span class="n">cv_early_stopping_plugin</span><span class="p">()]</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="p">)</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="nd">@task</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;split-evaluated&quot;</span><span class="p">)</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="k">def</span> <span class="nf">should_stop</span><span class="p">(</span><span class="n">trial</span><span class="p">:</span> <span class="n">Trial</span><span class="p">,</span> <span class="n">scores</span><span class="p">:</span> <span class="n">CVEvaluation</span><span class="o">.</span><span class="n">SplitScores</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span> <span class="o">|</span> <span class="n">Execption</span><span class="p">:</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="c1"># Make a decision on whether to stop or continue</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    <span class="k">return</span> <span class="n">info</span><span class="o">.</span><span class="n">scores</span><span class="p">[</span><span class="s2">&quot;accuracy&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">scores</span><span class="o">.</span><span class="n">val</span><span class="p">[</span><span class="s2">&quot;accuracy&quot;</span><span class="p">])</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="nd">@task</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;result&quot;</span><span class="p">)</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="k">def</span> <span class="nf">update_scores</span><span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">report</span><span class="p">:</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span> <span class="o">|</span> <span class="n">Execption</span><span class="p">:</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    <span class="k">if</span> <span class="n">report</span><span class="o">.</span><span class="n">status</span> <span class="ow">is</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">SUCCESS</span><span class="p">:</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>        <span class="k">return</span> <span class="n">scores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">report</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="s2">&quot;accuracy&quot;</span><span class="p">])</span>
</code></pre></div>



  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b> DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>strategy</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The strategy to use for early stopping. Must implement the
<code>update()</code> and <code>should_stop()</code> methods of
<a class="autorefs autorefs-internal" href="#amltk.sklearn.evaluation.CVEarlyStoppingProtocol"><code>CVEarlyStoppingProtocol</code></a>.
Please follow the documentation link to find out more.</p>
<p>By default, when no <code>strategy=</code> is passedj this is <code>None</code> and
this will create a <a class="autorefs autorefs-internal" href="../../scheduling/plugins/comm/#amltk.scheduling.plugins.comm.Comm"><code>Comm</code></a> object,
allowing communication between the worker running the task and the main
process. This adds a new event to the task that you can subscribe
to with
<a class="autorefs autorefs-internal" href="#amltk.sklearn.evaluation.CVEvaluation.SPLIT_EVALUATED"><code>task.on("split-evaluated")</code></a>.
This is how a passed in strategy will be called and updated.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.CVEarlyStoppingProtocol" href="#amltk.sklearn.evaluation.CVEarlyStoppingProtocol">CVEarlyStoppingProtocol</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>create_comms</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>A function that creates a pair of comms for the
plugin to use. This is useful if you want to create a
custom communication channel. If not provided, the default
communication channel will be used.</p>
<div class="admonition note">
<p class="admonition-title">Default communication channel</p>
<p>By default we use a simple <code>multiprocessing.Pipe</code> which works
for parallel processses from
<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.ProcessPoolExecutor"><code>ProcessPoolExecutor</code></a>.
This may not work if the tasks is being executed in a different
filesystem or depending on the executor which executes the task.</p>
</div>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a>[[], <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>[<a class="autorefs autorefs-internal" title="amltk.scheduling.plugins.comm.Comm" href="../../scheduling/plugins/comm/#amltk.scheduling.plugins.comm.Comm">Comm</a>, <a class="autorefs autorefs-internal" title="amltk.scheduling.plugins.comm.Comm" href="../../scheduling/plugins/comm/#amltk.scheduling.plugins.comm.Comm">Comm</a>]] | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>



  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><span title="amltk.sklearn.evaluation.CVEvaluation._CVEarlyStoppingPlugin">_CVEarlyStoppingPlugin</span></code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>The plugin to use for the task.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>src/amltk/sklearn/evaluation.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1638">1638</a></span>
<span class="normal"><a href="#__codelineno-0-1639">1639</a></span>
<span class="normal"><a href="#__codelineno-0-1640">1640</a></span>
<span class="normal"><a href="#__codelineno-0-1641">1641</a></span>
<span class="normal"><a href="#__codelineno-0-1642">1642</a></span>
<span class="normal"><a href="#__codelineno-0-1643">1643</a></span>
<span class="normal"><a href="#__codelineno-0-1644">1644</a></span>
<span class="normal"><a href="#__codelineno-0-1645">1645</a></span>
<span class="normal"><a href="#__codelineno-0-1646">1646</a></span>
<span class="normal"><a href="#__codelineno-0-1647">1647</a></span>
<span class="normal"><a href="#__codelineno-0-1648">1648</a></span>
<span class="normal"><a href="#__codelineno-0-1649">1649</a></span>
<span class="normal"><a href="#__codelineno-0-1650">1650</a></span>
<span class="normal"><a href="#__codelineno-0-1651">1651</a></span>
<span class="normal"><a href="#__codelineno-0-1652">1652</a></span>
<span class="normal"><a href="#__codelineno-0-1653">1653</a></span>
<span class="normal"><a href="#__codelineno-0-1654">1654</a></span>
<span class="normal"><a href="#__codelineno-0-1655">1655</a></span>
<span class="normal"><a href="#__codelineno-0-1656">1656</a></span>
<span class="normal"><a href="#__codelineno-0-1657">1657</a></span>
<span class="normal"><a href="#__codelineno-0-1658">1658</a></span>
<span class="normal"><a href="#__codelineno-0-1659">1659</a></span>
<span class="normal"><a href="#__codelineno-0-1660">1660</a></span>
<span class="normal"><a href="#__codelineno-0-1661">1661</a></span>
<span class="normal"><a href="#__codelineno-0-1662">1662</a></span>
<span class="normal"><a href="#__codelineno-0-1663">1663</a></span>
<span class="normal"><a href="#__codelineno-0-1664">1664</a></span>
<span class="normal"><a href="#__codelineno-0-1665">1665</a></span>
<span class="normal"><a href="#__codelineno-0-1666">1666</a></span>
<span class="normal"><a href="#__codelineno-0-1667">1667</a></span>
<span class="normal"><a href="#__codelineno-0-1668">1668</a></span>
<span class="normal"><a href="#__codelineno-0-1669">1669</a></span>
<span class="normal"><a href="#__codelineno-0-1670">1670</a></span>
<span class="normal"><a href="#__codelineno-0-1671">1671</a></span>
<span class="normal"><a href="#__codelineno-0-1672">1672</a></span>
<span class="normal"><a href="#__codelineno-0-1673">1673</a></span>
<span class="normal"><a href="#__codelineno-0-1674">1674</a></span>
<span class="normal"><a href="#__codelineno-0-1675">1675</a></span>
<span class="normal"><a href="#__codelineno-0-1676">1676</a></span>
<span class="normal"><a href="#__codelineno-0-1677">1677</a></span>
<span class="normal"><a href="#__codelineno-0-1678">1678</a></span>
<span class="normal"><a href="#__codelineno-0-1679">1679</a></span>
<span class="normal"><a href="#__codelineno-0-1680">1680</a></span>
<span class="normal"><a href="#__codelineno-0-1681">1681</a></span>
<span class="normal"><a href="#__codelineno-0-1682">1682</a></span>
<span class="normal"><a href="#__codelineno-0-1683">1683</a></span>
<span class="normal"><a href="#__codelineno-0-1684">1684</a></span>
<span class="normal"><a href="#__codelineno-0-1685">1685</a></span>
<span class="normal"><a href="#__codelineno-0-1686">1686</a></span>
<span class="normal"><a href="#__codelineno-0-1687">1687</a></span>
<span class="normal"><a href="#__codelineno-0-1688">1688</a></span>
<span class="normal"><a href="#__codelineno-0-1689">1689</a></span>
<span class="normal"><a href="#__codelineno-0-1690">1690</a></span>
<span class="normal"><a href="#__codelineno-0-1691">1691</a></span>
<span class="normal"><a href="#__codelineno-0-1692">1692</a></span>
<span class="normal"><a href="#__codelineno-0-1693">1693</a></span>
<span class="normal"><a href="#__codelineno-0-1694">1694</a></span>
<span class="normal"><a href="#__codelineno-0-1695">1695</a></span>
<span class="normal"><a href="#__codelineno-0-1696">1696</a></span>
<span class="normal"><a href="#__codelineno-0-1697">1697</a></span>
<span class="normal"><a href="#__codelineno-0-1698">1698</a></span>
<span class="normal"><a href="#__codelineno-0-1699">1699</a></span>
<span class="normal"><a href="#__codelineno-0-1700">1700</a></span>
<span class="normal"><a href="#__codelineno-0-1701">1701</a></span>
<span class="normal"><a href="#__codelineno-0-1702">1702</a></span>
<span class="normal"><a href="#__codelineno-0-1703">1703</a></span>
<span class="normal"><a href="#__codelineno-0-1704">1704</a></span>
<span class="normal"><a href="#__codelineno-0-1705">1705</a></span>
<span class="normal"><a href="#__codelineno-0-1706">1706</a></span>
<span class="normal"><a href="#__codelineno-0-1707">1707</a></span>
<span class="normal"><a href="#__codelineno-0-1708">1708</a></span>
<span class="normal"><a href="#__codelineno-0-1709">1709</a></span>
<span class="normal"><a href="#__codelineno-0-1710">1710</a></span>
<span class="normal"><a href="#__codelineno-0-1711">1711</a></span>
<span class="normal"><a href="#__codelineno-0-1712">1712</a></span>
<span class="normal"><a href="#__codelineno-0-1713">1713</a></span>
<span class="normal"><a href="#__codelineno-0-1714">1714</a></span>
<span class="normal"><a href="#__codelineno-0-1715">1715</a></span>
<span class="normal"><a href="#__codelineno-0-1716">1716</a></span>
<span class="normal"><a href="#__codelineno-0-1717">1717</a></span>
<span class="normal"><a href="#__codelineno-0-1718">1718</a></span>
<span class="normal"><a href="#__codelineno-0-1719">1719</a></span>
<span class="normal"><a href="#__codelineno-0-1720">1720</a></span>
<span class="normal"><a href="#__codelineno-0-1721">1721</a></span>
<span class="normal"><a href="#__codelineno-0-1722">1722</a></span>
<span class="normal"><a href="#__codelineno-0-1723">1723</a></span>
<span class="normal"><a href="#__codelineno-0-1724">1724</a></span>
<span class="normal"><a href="#__codelineno-0-1725">1725</a></span>
<span class="normal"><a href="#__codelineno-0-1726">1726</a></span>
<span class="normal"><a href="#__codelineno-0-1727">1727</a></span>
<span class="normal"><a href="#__codelineno-0-1728">1728</a></span>
<span class="normal"><a href="#__codelineno-0-1729">1729</a></span>
<span class="normal"><a href="#__codelineno-0-1730">1730</a></span>
<span class="normal"><a href="#__codelineno-0-1731">1731</a></span>
<span class="normal"><a href="#__codelineno-0-1732">1732</a></span>
<span class="normal"><a href="#__codelineno-0-1733">1733</a></span>
<span class="normal"><a href="#__codelineno-0-1734">1734</a></span>
<span class="normal"><a href="#__codelineno-0-1735">1735</a></span>
<span class="normal"><a href="#__codelineno-0-1736">1736</a></span>
<span class="normal"><a href="#__codelineno-0-1737">1737</a></span>
<span class="normal"><a href="#__codelineno-0-1738">1738</a></span>
<span class="normal"><a href="#__codelineno-0-1739">1739</a></span>
<span class="normal"><a href="#__codelineno-0-1740">1740</a></span>
<span class="normal"><a href="#__codelineno-0-1741">1741</a></span>
<span class="normal"><a href="#__codelineno-0-1742">1742</a></span>
<span class="normal"><a href="#__codelineno-0-1743">1743</a></span>
<span class="normal"><a href="#__codelineno-0-1744">1744</a></span>
<span class="normal"><a href="#__codelineno-0-1745">1745</a></span>
<span class="normal"><a href="#__codelineno-0-1746">1746</a></span>
<span class="normal"><a href="#__codelineno-0-1747">1747</a></span>
<span class="normal"><a href="#__codelineno-0-1748">1748</a></span>
<span class="normal"><a href="#__codelineno-0-1749">1749</a></span>
<span class="normal"><a href="#__codelineno-0-1750">1750</a></span>
<span class="normal"><a href="#__codelineno-0-1751">1751</a></span>
<span class="normal"><a href="#__codelineno-0-1752">1752</a></span>
<span class="normal"><a href="#__codelineno-0-1753">1753</a></span>
<span class="normal"><a href="#__codelineno-0-1754">1754</a></span>
<span class="normal"><a href="#__codelineno-0-1755">1755</a></span>
<span class="normal"><a href="#__codelineno-0-1756">1756</a></span>
<span class="normal"><a href="#__codelineno-0-1757">1757</a></span>
<span class="normal"><a href="#__codelineno-0-1758">1758</a></span>
<span class="normal"><a href="#__codelineno-0-1759">1759</a></span>
<span class="normal"><a href="#__codelineno-0-1760">1760</a></span>
<span class="normal"><a href="#__codelineno-0-1761">1761</a></span>
<span class="normal"><a href="#__codelineno-0-1762">1762</a></span>
<span class="normal"><a href="#__codelineno-0-1763">1763</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1638" name="__codelineno-0-1638"></a><span class="k">def</span> <span class="nf">cv_early_stopping_plugin</span><span class="p">(</span>
<a id="__codelineno-0-1639" name="__codelineno-0-1639"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-1640" name="__codelineno-0-1640"></a>    <span class="n">strategy</span><span class="p">:</span> <span class="n">CVEarlyStoppingProtocol</span>
<a id="__codelineno-0-1641" name="__codelineno-0-1641"></a>    <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>  <span class="c1"># TODO: Can provide some defaults...</span>
<a id="__codelineno-0-1642" name="__codelineno-0-1642"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-1643" name="__codelineno-0-1643"></a>    <span class="n">create_comms</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[],</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Comm</span><span class="p">,</span> <span class="n">Comm</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1644" name="__codelineno-0-1644"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CVEvaluation</span><span class="o">.</span><span class="n">_CVEarlyStoppingPlugin</span><span class="p">:</span>
<a id="__codelineno-0-1645" name="__codelineno-0-1645"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a plugin for a task allow for early stopping.</span>
<a id="__codelineno-0-1646" name="__codelineno-0-1646"></a>
<a id="__codelineno-0-1647" name="__codelineno-0-1647"></a><span class="sd">    ```python exec=&quot;true&quot; source=&quot;material-block&quot; result=&quot;python&quot; html=&quot;true&quot;</span>
<a id="__codelineno-0-1648" name="__codelineno-0-1648"></a><span class="sd">    from dataclasses import dataclass</span>
<a id="__codelineno-0-1649" name="__codelineno-0-1649"></a><span class="sd">    from pathlib import Path</span>
<a id="__codelineno-0-1650" name="__codelineno-0-1650"></a>
<a id="__codelineno-0-1651" name="__codelineno-0-1651"></a><span class="sd">    import sklearn.datasets</span>
<a id="__codelineno-0-1652" name="__codelineno-0-1652"></a><span class="sd">    from sklearn.tree import DecisionTreeClassifier</span>
<a id="__codelineno-0-1653" name="__codelineno-0-1653"></a>
<a id="__codelineno-0-1654" name="__codelineno-0-1654"></a><span class="sd">    from amltk.sklearn import CVEvaluation</span>
<a id="__codelineno-0-1655" name="__codelineno-0-1655"></a><span class="sd">    from amltk.pipeline import Component</span>
<a id="__codelineno-0-1656" name="__codelineno-0-1656"></a><span class="sd">    from amltk.optimization import Metric</span>
<a id="__codelineno-0-1657" name="__codelineno-0-1657"></a>
<a id="__codelineno-0-1658" name="__codelineno-0-1658"></a><span class="sd">    working_dir = Path(&quot;./some-path&quot;)</span>
<a id="__codelineno-0-1659" name="__codelineno-0-1659"></a><span class="sd">    pipeline = Component(DecisionTreeClassifier, space={&quot;max_depth&quot;: (1, 10)})</span>
<a id="__codelineno-0-1660" name="__codelineno-0-1660"></a><span class="sd">    x, y = sklearn.datasets.load_iris(return_X_y=True)</span>
<a id="__codelineno-0-1661" name="__codelineno-0-1661"></a><span class="sd">    evaluator = CVEvaluation(x, y, n_splits=3, working_dir=working_dir)</span>
<a id="__codelineno-0-1662" name="__codelineno-0-1662"></a>
<a id="__codelineno-0-1663" name="__codelineno-0-1663"></a><span class="sd">    # Our early stopping strategy, with an `update()` and `should_stop()`</span>
<a id="__codelineno-0-1664" name="__codelineno-0-1664"></a><span class="sd">    # signature match what&#39;s expected.</span>
<a id="__codelineno-0-1665" name="__codelineno-0-1665"></a>
<a id="__codelineno-0-1666" name="__codelineno-0-1666"></a><span class="sd">    @dataclass</span>
<a id="__codelineno-0-1667" name="__codelineno-0-1667"></a><span class="sd">    class CVEarlyStopper:</span>
<a id="__codelineno-0-1668" name="__codelineno-0-1668"></a><span class="sd">        def update(self, report: Trial.Report) -&gt; None:</span>
<a id="__codelineno-0-1669" name="__codelineno-0-1669"></a><span class="sd">            # Normally you would update w.r.t. a finished trial, such</span>
<a id="__codelineno-0-1670" name="__codelineno-0-1670"></a><span class="sd">            # as updating a moving average of the scores.</span>
<a id="__codelineno-0-1671" name="__codelineno-0-1671"></a><span class="sd">            pass</span>
<a id="__codelineno-0-1672" name="__codelineno-0-1672"></a>
<a id="__codelineno-0-1673" name="__codelineno-0-1673"></a><span class="sd">        def should_stop(self, trial: Trial, scores: CVEvaluation.SplitScores) -&gt; bool | Exception:</span>
<a id="__codelineno-0-1674" name="__codelineno-0-1674"></a><span class="sd">            # Return True to stop, False to continue. Alternatively, return a</span>
<a id="__codelineno-0-1675" name="__codelineno-0-1675"></a><span class="sd">            # specific exception to attach to the report instead</span>
<a id="__codelineno-0-1676" name="__codelineno-0-1676"></a><span class="sd">            return True</span>
<a id="__codelineno-0-1677" name="__codelineno-0-1677"></a>
<a id="__codelineno-0-1678" name="__codelineno-0-1678"></a><span class="sd">    history = pipeline.optimize(</span>
<a id="__codelineno-0-1679" name="__codelineno-0-1679"></a><span class="sd">        target=evaluator.fn,</span>
<a id="__codelineno-0-1680" name="__codelineno-0-1680"></a><span class="sd">        metric=Metric(&quot;accuracy&quot;, minimize=False, bounds=(0, 1)),</span>
<a id="__codelineno-0-1681" name="__codelineno-0-1681"></a><span class="sd">        max_trials=1,</span>
<a id="__codelineno-0-1682" name="__codelineno-0-1682"></a><span class="sd">        working_dir=working_dir,</span>
<a id="__codelineno-0-1683" name="__codelineno-0-1683"></a>
<a id="__codelineno-0-1684" name="__codelineno-0-1684"></a><span class="sd">        # Here we insert the plugin to the task that will get created</span>
<a id="__codelineno-0-1685" name="__codelineno-0-1685"></a><span class="sd">        plugins=[evaluator.cv_early_stopping_plugin(strategy=CVEarlyStopper())],</span>
<a id="__codelineno-0-1686" name="__codelineno-0-1686"></a>
<a id="__codelineno-0-1687" name="__codelineno-0-1687"></a><span class="sd">        # Notably, we set `on_trial_exception=&quot;continue&quot;` to not stop as</span>
<a id="__codelineno-0-1688" name="__codelineno-0-1688"></a><span class="sd">        # we expect trials to fail given the early stopping strategy</span>
<a id="__codelineno-0-1689" name="__codelineno-0-1689"></a><span class="sd">        on_trial_exception=&quot;continue&quot;,</span>
<a id="__codelineno-0-1690" name="__codelineno-0-1690"></a><span class="sd">    )</span>
<a id="__codelineno-0-1691" name="__codelineno-0-1691"></a><span class="sd">    from amltk._doc import doc_print; doc_print(print, history[0])  # markdown-exec: hide</span>
<a id="__codelineno-0-1692" name="__codelineno-0-1692"></a><span class="sd">    evaluator.bucket.rmdir()  # markdown-exec: hide</span>
<a id="__codelineno-0-1693" name="__codelineno-0-1693"></a><span class="sd">    ```</span>
<a id="__codelineno-0-1694" name="__codelineno-0-1694"></a>
<a id="__codelineno-0-1695" name="__codelineno-0-1695"></a><span class="sd">    !!! warning &quot;Recommended settings for `CVEvaluation`</span>
<a id="__codelineno-0-1696" name="__codelineno-0-1696"></a>
<a id="__codelineno-0-1697" name="__codelineno-0-1697"></a><span class="sd">        When a trial is early stopped, it will be counted as a failed trial.</span>
<a id="__codelineno-0-1698" name="__codelineno-0-1698"></a><span class="sd">        This can conflict with the behaviour of `pipeline.optimize` which</span>
<a id="__codelineno-0-1699" name="__codelineno-0-1699"></a><span class="sd">        by default sets `on_trial_exception=&quot;raise&quot;`, causing the optimization</span>
<a id="__codelineno-0-1700" name="__codelineno-0-1700"></a><span class="sd">        to end. If using [`pipeline.optimize`][amltk.pipeline.Node.optimize],</span>
<a id="__codelineno-0-1701" name="__codelineno-0-1701"></a><span class="sd">        to set `on_trial_exception=&quot;continue&quot;` to continue optimization.</span>
<a id="__codelineno-0-1702" name="__codelineno-0-1702"></a>
<a id="__codelineno-0-1703" name="__codelineno-0-1703"></a><span class="sd">    This will also add a new event to the task which you can subscribe to with</span>
<a id="__codelineno-0-1704" name="__codelineno-0-1704"></a><span class="sd">    [`task.on(&quot;split-evaluated&quot;)`][amltk.sklearn.evaluation.CVEvaluation.SPLIT_EVALUATED].</span>
<a id="__codelineno-0-1705" name="__codelineno-0-1705"></a><span class="sd">    It will be passed a</span>
<a id="__codelineno-0-1706" name="__codelineno-0-1706"></a><span class="sd">    [`CVEvaluation.PostSplitInfo`][amltk.sklearn.evaluation.CVEvaluation.PostSplitInfo]</span>
<a id="__codelineno-0-1707" name="__codelineno-0-1707"></a><span class="sd">    that you can use to make a decision on whether to continue or stop. The</span>
<a id="__codelineno-0-1708" name="__codelineno-0-1708"></a><span class="sd">    passed in `strategy=` simply sets up listening to these events for you.</span>
<a id="__codelineno-0-1709" name="__codelineno-0-1709"></a><span class="sd">    You can also do this manually.</span>
<a id="__codelineno-0-1710" name="__codelineno-0-1710"></a>
<a id="__codelineno-0-1711" name="__codelineno-0-1711"></a><span class="sd">    ```python</span>
<a id="__codelineno-0-1712" name="__codelineno-0-1712"></a><span class="sd">    scores = []</span>
<a id="__codelineno-0-1713" name="__codelineno-0-1713"></a><span class="sd">    evaluator = CVEvaluation(...)</span>
<a id="__codelineno-0-1714" name="__codelineno-0-1714"></a><span class="sd">    task = scheduler.task(</span>
<a id="__codelineno-0-1715" name="__codelineno-0-1715"></a><span class="sd">        evaluator.fn,</span>
<a id="__codelineno-0-1716" name="__codelineno-0-1716"></a><span class="sd">        plugins=[evaluator.cv_early_stopping_plugin()]</span>
<a id="__codelineno-0-1717" name="__codelineno-0-1717"></a><span class="sd">    )</span>
<a id="__codelineno-0-1718" name="__codelineno-0-1718"></a>
<a id="__codelineno-0-1719" name="__codelineno-0-1719"></a><span class="sd">    @task.on(&quot;split-evaluated&quot;)</span>
<a id="__codelineno-0-1720" name="__codelineno-0-1720"></a><span class="sd">    def should_stop(trial: Trial, scores: CVEvaluation.SplitScores) -&gt; bool | Execption:</span>
<a id="__codelineno-0-1721" name="__codelineno-0-1721"></a><span class="sd">        # Make a decision on whether to stop or continue</span>
<a id="__codelineno-0-1722" name="__codelineno-0-1722"></a><span class="sd">        return info.scores[&quot;accuracy&quot;] &lt; np.mean(scores.val[&quot;accuracy&quot;])</span>
<a id="__codelineno-0-1723" name="__codelineno-0-1723"></a>
<a id="__codelineno-0-1724" name="__codelineno-0-1724"></a><span class="sd">    @task.on(&quot;result&quot;)</span>
<a id="__codelineno-0-1725" name="__codelineno-0-1725"></a><span class="sd">    def update_scores(_, report: Trial.Report) -&gt; bool | Execption:</span>
<a id="__codelineno-0-1726" name="__codelineno-0-1726"></a><span class="sd">        if report.status is Trial.Status.SUCCESS:</span>
<a id="__codelineno-0-1727" name="__codelineno-0-1727"></a><span class="sd">            return scores.append(report.values[&quot;accuracy&quot;])</span>
<a id="__codelineno-0-1728" name="__codelineno-0-1728"></a><span class="sd">    ```</span>
<a id="__codelineno-0-1729" name="__codelineno-0-1729"></a>
<a id="__codelineno-0-1730" name="__codelineno-0-1730"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-1731" name="__codelineno-0-1731"></a><span class="sd">        strategy: The strategy to use for early stopping. Must implement the</span>
<a id="__codelineno-0-1732" name="__codelineno-0-1732"></a><span class="sd">            `update()` and `should_stop()` methods of</span>
<a id="__codelineno-0-1733" name="__codelineno-0-1733"></a><span class="sd">            [`CVEarlyStoppingProtocol`][amltk.sklearn.evaluation.CVEarlyStoppingProtocol].</span>
<a id="__codelineno-0-1734" name="__codelineno-0-1734"></a><span class="sd">            Please follow the documentation link to find out more.</span>
<a id="__codelineno-0-1735" name="__codelineno-0-1735"></a>
<a id="__codelineno-0-1736" name="__codelineno-0-1736"></a><span class="sd">            By default, when no `strategy=` is passedj this is `None` and</span>
<a id="__codelineno-0-1737" name="__codelineno-0-1737"></a><span class="sd">            this will create a [`Comm`][amltk.scheduling.plugins.comm.Comm] object,</span>
<a id="__codelineno-0-1738" name="__codelineno-0-1738"></a><span class="sd">            allowing communication between the worker running the task and the main</span>
<a id="__codelineno-0-1739" name="__codelineno-0-1739"></a><span class="sd">            process. This adds a new event to the task that you can subscribe</span>
<a id="__codelineno-0-1740" name="__codelineno-0-1740"></a><span class="sd">            to with</span>
<a id="__codelineno-0-1741" name="__codelineno-0-1741"></a><span class="sd">            [`task.on(&quot;split-evaluated&quot;)`][amltk.sklearn.evaluation.CVEvaluation.SPLIT_EVALUATED].</span>
<a id="__codelineno-0-1742" name="__codelineno-0-1742"></a><span class="sd">            This is how a passed in strategy will be called and updated.</span>
<a id="__codelineno-0-1743" name="__codelineno-0-1743"></a><span class="sd">        create_comms: A function that creates a pair of comms for the</span>
<a id="__codelineno-0-1744" name="__codelineno-0-1744"></a><span class="sd">            plugin to use. This is useful if you want to create a</span>
<a id="__codelineno-0-1745" name="__codelineno-0-1745"></a><span class="sd">            custom communication channel. If not provided, the default</span>
<a id="__codelineno-0-1746" name="__codelineno-0-1746"></a><span class="sd">            communication channel will be used.</span>
<a id="__codelineno-0-1747" name="__codelineno-0-1747"></a>
<a id="__codelineno-0-1748" name="__codelineno-0-1748"></a><span class="sd">            !!! note &quot;Default communication channel&quot;</span>
<a id="__codelineno-0-1749" name="__codelineno-0-1749"></a>
<a id="__codelineno-0-1750" name="__codelineno-0-1750"></a><span class="sd">                By default we use a simple `multiprocessing.Pipe` which works</span>
<a id="__codelineno-0-1751" name="__codelineno-0-1751"></a><span class="sd">                for parallel processses from</span>
<a id="__codelineno-0-1752" name="__codelineno-0-1752"></a><span class="sd">                [`ProcessPoolExecutor`][concurrent.futures.ProcessPoolExecutor].</span>
<a id="__codelineno-0-1753" name="__codelineno-0-1753"></a><span class="sd">                This may not work if the tasks is being executed in a different</span>
<a id="__codelineno-0-1754" name="__codelineno-0-1754"></a><span class="sd">                filesystem or depending on the executor which executes the task.</span>
<a id="__codelineno-0-1755" name="__codelineno-0-1755"></a>
<a id="__codelineno-0-1756" name="__codelineno-0-1756"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1757" name="__codelineno-0-1757"></a><span class="sd">        The plugin to use for the task.</span>
<a id="__codelineno-0-1758" name="__codelineno-0-1758"></a><span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
<a id="__codelineno-0-1759" name="__codelineno-0-1759"></a>    <span class="k">return</span> <span class="n">CVEvaluation</span><span class="o">.</span><span class="n">_CVEarlyStoppingPlugin</span><span class="p">(</span>
<a id="__codelineno-0-1760" name="__codelineno-0-1760"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-1761" name="__codelineno-0-1761"></a>        <span class="n">strategy</span><span class="o">=</span><span class="n">strategy</span><span class="p">,</span>
<a id="__codelineno-0-1762" name="__codelineno-0-1762"></a>        <span class="n">create_comms</span><span class="o">=</span><span class="n">create_comms</span><span class="p">,</span>
<a id="__codelineno-0-1763" name="__codelineno-0-1763"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>



<div class="doc doc-object doc-function">



<h3 id="amltk.sklearn.evaluation.identify_task_type" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>          <span class="doc doc-object-name doc-function-name">identify_task_type</span>


<a href="#amltk.sklearn.evaluation.identify_task_type" class="headerlink" title="Permanent link">#</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">identify_task_type</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">y</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.YLike" href="#amltk.sklearn.evaluation.YLike">YLike</a></span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">task_hint</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>        <span class="s2">&quot;classification&quot;</span><span class="p">,</span> <span class="s2">&quot;regression&quot;</span><span class="p">,</span> <span class="s2">&quot;auto&quot;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;auto&quot;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.sklearn.evaluation.TaskTypeName" href="#amltk.sklearn.evaluation.TaskTypeName">TaskTypeName</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Identify the task type from the target data.</p>

          <details class="quote">
            <summary>Source code in <code>src/amltk/sklearn/evaluation.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-262" name="__codelineno-0-262"></a><span class="k">def</span> <span class="nf">identify_task_type</span><span class="p">(</span>  <span class="c1"># noqa: PLR0911</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a>    <span class="n">y</span><span class="p">:</span> <span class="n">YLike</span><span class="p">,</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a>    <span class="n">task_hint</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;classification&quot;</span><span class="p">,</span> <span class="s2">&quot;regression&quot;</span><span class="p">,</span> <span class="s2">&quot;auto&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;auto&quot;</span><span class="p">,</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TaskTypeName</span><span class="p">:</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Identify the task type from the target data.&quot;&quot;&quot;</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a>    <span class="n">inferred_type</span><span class="p">:</span> <span class="n">TaskTypeName</span> <span class="o">=</span> <span class="n">type_of_target</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a>    <span class="k">if</span> <span class="n">task_hint</span> <span class="o">==</span> <span class="s2">&quot;auto&quot;</span><span class="p">:</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>            <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">task_hint</span><span class="si">=}</span><span class="s2">` was not provided. The task type was inferred from&quot;</span>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a>            <span class="sa">f</span><span class="s2">&quot; the target data to be &#39;</span><span class="si">{</span><span class="n">inferred_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a>            <span class="s2">&quot; To silence this warning, please provide `task_hint`.&quot;</span><span class="p">,</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a>            <span class="n">AutomaticTaskTypeInferredWarning</span><span class="p">,</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>            <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a>        <span class="p">)</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a>        <span class="k">return</span> <span class="n">inferred_type</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a>    <span class="k">match</span> <span class="n">task_hint</span><span class="p">,</span> <span class="n">inferred_type</span><span class="p">:</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a>        <span class="c1"># First two cases are everything is fine</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a>        <span class="k">case</span> <span class="p">(</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a>            <span class="s2">&quot;classification&quot;</span><span class="p">,</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a>            <span class="s2">&quot;binary&quot;</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a>            <span class="o">|</span> <span class="s2">&quot;multiclass&quot;</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a>            <span class="o">|</span> <span class="s2">&quot;multilabel-indicator&quot;</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a>            <span class="o">|</span> <span class="s2">&quot;multiclass-multioutput&quot;</span><span class="p">,</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a>        <span class="p">):</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>            <span class="k">return</span> <span class="n">inferred_type</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a>        <span class="k">case</span> <span class="p">(</span><span class="s2">&quot;regression&quot;</span><span class="p">,</span> <span class="s2">&quot;continuous&quot;</span> <span class="o">|</span> <span class="s2">&quot;continuous-multioutput&quot;</span><span class="p">):</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a>            <span class="k">return</span> <span class="n">inferred_type</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a>        <span class="c1"># Hinted to be regression but we got a single column classification task</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a>        <span class="k">case</span> <span class="p">(</span><span class="s2">&quot;regression&quot;</span><span class="p">,</span> <span class="s2">&quot;binary&quot;</span> <span class="o">|</span> <span class="s2">&quot;multiclass&quot;</span><span class="p">):</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>                <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">task_hint</span><span class="si">=}</span><span class="s2">` but `</span><span class="si">{</span><span class="n">inferred_type</span><span class="si">=}</span><span class="s2">`.&quot;</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>                <span class="s2">&quot; Set to `continuous` as there is only one target column.&quot;</span><span class="p">,</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>                <span class="n">MismatchedTaskTypeWarning</span><span class="p">,</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>                <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>            <span class="p">)</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>            <span class="k">return</span> <span class="s2">&quot;continuous&quot;</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>        <span class="c1"># Hinted to be regression but we got multi-column classification task</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>        <span class="k">case</span> <span class="p">(</span><span class="s2">&quot;regression&quot;</span><span class="p">,</span> <span class="s2">&quot;multilabel-indicator&quot;</span> <span class="o">|</span> <span class="s2">&quot;multiclass-multioutput&quot;</span><span class="p">):</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a>                <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">task_hint</span><span class="si">=}</span><span class="s2">` but `</span><span class="si">{</span><span class="n">inferred_type</span><span class="si">=}</span><span class="s2">`.&quot;</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>                <span class="s2">&quot; Set to `continuous-multiouput` as there are more than 1 target&quot;</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>                <span class="s2">&quot; columns.&quot;</span><span class="p">,</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>                <span class="n">MismatchedTaskTypeWarning</span><span class="p">,</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a>                <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a>            <span class="p">)</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a>            <span class="k">return</span> <span class="s2">&quot;continuous&quot;</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a>        <span class="c1"># Hinted to be classification but we got a single column regression task</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>        <span class="k">case</span> <span class="p">(</span><span class="s2">&quot;classification&quot;</span><span class="p">,</span> <span class="s2">&quot;continuous&quot;</span><span class="p">):</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a>            <span class="k">match</span> <span class="nb">len</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">y</span><span class="p">)):</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a>                <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a>                        <span class="s2">&quot;The target data has only one unique value. This is&quot;</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a>                        <span class="sa">f</span><span class="s2">&quot; not a valid classification task.</span><span class="se">\n</span><span class="si">{</span><span class="n">y</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">,</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a>                    <span class="p">)</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a>                <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a>                    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>                        <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">task_hint</span><span class="si">=}</span><span class="s2">` but `</span><span class="si">{</span><span class="n">inferred_type</span><span class="si">=}</span><span class="s2">`.&quot;</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a>                        <span class="s2">&quot; Set to `binary` as only 2 unique values.&quot;</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a>                        <span class="s2">&quot; To silence this, provide a specific task type to&quot;</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a>                        <span class="sa">f</span><span class="s2">&quot;`task_hint=` from </span><span class="si">{</span><span class="n">_valid_task_types</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a>                        <span class="n">MismatchedTaskTypeWarning</span><span class="p">,</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a>                        <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a>                    <span class="p">)</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a>                    <span class="k">return</span> <span class="s2">&quot;binary&quot;</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a>                <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>                    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>                        <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">task_hint</span><span class="si">=}</span><span class="s2">` but `</span><span class="si">{</span><span class="n">inferred_type</span><span class="si">=}</span><span class="s2">`.&quot;</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a>                        <span class="s2">&quot; Set to `multiclass` as &gt;2 unique values.&quot;</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>                        <span class="s2">&quot; To silence this, provide a specific task type to&quot;</span>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a>                        <span class="sa">f</span><span class="s2">&quot;`task_hint=` from </span><span class="si">{</span><span class="n">_valid_task_types</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a>                        <span class="n">MismatchedTaskTypeWarning</span><span class="p">,</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a>                        <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a>                    <span class="p">)</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a>                    <span class="k">return</span> <span class="s2">&quot;multiclass&quot;</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a>        <span class="c1"># Hinted to be classification but we got multi-column regression task</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>        <span class="k">case</span> <span class="p">(</span><span class="s2">&quot;classification&quot;</span><span class="p">,</span> <span class="s2">&quot;continuous-multioutput&quot;</span><span class="p">):</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a>            <span class="c1"># NOTE: this is a matrix wide .unique, I&#39;m not sure how things</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a>            <span class="c1"># work with multiclass-multioutput and whether it should be</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a>            <span class="c1"># done by 2 unique per column</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>            <span class="n">uniques_per_col</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">col</span><span class="p">)</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">y</span><span class="o">.</span><span class="n">T</span><span class="p">]</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a>            <span class="n">binary_columns</span> <span class="o">=</span> <span class="nb">all</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">col</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">uniques_per_col</span><span class="p">)</span>  <span class="c1"># noqa: PLR2004</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a>            <span class="k">if</span> <span class="n">binary_columns</span><span class="p">:</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a>                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a>                    <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">task_hint</span><span class="si">=}</span><span class="s2">` but `</span><span class="si">{</span><span class="n">inferred_type</span><span class="si">=}</span><span class="s2">`.&quot;</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a>                    <span class="s2">&quot; Set to `multilabel-indicator` as &lt;=2 unique values per column.&quot;</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a>                    <span class="s2">&quot; To silence this, provide a specific task type to&quot;</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a>                    <span class="sa">f</span><span class="s2">&quot;`task_hint=` from </span><span class="si">{</span><span class="n">_valid_task_types</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a>                    <span class="n">MismatchedTaskTypeWarning</span><span class="p">,</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a>                    <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a>                <span class="p">)</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a>                <span class="k">return</span> <span class="s2">&quot;multilabel-indicator&quot;</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a>            <span class="k">else</span><span class="p">:</span>  <span class="c1"># noqa: RET505</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a>                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a>                    <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">task_hint</span><span class="si">=}</span><span class="s2">` but `</span><span class="si">{</span><span class="n">inferred_type</span><span class="si">=}</span><span class="s2">`.&quot;</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>                    <span class="s2">&quot; Set to `multiclass-multioutput` as at least one column has&quot;</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>                    <span class="s2">&quot; &gt;2 unique values.&quot;</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>                    <span class="s2">&quot; To silence this, provide a specific task type to&quot;</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>                    <span class="sa">f</span><span class="s2">&quot;`task_hint=` from </span><span class="si">{</span><span class="n">_valid_task_types</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>                    <span class="n">MismatchedTaskTypeWarning</span><span class="p">,</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a>                    <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>                <span class="p">)</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>                <span class="k">return</span> <span class="s2">&quot;multiclass-multioutput&quot;</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>                <span class="sa">f</span><span class="s2">&quot;Unreachable, please report this bug. </span><span class="si">{</span><span class="n">task_hint</span><span class="si">=}</span><span class="s2">, </span><span class="si">{</span><span class="n">inferred_type</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">,</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>            <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../estimators/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Estimators">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Estimators
              </div>
            </div>
          </a>
        
        
          
          <a href="../voting/" class="md-footer__link md-footer__link--next" aria-label="Next: Voting">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Voting
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/automl" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/automl_org" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["content.code.annotate", "content.code.copy", "navigation.footer", "navigation.sections", "toc.follow", "toc.integrate", "navigation.tabs", "navigation.tabs.sticky", "header.autohide", "search.suggest", "search.highlight", "search.share"], "search": "../../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.c8d2eff1.min.js"></script>
      
        <script src="../../../../assets/_markdown_exec_pyodide.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>