
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../task/">
      
      
        <link rel="next" href="../events/">
      
      
      <link rel="icon" href="../../../assets/automl_org.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.8">
    
    
      
        <title>Plugins - AutoML-Toolkit</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.4b4a2bd9.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_markdown_exec_ansi.css">
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../stylesheets/custom.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="deep-purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#plugins" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="AutoML-Toolkit" class="md-header__button md-logo" aria-label="AutoML-Toolkit" data-md-component="logo">
      
  <img src="../../../assets/automl_org.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AutoML-Toolkit
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Plugins
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="deep-purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3m0-4.5c5 0 9.27 3.11 11 7.5-1.73 4.39-6 7.5-11 7.5S2.73 16.39 1 12c1.73-4.39 6-7.5 11-7.5M3.18 12a9.821 9.821 0 0 0 17.64 0 9.821 9.821 0 0 0-17.64 0Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="deep-purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/automl/amltk/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    automl/amltk
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../guides/" class="md-tabs__link">
          
  
  Guides

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../examples/" class="md-tabs__link">
          
  
  Examples

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../api/" class="md-tabs__link">
          
  
  API

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../contributing/" class="md-tabs__link">
        
  
    
  
  Contributing

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="AutoML-Toolkit" class="md-nav__button md-logo" aria-label="AutoML-Toolkit" data-md-component="logo">
      
  <img src="../../../assets/automl_org.png" alt="logo">

    </a>
    AutoML-Toolkit
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/automl/amltk/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    automl/amltk
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/optimization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optimization Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/pipelines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipelines Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/scheduling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scheduling
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Scheduling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Scheduling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../scheduler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scheduler
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../executors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Executors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../task/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Task
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Plugins
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Plugins
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#plugins" class="md-nav__link">
    Plugins
  </a>
  
    <nav class="md-nav" aria-label="Plugins">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#limiter" class="md-nav__link">
    Limiter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pynisher" class="md-nav__link">
    Pynisher
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comm" class="md-nav__link">
    Comm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#threadpoolctl" class="md-nav__link">
    ThreadPoolCTL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#warning-filter" class="md-nav__link">
    Warning Filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-your-own-plugin" class="md-nav__link">
    Creating Your Own Plugin
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Events
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Pipelines
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Pipelines
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../pipelines/pipeline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipeline
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../pipelines/spaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spaces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../pipelines/builders/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Builders
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Optimization
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Optimization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/optimizers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optimizers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/trials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/history/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    History
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/profiling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Profiling
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../data/buckets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Buckets
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Meta-Learning
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Meta-Learning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../metalearning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metalearning
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/hpo_with_ensembling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Performing HPO with Post-Hoc Ensembling.
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/simple_hpo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Simple HPO loop
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Amltk
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Amltk
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/distances/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Distances
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exceptions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/options/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/randomness/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Randomness
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_6" >
        
          
          <label class="md-nav__link" for="__nav_5_2_6" id="__nav_5_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_6">
            <span class="md-nav__icon md-icon"></span>
            Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/data/conversions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conversions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/data/dtype_reduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dtype reduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/data/measure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Measure
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_7" >
        
          
          <label class="md-nav__link" for="__nav_5_2_7" id="__nav_5_2_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ensembling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_7">
            <span class="md-nav__icon md-icon"></span>
            Ensembling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/ensembling/weighted_ensemble_caruana/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Weighted ensemble caruana
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_8" >
        
          
          <label class="md-nav__link" for="__nav_5_2_8" id="__nav_5_2_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Metalearning
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_8">
            <span class="md-nav__icon md-icon"></span>
            Metalearning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/metalearning/dataset_distances/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dataset distances
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/metalearning/metafeatures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metafeatures
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/metalearning/portfolio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Portfolio
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_9" >
        
          
          <label class="md-nav__link" for="__nav_5_2_9" id="__nav_5_2_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Optimization
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_9">
            <span class="md-nav__icon md-icon"></span>
            Optimization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/optimization/history/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    History
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/optimization/optimizer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optimizer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/optimization/trial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_9_4" >
        
          
          <label class="md-nav__link" for="__nav_5_2_9_4" id="__nav_5_2_9_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Optimizers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_9_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_9_4">
            <span class="md-nav__icon md-icon"></span>
            Optimizers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/optimization/optimizers/neps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Neps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/optimization/optimizers/optuna/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optuna
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/optimization/optimizers/smac/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Smac
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_10" >
        
          
          <label class="md-nav__link" for="__nav_5_2_10" id="__nav_5_2_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Pipeline
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_10">
            <span class="md-nav__icon md-icon"></span>
            Pipeline
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/pipeline/components/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Components
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/pipeline/node/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/pipeline/xgboost/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Xgboost
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_10_4" >
        
          
          <label class="md-nav__link" for="__nav_5_2_10_4" id="__nav_5_2_10_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Builders
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_10_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_10_4">
            <span class="md-nav__icon md-icon"></span>
            Builders
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/pipeline/builders/sklearn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sklearn
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_10_5" >
        
          
          <label class="md-nav__link" for="__nav_5_2_10_5" id="__nav_5_2_10_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Parsers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_10_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_10_5">
            <span class="md-nav__icon md-icon"></span>
            Parsers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/pipeline/parsers/configspace/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configspace
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/pipeline/parsers/optuna/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optuna
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_11" >
        
          
          <label class="md-nav__link" for="__nav_5_2_11" id="__nav_5_2_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Profiling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_11">
            <span class="md-nav__icon md-icon"></span>
            Profiling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/profiling/memory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Memory
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/profiling/profiler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Profiler
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/profiling/timing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timing
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_12" >
        
          
          <label class="md-nav__link" for="__nav_5_2_12" id="__nav_5_2_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Scheduling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_12">
            <span class="md-nav__icon md-icon"></span>
            Scheduling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/scheduling/events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Events
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/scheduling/scheduler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scheduler
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/scheduling/task/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Task
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/scheduling/termination_strategies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Termination strategies
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_12_5" >
        
          
          <label class="md-nav__link" for="__nav_5_2_12_5" id="__nav_5_2_12_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Executors
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_12_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_12_5">
            <span class="md-nav__icon md-icon"></span>
            Executors
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/scheduling/executors/dask_jobqueue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dask jobqueue
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/scheduling/executors/sequential_executor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sequential executor
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_12_6" >
        
          
          <label class="md-nav__link" for="__nav_5_2_12_6" id="__nav_5_2_12_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Plugins
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_12_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_12_6">
            <span class="md-nav__icon md-icon"></span>
            Plugins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/scheduling/plugins/comm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/scheduling/plugins/limiter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Limiter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/scheduling/plugins/plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/scheduling/plugins/pynisher/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pynisher
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/scheduling/plugins/threadpoolctl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Threadpoolctl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/scheduling/plugins/wandb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wandb
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/scheduling/plugins/warning_filter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Warning filter
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_13" >
        
          
          <label class="md-nav__link" for="__nav_5_2_13" id="__nav_5_2_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sklearn
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_13">
            <span class="md-nav__icon md-icon"></span>
            Sklearn
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/sklearn/data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/sklearn/estimators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Estimators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/sklearn/voting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Voting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_14" >
        
          
          <label class="md-nav__link" for="__nav_5_2_14" id="__nav_5_2_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Store
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_14">
            <span class="md-nav__icon md-icon"></span>
            Store
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/store/bucket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bucket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/store/drop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Drop
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/store/loader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Loader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_14_4" >
        
          
          <label class="md-nav__link" for="__nav_5_2_14_4" id="__nav_5_2_14_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Paths
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_14_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_14_4">
            <span class="md-nav__icon md-icon"></span>
            Paths
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/store/paths/path_bucket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Path bucket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/amltk/store/paths/path_loaders/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Path loaders
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#plugins" class="md-nav__link">
    Plugins
  </a>
  
    <nav class="md-nav" aria-label="Plugins">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#limiter" class="md-nav__link">
    Limiter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pynisher" class="md-nav__link">
    Pynisher
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comm" class="md-nav__link">
    Comm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#threadpoolctl" class="md-nav__link">
    ThreadPoolCTL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#warning-filter" class="md-nav__link">
    Warning Filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-your-own-plugin" class="md-nav__link">
    Creating Your Own Plugin
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Plugins</h1>

<h2 id="plugins">Plugins<a class="headerlink" href="#plugins" title="Permanent link">#</a></h2>
<p>Plugins are a way to modify a <a class="autorefs autorefs-internal" href="../../../api/amltk/scheduling/task/#amltk.scheduling.task.Task"><code>Task</code></a>, to add new functionality
or change the behaviour of what goes on in the function that is dispatched to the
<a class="autorefs autorefs-internal" href="../../../api/amltk/scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler"><code>Scheduler</code></a>.</p>
<p>Some plugins will also add new <code>@event</code>s to a task, which can be used to respond accordingly to
something that may have occured with your task.</p>
<p>You can add a plugin to a <a href="./"><code>Task</code></a> as so:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">amltk.scheduling</span> <span class="kn">import</span> <span class="n">Task</span><span class="p">,</span> <span class="n">Scheduler</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">amltk.scheduling.plugins</span> <span class="kn">import</span> <span class="n">Limiter</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="k">def</span> <span class="nf">some_function</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="n">scheduler</span> <span class="o">=</span> <span class="n">Scheduler</span><span class="o">.</span><span class="n">with_processes</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="c1"># When creating a task with the scheduler</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="n">task</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">some_function</span><span class="p">,</span> <span class="n">plugins</span><span class="o">=</span><span class="p">[</span><span class="n">Limiter</span><span class="p">(</span><span class="n">max_calls</span><span class="o">=</span><span class="mi">10</span><span class="p">)])</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="c1"># or directly to a Task</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="n">task</span> <span class="o">=</span> <span class="n">Task</span><span class="p">(</span><span class="n">some_function</span><span class="p">,</span> <span class="n">scheduler</span><span class="o">=</span><span class="n">scheduler</span><span class="p">,</span> <span class="n">plugins</span><span class="o">=</span><span class="p">[</span><span class="n">Limiter</span><span class="p">(</span><span class="n">max_calls</span><span class="o">=</span><span class="mi">10</span><span class="p">)])</span>
</code></pre></div>
<div class="result">
<p>
<pre style="font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace;font-size:0.75rem">
<code style="font-family:inherit"><span style="color: #00afd7; text-decoration-color: #00afd7">╭─ </span><span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">Task </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">some_function</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">(</span><span style="color: #00afd7; text-decoration-color: #00afd7">x: </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">)</span><span style="color: #00afd7; text-decoration-color: #00afd7"> -&gt; </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ──────────────────────────────────────╮</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╭───────────────────────────── Plugin limiter ─────────────────────────────╮ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │ Calls 0/10                                                               │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╰──────────────────────────────────────────────────────────────────────────╯ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_submitted</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_done</span>                                                                     <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_result</span>                                                                   <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_exception</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_cancelled</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">call-limit-reached</span>                                                          <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">concurrent-limit-reached</span>                                                    <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">disabled-due-to-running-task</span>                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">╰─────────────────────────────── Ref: </span><span style="color: #808000; text-decoration-color: #808000; font-style: italic">eShmyyeM</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ────────────────────────────────╯</span>
</code>
</pre>

</p>
</div>
<h3 id="limiter">Limiter<a class="headerlink" href="#limiter" title="Permanent link">#</a></h3>


<div class="doc doc-object doc-module">




  <div class="doc doc-contents first">
  
      <p>The <a class="autorefs autorefs-internal" href="../../../api/amltk/scheduling/plugins/limiter/#amltk.scheduling.plugins.limiter.Limiter"><code>Limiter</code></a> can limit the number of
times a function is called, how many concurrent instances of it can be running,
or whether it can run while another task is running.</p>
<p>The functionality of the <code>Limiter</code> could also be implemented without a plugin but
it gives some nice utility.</p>
<details class="tip">
<summary>Usage</summary>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">amltk.scheduling</span> <span class="kn">import</span> <span class="n">Scheduler</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">amltk.scheduling.plugins</span> <span class="kn">import</span> <span class="n">Limiter</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="k">def</span> <span class="nf">fn</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="n">scheduler</span> <span class="o">=</span> <span class="n">Scheduler</span><span class="o">.</span><span class="n">with_processes</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="n">task</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="n">plugins</span><span class="o">=</span><span class="p">[</span><span class="n">Limiter</span><span class="p">(</span><span class="n">max_calls</span><span class="o">=</span><span class="mi">2</span><span class="p">)])</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="nd">@task</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;call-limit-reached&quot;</span><span class="p">)</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="n">task</span><span class="p">:</span> <span class="n">Task</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    <span class="k">pass</span>
</code></pre></div>
<div class="result">
<p>
<pre style="font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace;font-size:0.75rem">
<code style="font-family:inherit"><span style="color: #00afd7; text-decoration-color: #00afd7">╭─ </span><span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">Task </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">fn</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">(</span><span style="color: #00afd7; text-decoration-color: #00afd7">x: </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">)</span><span style="color: #00afd7; text-decoration-color: #00afd7"> -&gt; </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ─────────────────────────────────────────────────╮</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╭───────────────────────────── Plugin limiter ─────────────────────────────╮ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │ Calls 0/2                                                                │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╰──────────────────────────────────────────────────────────────────────────╯ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_submitted</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_done</span>                                                                     <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_result</span>                                                                   <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_exception</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_cancelled</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">call-limit-reached</span>                                                          <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> └── <span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">def </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">callback</span><span style="font-weight: bold">(</span>task: <span style="color: #008000; text-decoration-color: #008000">&#x27;Task&#x27;</span>, *args, **kwargs<span style="font-weight: bold">)</span>                              <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">concurrent-limit-reached</span>                                                    <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">disabled-due-to-running-task</span>                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">╰─────────────────────────────── Ref: </span><span style="color: #808000; text-decoration-color: #808000; font-style: italic">1SF5WT3e</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ────────────────────────────────╯</span>
</code>
</pre>

</p>
</div><div class="markdown-exec"></div>
</p>
</details>
<details class="example">
<summary><code>@events</code></summary>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="amltk.scheduling.plugins.limiter--__tabbed_1_1" name="amltk.scheduling.plugins.limiter--__tabbed_1" type="radio" /><input id="amltk.scheduling.plugins.limiter--__tabbed_1_2" name="amltk.scheduling.plugins.limiter--__tabbed_1" type="radio" /><input id="amltk.scheduling.plugins.limiter--__tabbed_1_3" name="amltk.scheduling.plugins.limiter--__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="amltk.scheduling.plugins.limiter--__tabbed_1_1"><code>@call-limit-reached</code></label><label for="amltk.scheduling.plugins.limiter--__tabbed_1_2"><code>@concurrent-limit-reached</code></label><label for="amltk.scheduling.plugins.limiter--__tabbed_1_3"><code>@disabled-due-to-running-task</code></label></div>
<div class="tabbed-content">
<div class="tabbed-block">


<div class="doc doc-object doc-attribute">



  <div class="doc doc-contents first">
  
      <p>The event emitted when the task has reached its call limit.</p>
<p>Will call any subscribers with the task as the first argument,
followed by the arguments and keyword arguments that were passed to the task.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">amltk.scheduling</span> <span class="kn">import</span> <span class="n">Scheduler</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">amltk.scheduling.plugins</span> <span class="kn">import</span> <span class="n">Limiter</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="k">def</span> <span class="nf">fn</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="n">scheduler</span> <span class="o">=</span> <span class="n">Scheduler</span><span class="o">.</span><span class="n">with_processes</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="n">task</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="n">plugins</span><span class="o">=</span><span class="p">[</span><span class="n">Limiter</span><span class="p">(</span><span class="n">max_calls</span><span class="o">=</span><span class="mi">2</span><span class="p">)])</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="nd">@task</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;call-limit-reached&quot;</span><span class="p">)</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="n">task</span><span class="p">:</span> <span class="n">Task</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    <span class="k">pass</span>
</code></pre></div>
<div class="result">
<p>
<pre style="font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace;font-size:0.75rem">
<code style="font-family:inherit"><span style="color: #00afd7; text-decoration-color: #00afd7">╭─ </span><span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">Task </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">fn</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">(</span><span style="color: #00afd7; text-decoration-color: #00afd7">x: </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">)</span><span style="color: #00afd7; text-decoration-color: #00afd7"> -&gt; </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ─────────────────────────────────────────────────╮</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╭───────────────────────────── Plugin limiter ─────────────────────────────╮ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │ Calls 0/2                                                                │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╰──────────────────────────────────────────────────────────────────────────╯ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_submitted</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_done</span>                                                                     <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_result</span>                                                                   <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_exception</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_cancelled</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">call-limit-reached</span>                                                          <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> └── <span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">def </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">callback</span><span style="font-weight: bold">(</span>task: <span style="color: #008000; text-decoration-color: #008000">&#x27;Task&#x27;</span>, *args, **kwargs<span style="font-weight: bold">)</span>                              <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">concurrent-limit-reached</span>                                                    <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">disabled-due-to-running-task</span>                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">╰─────────────────────────────── Ref: </span><span style="color: #808000; text-decoration-color: #808000; font-style: italic">jDZbCy8z</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ────────────────────────────────╯</span>
</code>
</pre>

</p>
</div>
  </div>

</div></div>
<div class="tabbed-block">


<div class="doc doc-object doc-attribute">



  <div class="doc doc-contents first">
  
      <p>The event emitted when the task has reached its concurrent call limit.</p>
<p>Will call any subscribers with the task as the first argument, followed by the
arguments and keyword arguments that were passed to the task.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">amltk.scheduling</span> <span class="kn">import</span> <span class="n">Scheduler</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">amltk.scheduling.plugins</span> <span class="kn">import</span> <span class="n">Limiter</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="k">def</span> <span class="nf">fn</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="n">scheduler</span> <span class="o">=</span> <span class="n">Scheduler</span><span class="o">.</span><span class="n">with_processes</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="n">task</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="n">plugins</span><span class="o">=</span><span class="p">[</span><span class="n">Limiter</span><span class="p">(</span><span class="n">max_concurrent</span><span class="o">=</span><span class="mi">2</span><span class="p">)])</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="nd">@task</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;concurrent-limit-reached&quot;</span><span class="p">)</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="n">task</span><span class="p">:</span> <span class="n">Task</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    <span class="k">pass</span>
</code></pre></div>
<div class="result">
<p>
<pre style="font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace;font-size:0.75rem">
<code style="font-family:inherit"><span style="color: #00afd7; text-decoration-color: #00afd7">╭─ </span><span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">Task </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">fn</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">(</span><span style="color: #00afd7; text-decoration-color: #00afd7">x: </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">)</span><span style="color: #00afd7; text-decoration-color: #00afd7"> -&gt; </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ─────────────────────────────────────────────────╮</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╭───────────────────────────── Plugin limiter ─────────────────────────────╮ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │ Concurrent 0/2                                                           │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╰──────────────────────────────────────────────────────────────────────────╯ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_submitted</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_done</span>                                                                     <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_result</span>                                                                   <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_exception</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_cancelled</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">call-limit-reached</span>                                                          <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">concurrent-limit-reached</span>                                                    <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> └── <span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">def </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">callback</span><span style="font-weight: bold">(</span>task: <span style="color: #008000; text-decoration-color: #008000">&#x27;Task&#x27;</span>, *args, **kwargs<span style="font-weight: bold">)</span>                              <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">disabled-due-to-running-task</span>                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">╰─────────────────────────────── Ref: </span><span style="color: #808000; text-decoration-color: #808000; font-style: italic">vpiByU4K</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ────────────────────────────────╯</span>
</code>
</pre>

</p>
</div>
  </div>

</div></div>
<div class="tabbed-block">


<div class="doc doc-object doc-attribute">



  <div class="doc doc-contents first">
  
      <p>The event emitter when the task was not submitted due to some other
running task.</p>
<p>Will call any subscribers with the task as first argument, followed by
the arguments and keyword arguments that were passed to the task.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">amltk.scheduling</span> <span class="kn">import</span> <span class="n">Scheduler</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">amltk.scheduling.plugins</span> <span class="kn">import</span> <span class="n">Limiter</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="k">def</span> <span class="nf">fn</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="n">scheduler</span> <span class="o">=</span> <span class="n">Scheduler</span><span class="o">.</span><span class="n">with_processes</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="n">other_task</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="n">task</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="n">plugins</span><span class="o">=</span><span class="p">[</span><span class="n">Limiter</span><span class="p">(</span><span class="n">not_while_running</span><span class="o">=</span><span class="n">other_task</span><span class="p">)])</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="nd">@task</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;disabled-due-to-running-task&quot;</span><span class="p">)</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="n">task</span><span class="p">:</span> <span class="n">Task</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="k">pass</span>
</code></pre></div>
<div class="result">
<p>
<pre style="font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace;font-size:0.75rem">
<code style="font-family:inherit"><span style="color: #00afd7; text-decoration-color: #00afd7">╭─ </span><span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">Task </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">fn</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">(</span><span style="color: #00afd7; text-decoration-color: #00afd7">x: </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">)</span><span style="color: #00afd7; text-decoration-color: #00afd7"> -&gt; </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ─────────────────────────────────────────────────╮</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╭───────────────────────────── Plugin limiter ─────────────────────────────╮ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │ Not While <span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">def </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">fn</span><span style="font-weight: bold">(</span><span style="color: #808000; text-decoration-color: #808000">...</span><span style="font-weight: bold">)</span> Ref: <span style="color: #808000; text-decoration-color: #808000; font-style: italic">f5VgKopu</span>                                      │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╰──────────────────────────────────────────────────────────────────────────╯ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_submitted</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_done</span>                                                                     <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_result</span>                                                                   <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_exception</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_cancelled</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">call-limit-reached</span>                                                          <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">concurrent-limit-reached</span>                                                    <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">disabled-due-to-running-task</span>                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> └── <span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">def </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">callback</span><span style="font-weight: bold">(</span>task: <span style="color: #008000; text-decoration-color: #008000">&#x27;Task&#x27;</span>, *args, **kwargs<span style="font-weight: bold">)</span>                              <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">╰─────────────────────────────── Ref: </span><span style="color: #808000; text-decoration-color: #808000; font-style: italic">kYZfXb7d</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ────────────────────────────────╯</span>
</code>
</pre>

</p>
</div>
  </div>

</div></div>
</div>
</div>
</details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div><h3 id="pynisher">Pynisher<a class="headerlink" href="#pynisher" title="Permanent link">#</a></h3>


<div class="doc doc-object doc-module">




  <div class="doc doc-contents first">
  
      <p>The <a class="autorefs autorefs-internal" href="../../../api/amltk/scheduling/plugins/pynisher/#amltk.scheduling.plugins.pynisher.PynisherPlugin"><code>PynisherPlugin</code></a>
uses <a href="https://github.com/automl/pynisher">pynisher</a> to place <strong>memory</strong>, <strong>walltime</strong>
and <strong>cputime</strong> constraints on processes, crashing them if these limits are reached.
These default units are <code>bytes ("B")</code> and <code>seconds ("s")</code> but you can also use other
units, please see the relevant API doc.</p>
<p>It's best use is when used with
<a class="autorefs autorefs-internal" href="../../../api/amltk/scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler.with_processes"><code>Scheduler.with_processes()</code></a> to have work
performed in processes.</p>
<div class="admonition tip">
<p class="admonition-title">Requirements</p>
<p>This required <code>pynisher</code> which can be installed with:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>pip<span class="w"> </span>install<span class="w"> </span>amltk<span class="o">[</span>pynisher<span class="o">]</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1"># Or directly</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>pip<span class="w"> </span>install<span class="w"> </span>pynisher
</code></pre></div>
</div>
<details class="tip">
<summary>Usage</summary>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">amltk.scheduling</span> <span class="kn">import</span> <span class="n">Task</span><span class="p">,</span> <span class="n">Scheduler</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">amltk.scheduling.plugins.pynisher</span> <span class="kn">import</span> <span class="n">PynisherPlugin</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">import</span> <span class="nn">time</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="k">return</span> <span class="mi">42</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="n">scheduler</span> <span class="o">=</span> <span class="n">Scheduler</span><span class="o">.</span><span class="n">with_processes</span><span class="p">()</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="n">task</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">plugins</span><span class="o">=</span><span class="n">PynisherPlugin</span><span class="p">(</span><span class="n">walltime_limit</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">)))</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="nd">@task</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;pynisher-timeout&quot;</span><span class="p">)</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="n">exception</span><span class="p">):</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="k">pass</span>
</code></pre></div>
<div class="result">
<p>
<pre style="font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace;font-size:0.75rem">
<code style="font-family:inherit"><span style="color: #00afd7; text-decoration-color: #00afd7">╭─ </span><span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">Task </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">f</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">(</span><span style="color: #00afd7; text-decoration-color: #00afd7">x: </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">)</span><span style="color: #00afd7; text-decoration-color: #00afd7"> -&gt; </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ──────────────────────────────────────────────────╮</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╭───────────────────────── Plugin pynisher-plugin ─────────────────────────╮ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │ <span style="font-weight: bold"> Memory  Wall Time  CPU Time </span>                                            │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │  <span style="color: #800080; text-decoration-color: #800080; font-style: italic">None</span>    <span style="font-weight: bold">(</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span>, <span style="color: #008000; text-decoration-color: #008000">&#x27;s&#x27;</span><span style="font-weight: bold">)</span>   <span style="color: #800080; text-decoration-color: #800080; font-style: italic">None</span>                                                 │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╰──────────────────────────────────────────────────────────────────────────╯ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_exception</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_submitted</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_done</span>                                                                     <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_result</span>                                                                   <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_cancelled</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">pynisher-timeout</span>                                                            <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> └── <span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">def </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">callback</span><span style="font-weight: bold">(</span>exception<span style="font-weight: bold">)</span>                                                  <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">pynisher-memory-limit</span>                                                       <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">pynisher-cputime-limit</span>                                                      <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">pynisher-walltime-limit</span>                                                     <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">╰─────────────────────────────── Ref: </span><span style="color: #808000; text-decoration-color: #808000; font-style: italic">qF66puSm</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ────────────────────────────────╯</span>
</code>
</pre>

</p>
</div><div class="markdown-exec"></div>
</p>
</details>
<details class="example">
<summary><code>@events</code></summary>
<div class="tabbed-set tabbed-alternate" data-tabs="1:4"><input checked="checked" id="amltk.scheduling.plugins.pynisher--__tabbed_1_1" name="amltk.scheduling.plugins.pynisher--__tabbed_1" type="radio" /><input id="amltk.scheduling.plugins.pynisher--__tabbed_1_2" name="amltk.scheduling.plugins.pynisher--__tabbed_1" type="radio" /><input id="amltk.scheduling.plugins.pynisher--__tabbed_1_3" name="amltk.scheduling.plugins.pynisher--__tabbed_1" type="radio" /><input id="amltk.scheduling.plugins.pynisher--__tabbed_1_4" name="amltk.scheduling.plugins.pynisher--__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="amltk.scheduling.plugins.pynisher--__tabbed_1_1"><code>@pynisher-timeout</code></label><label for="amltk.scheduling.plugins.pynisher--__tabbed_1_2"><code>@pynisher-memory-limit</code></label><label for="amltk.scheduling.plugins.pynisher--__tabbed_1_3"><code>@pynisher-cputime-limit</code></label><label for="amltk.scheduling.plugins.pynisher--__tabbed_1_4"><code>@pynisher-walltime-limit</code></label></div>
<div class="tabbed-content">
<div class="tabbed-block">


<div class="doc doc-object doc-attribute">



  <div class="doc doc-contents first">
  
      <p>A Task timed out, either due to the wall time or cpu time limit.</p>
<p>Will call any subscribers with the exception as the argument.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">amltk.scheduling</span> <span class="kn">import</span> <span class="n">Task</span><span class="p">,</span> <span class="n">Scheduler</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">amltk.scheduling.plugins.pynisher</span> <span class="kn">import</span> <span class="n">PynisherPlugin</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">import</span> <span class="nn">time</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="k">return</span> <span class="mi">42</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="n">scheduler</span> <span class="o">=</span> <span class="n">Scheduler</span><span class="o">.</span><span class="n">with_processes</span><span class="p">()</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="n">task</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">plugins</span><span class="o">=</span><span class="n">PynisherPlugin</span><span class="p">(</span><span class="n">walltime_limit</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">)))</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="nd">@task</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;pynisher-timeout&quot;</span><span class="p">)</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="n">exception</span><span class="p">):</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="k">pass</span>
</code></pre></div>
<div class="result">
<p>
<pre style="font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace;font-size:0.75rem">
<code style="font-family:inherit"><span style="color: #00afd7; text-decoration-color: #00afd7">╭─ </span><span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">Task </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">f</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">(</span><span style="color: #00afd7; text-decoration-color: #00afd7">x: </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">)</span><span style="color: #00afd7; text-decoration-color: #00afd7"> -&gt; </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ──────────────────────────────────────────────────╮</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╭───────────────────────── Plugin pynisher-plugin ─────────────────────────╮ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │ <span style="font-weight: bold"> Memory  Wall Time  CPU Time </span>                                            │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │  <span style="color: #800080; text-decoration-color: #800080; font-style: italic">None</span>    <span style="font-weight: bold">(</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span>, <span style="color: #008000; text-decoration-color: #008000">&#x27;s&#x27;</span><span style="font-weight: bold">)</span>   <span style="color: #800080; text-decoration-color: #800080; font-style: italic">None</span>                                                 │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╰──────────────────────────────────────────────────────────────────────────╯ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_exception</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_submitted</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_done</span>                                                                     <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_result</span>                                                                   <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_cancelled</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">pynisher-timeout</span>                                                            <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> └── <span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">def </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">callback</span><span style="font-weight: bold">(</span>exception<span style="font-weight: bold">)</span>                                                  <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">pynisher-memory-limit</span>                                                       <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">pynisher-cputime-limit</span>                                                      <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">pynisher-walltime-limit</span>                                                     <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">╰─────────────────────────────── Ref: </span><span style="color: #808000; text-decoration-color: #808000; font-style: italic">iWRrSTJj</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ────────────────────────────────╯</span>
</code>
</pre>

</p>
</div>
  </div>

</div></div>
<div class="tabbed-block">


<div class="doc doc-object doc-attribute">



  <div class="doc doc-contents first">
  
      <p>A Task was submitted but reached it's memory limit.</p>
<p>Will call any subscribers with the exception as the argument.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">amltk.scheduling</span> <span class="kn">import</span> <span class="n">Task</span><span class="p">,</span> <span class="n">Scheduler</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">amltk.scheduling.plugins.pynisher</span> <span class="kn">import</span> <span class="n">PynisherPlugin</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100000000</span><span class="p">)</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="k">return</span> <span class="mi">42</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="n">scheduler</span> <span class="o">=</span> <span class="n">Scheduler</span><span class="o">.</span><span class="n">with_processes</span><span class="p">()</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="n">task</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">plugins</span><span class="o">=</span><span class="n">PynisherPlugin</span><span class="p">(</span><span class="n">memory_limit</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;KB&quot;</span><span class="p">)))</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="nd">@task</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;pynisher-memory-limit&quot;</span><span class="p">)</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="n">exception</span><span class="p">):</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    <span class="k">pass</span>
</code></pre></div>
<div class="result">
<p>
<pre style="font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace;font-size:0.75rem">
<code style="font-family:inherit"><span style="color: #00afd7; text-decoration-color: #00afd7">╭─ </span><span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">Task </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">f</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">(</span><span style="color: #00afd7; text-decoration-color: #00afd7">x: </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">)</span><span style="color: #00afd7; text-decoration-color: #00afd7"> -&gt; </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ──────────────────────────────────────────────────╮</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╭───────────────────────── Plugin pynisher-plugin ─────────────────────────╮ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │ <span style="font-weight: bold"> Memory     Wall Time  CPU Time </span>                                         │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │  <span style="font-weight: bold">(</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span>, <span style="color: #008000; text-decoration-color: #008000">&#x27;KB&#x27;</span><span style="font-weight: bold">)</span>  <span style="color: #800080; text-decoration-color: #800080; font-style: italic">None</span>       <span style="color: #800080; text-decoration-color: #800080; font-style: italic">None</span>                                              │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╰──────────────────────────────────────────────────────────────────────────╯ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_exception</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_submitted</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_done</span>                                                                     <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_result</span>                                                                   <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_cancelled</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">pynisher-timeout</span>                                                            <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">pynisher-memory-limit</span>                                                       <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> └── <span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">def </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">callback</span><span style="font-weight: bold">(</span>exception<span style="font-weight: bold">)</span>                                                  <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">pynisher-cputime-limit</span>                                                      <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">pynisher-walltime-limit</span>                                                     <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">╰─────────────────────────────── Ref: </span><span style="color: #808000; text-decoration-color: #808000; font-style: italic">fwD7Da95</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ────────────────────────────────╯</span>
</code>
</pre>

</p>
</div>
  </div>

</div></div>
<div class="tabbed-block">


<div class="doc doc-object doc-attribute">



  <div class="doc doc-contents first">
  
      <p>A Task was submitted but reached it's cpu time limit.</p>
<p>Will call any subscribers with the exception as the argument.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">amltk.scheduling</span> <span class="kn">import</span> <span class="n">Task</span><span class="p">,</span> <span class="n">Scheduler</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">amltk.scheduling.plugins.pynisher</span> <span class="kn">import</span> <span class="n">PynisherPlugin</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">import</span> <span class="nn">time</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>        <span class="c1"># Keep busying computing the answer to everything</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    <span class="k">return</span> <span class="mi">42</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="n">scheduler</span> <span class="o">=</span> <span class="n">Scheduler</span><span class="o">.</span><span class="n">with_processes</span><span class="p">()</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="n">task</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">plugins</span><span class="o">=</span><span class="n">PynisherPlugin</span><span class="p">(</span><span class="n">cputime_limit</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">)))</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="nd">@task</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;pynisher-cputime-limit&quot;</span><span class="p">)</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="n">exception</span><span class="p">):</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>    <span class="k">pass</span>
</code></pre></div>
<div class="result">
<p>
<pre style="font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace;font-size:0.75rem">
<code style="font-family:inherit"><span style="color: #00afd7; text-decoration-color: #00afd7">╭─ </span><span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">Task </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">f</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">(</span><span style="color: #00afd7; text-decoration-color: #00afd7">x: </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">)</span><span style="color: #00afd7; text-decoration-color: #00afd7"> -&gt; </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ──────────────────────────────────────────────────╮</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╭───────────────────────── Plugin pynisher-plugin ─────────────────────────╮ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │ <span style="font-weight: bold"> Memory  Wall Time  CPU Time </span>                                            │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │  <span style="color: #800080; text-decoration-color: #800080; font-style: italic">None</span>    <span style="color: #800080; text-decoration-color: #800080; font-style: italic">None</span>       <span style="font-weight: bold">(</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span>, <span style="color: #008000; text-decoration-color: #008000">&#x27;s&#x27;</span><span style="font-weight: bold">)</span>                                             │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╰──────────────────────────────────────────────────────────────────────────╯ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_exception</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_submitted</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_done</span>                                                                     <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_result</span>                                                                   <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_cancelled</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">pynisher-timeout</span>                                                            <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">pynisher-memory-limit</span>                                                       <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">pynisher-cputime-limit</span>                                                      <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> └── <span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">def </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">callback</span><span style="font-weight: bold">(</span>exception<span style="font-weight: bold">)</span>                                                  <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">pynisher-walltime-limit</span>                                                     <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">╰─────────────────────────────── Ref: </span><span style="color: #808000; text-decoration-color: #808000; font-style: italic">sB7zxw4C</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ────────────────────────────────╯</span>
</code>
</pre>

</p>
</div>
  </div>

</div></div>
<div class="tabbed-block">


<div class="doc doc-object doc-attribute">



  <div class="doc doc-contents first">
  
      <p>A Task was submitted but reached it's wall time limit.</p>
<p>Will call any subscribers with the exception as the argument.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">amltk.scheduling</span> <span class="kn">import</span> <span class="n">Task</span><span class="p">,</span> <span class="n">Scheduler</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">amltk.scheduling.plugins.pynisher</span> <span class="kn">import</span> <span class="n">PynisherPlugin</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">import</span> <span class="nn">time</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="k">return</span> <span class="mi">42</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="n">scheduler</span> <span class="o">=</span> <span class="n">Scheduler</span><span class="o">.</span><span class="n">with_processes</span><span class="p">()</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="n">task</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">plugins</span><span class="o">=</span><span class="n">PynisherPlugin</span><span class="p">(</span><span class="n">walltime_limit</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">)))</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="nd">@task</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;pynisher-walltime-limit&quot;</span><span class="p">)</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="n">exception</span><span class="p">):</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="k">pass</span>
</code></pre></div>
<div class="result">
<p>
<pre style="font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace;font-size:0.75rem">
<code style="font-family:inherit"><span style="color: #00afd7; text-decoration-color: #00afd7">╭─ </span><span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">Task </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">f</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">(</span><span style="color: #00afd7; text-decoration-color: #00afd7">x: </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">)</span><span style="color: #00afd7; text-decoration-color: #00afd7"> -&gt; </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ──────────────────────────────────────────────────╮</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╭───────────────────────── Plugin pynisher-plugin ─────────────────────────╮ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │ <span style="font-weight: bold"> Memory  Wall Time  CPU Time </span>                                            │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │  <span style="color: #800080; text-decoration-color: #800080; font-style: italic">None</span>    <span style="font-weight: bold">(</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span>, <span style="color: #008000; text-decoration-color: #008000">&#x27;s&#x27;</span><span style="font-weight: bold">)</span>   <span style="color: #800080; text-decoration-color: #800080; font-style: italic">None</span>                                                 │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╰──────────────────────────────────────────────────────────────────────────╯ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_exception</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_submitted</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_done</span>                                                                     <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_result</span>                                                                   <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_cancelled</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">pynisher-timeout</span>                                                            <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">pynisher-memory-limit</span>                                                       <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">pynisher-cputime-limit</span>                                                      <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">pynisher-walltime-limit</span>                                                     <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> └── <span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">def </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">callback</span><span style="font-weight: bold">(</span>exception<span style="font-weight: bold">)</span>                                                  <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">╰─────────────────────────────── Ref: </span><span style="color: #808000; text-decoration-color: #808000; font-style: italic">WZvWbdt4</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ────────────────────────────────╯</span>
</code>
</pre>

</p>
</div>
  </div>

</div></div>
</div>
</div>
</details>
<details class="warning">
<summary>Scheduler Executor</summary>
<p>This will place process limits on the task as soon as it starts
running, whever it may be running. If you are using
<a class="autorefs autorefs-internal" href="../../../api/amltk/scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler.with_sequential"><code>Scheduler.with_sequential()</code></a>
then this will place limits on the main process, likely not what you
want. This also does not work with a
<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.ThreadPoolExecutor"><code>ThreadPoolExecutor</code></a>.</p>
<p>If using this with something like [<code>dask-jobqueue</code>],
then this will place limits on the workers it spawns. It would be better
to place limits directly through dask job-queue then.</p>
</details>
<details class="warning">
<summary>Platform Limitations (Mac, Windows)</summary>
<p>Pynisher has some limitations with memory on Mac and Windows:
<a class="magiclink magiclink-github magiclink-repository" href="https://github.com/automl/pynisher#features" title="GitHub Repository: automl/pynisher#features">automl/pynisher#features</a></p>
<p>You can check this with <code>PynisherPlugin.supports("memory")</code>,
<code>PynisherPlugin.supports("cpu_time")</code> and
<code>PynisherPlugin.supports("wall_time")</code>.
See <a class="autorefs autorefs-internal" href="../../../api/amltk/scheduling/plugins/pynisher/#amltk.scheduling.plugins.pynisher.PynisherPlugin.supports"><code>PynisherPlugin.supports()</code></a></p>
</details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div><h3 id="comm">Comm<a class="headerlink" href="#comm" title="Permanent link">#</a></h3>


<div class="doc doc-object doc-module">




  <div class="doc doc-contents first">
  
      <p>The <a class="autorefs autorefs-internal" href="../../../api/amltk/scheduling/plugins/comm/#amltk.scheduling.plugins.comm.Comm.Plugin"><code>Comm.Plugin</code></a> enables
two way-communication with running <a class="autorefs autorefs-internal" href="../../../api/amltk/scheduling/task/#amltk.scheduling.task.Task"><code>Task</code></a>.</p>
<p>The <a class="autorefs autorefs-internal" href="../../../api/amltk/scheduling/plugins/comm/#amltk.scheduling.plugins.comm.Comm"><code>Comm</code></a> provides an easy interface to
communicate while the <a class="autorefs autorefs-internal" href="../../../api/amltk/scheduling/plugins/comm/#amltk.scheduling.plugins.comm.Comm.Msg"><code>Comm.Msg</code></a> encapsulates
messages between the main process and the <code>Task</code>.</p>
<details class="tip">
<summary>Usage</summary>
<p>To setup a <code>Task</code> to work with a <code>Comm</code>, the <code>Task</code> <strong>must accept a <code>comm</code> as
it's first argument</strong>.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">amltk.scheduling</span> <span class="kn">import</span> <span class="n">Scheduler</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">amltk.scheduling.plugins</span> <span class="kn">import</span> <span class="n">Comm</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="hll"><span class="k">def</span> <span class="nf">powers_of_two</span><span class="p">(</span><span class="n">comm</span><span class="p">:</span> <span class="n">Comm</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="hll">    <span class="k">with</span> <span class="n">comm</span><span class="o">.</span><span class="n">open</span><span class="p">():</span>
</span><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="hll">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
</span><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="hll">            <span class="n">comm</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">start</span> <span class="o">**</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
</span><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="n">scheduler</span> <span class="o">=</span> <span class="n">Scheduler</span><span class="o">.</span><span class="n">with_processes</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="hll"><span class="n">task</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">powers_of_two</span><span class="p">,</span> <span class="n">plugins</span><span class="o">=</span><span class="n">Comm</span><span class="o">.</span><span class="n">Plugin</span><span class="p">())</span>
</span><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="nd">@scheduler</span><span class="o">.</span><span class="n">on_start</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="k">def</span> <span class="nf">on_start</span><span class="p">():</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    <span class="n">task</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="hll"><span class="nd">@task</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;comm-open&quot;</span><span class="p">)</span>
</span><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="hll"><span class="k">def</span> <span class="nf">on_open</span><span class="p">(</span><span class="n">msg</span><span class="p">:</span> <span class="n">Comm</span><span class="o">.</span><span class="n">Msg</span><span class="p">):</span>
</span><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="hll">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Task has opened | </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="hll"><span class="nd">@task</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;comm-message&quot;</span><span class="p">)</span>
</span><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="hll"><span class="k">def</span> <span class="nf">on_message</span><span class="p">(</span><span class="n">msg</span><span class="p">:</span> <span class="n">Comm</span><span class="o">.</span><span class="n">Msg</span><span class="p">):</span>
</span><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="hll">    <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</span><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a><span class="n">scheduler</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</code></pre></div>
<div class="result">
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">Task</span> <span class="n">has</span> <span class="n">opened</span> <span class="o">|</span> <span class="n">Comm</span><span class="o">.</span><span class="n">Msg</span><span class="p">(</span><span class="n">kind</span><span class="o">=&lt;</span><span class="n">Kind</span><span class="o">.</span><span class="n">OPEN</span><span class="p">:</span> <span class="s1">&#39;open&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">32</span><span class="p">]</span>
</code></pre></div>
</div><div class="markdown-exec"></div>
</p>
<p>You can also block a worker, waiting for a response from the main process, allowing for the
worker to <a class="autorefs autorefs-internal" href="../../../api/amltk/scheduling/plugins/comm/#amltk.scheduling.plugins.comm.Comm.request"><code>request()</code></a> data from the main process.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">amltk.scheduling</span> <span class="kn">import</span> <span class="n">Scheduler</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">amltk.scheduling.plugins</span> <span class="kn">import</span> <span class="n">Comm</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="k">def</span> <span class="nf">my_worker</span><span class="p">(</span><span class="n">comm</span><span class="p">:</span> <span class="n">Comm</span><span class="p">,</span> <span class="n">n_tasks</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="k">with</span> <span class="n">comm</span><span class="o">.</span><span class="n">open</span><span class="p">():</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>        <span class="k">for</span> <span class="n">task_number</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_tasks</span><span class="p">):</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="hll">            <span class="n">task</span> <span class="o">=</span> <span class="n">comm</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="n">task_number</span><span class="p">)</span>
</span><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>            <span class="n">comm</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Task recieved </span><span class="si">{</span><span class="n">task</span><span class="si">}</span><span class="s2"> for </span><span class="si">{</span><span class="n">task_number</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="n">scheduler</span> <span class="o">=</span> <span class="n">Scheduler</span><span class="o">.</span><span class="n">with_processes</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="n">task</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">my_worker</span><span class="p">,</span> <span class="n">plugins</span><span class="o">=</span><span class="n">Comm</span><span class="o">.</span><span class="n">Plugin</span><span class="p">())</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">]</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="nd">@scheduler</span><span class="o">.</span><span class="n">on_start</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="k">def</span> <span class="nf">on_start</span><span class="p">():</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>    <span class="n">task</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">n_tasks</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="hll"><span class="nd">@task</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;comm-request&quot;</span><span class="p">)</span>
</span><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="hll"><span class="k">def</span> <span class="nf">on_request</span><span class="p">(</span><span class="n">msg</span><span class="p">:</span> <span class="n">Comm</span><span class="o">.</span><span class="n">Msg</span><span class="p">):</span>
</span><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="hll">    <span class="n">task_number</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">data</span>
</span><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="hll">    <span class="n">msg</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="n">items</span><span class="p">[</span><span class="n">task_number</span><span class="p">])</span>
</span><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a><span class="nd">@task</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;comm-message&quot;</span><span class="p">)</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="k">def</span> <span class="nf">on_message</span><span class="p">(</span><span class="n">msg</span><span class="p">:</span> <span class="n">Comm</span><span class="o">.</span><span class="n">Msg</span><span class="p">):</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>    <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a><span class="n">scheduler</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a><span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</code></pre></div>
<div class="result">
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="p">[</span><span class="s1">&#39;Task recieved A for 0&#39;</span><span class="p">,</span> <span class="s1">&#39;Task recieved B for 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Task recieved C for 2&#39;</span><span class="p">]</span>
</code></pre></div>
</div><div class="markdown-exec"></div>
</p>
</details>
<details class="example">
<summary><code>@events</code></summary>
<div class="tabbed-set tabbed-alternate" data-tabs="1:4"><input checked="checked" id="amltk.scheduling.plugins.comm--__tabbed_1_1" name="amltk.scheduling.plugins.comm--__tabbed_1" type="radio" /><input id="amltk.scheduling.plugins.comm--__tabbed_1_2" name="amltk.scheduling.plugins.comm--__tabbed_1" type="radio" /><input id="amltk.scheduling.plugins.comm--__tabbed_1_3" name="amltk.scheduling.plugins.comm--__tabbed_1" type="radio" /><input id="amltk.scheduling.plugins.comm--__tabbed_1_4" name="amltk.scheduling.plugins.comm--__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="amltk.scheduling.plugins.comm--__tabbed_1_1"><code>@comm-message</code></label><label for="amltk.scheduling.plugins.comm--__tabbed_1_2"><code>@comm-request</code></label><label for="amltk.scheduling.plugins.comm--__tabbed_1_3"><code>@comm-open</code></label><label for="amltk.scheduling.plugins.comm--__tabbed_1_4"><code>@comm-close</code></label></div>
<div class="tabbed-content">
<div class="tabbed-block">


<div class="doc doc-object doc-attribute">



  <div class="doc doc-contents first">
  
      <p>A Task has sent a message to the main process.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">amltk.scheduling</span> <span class="kn">import</span> <span class="n">Scheduler</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">amltk.scheduling.plugins</span> <span class="kn">import</span> <span class="n">Comm</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="k">def</span> <span class="nf">fn</span><span class="p">(</span><span class="n">comm</span><span class="p">:</span> <span class="n">Comm</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="k">with</span> <span class="n">comm</span><span class="o">.</span><span class="n">open</span><span class="p">():</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="hll">        <span class="n">comm</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="n">scheduler</span> <span class="o">=</span> <span class="n">Scheduler</span><span class="o">.</span><span class="n">with_processes</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="n">task</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="n">plugins</span><span class="o">=</span><span class="n">Comm</span><span class="o">.</span><span class="n">Plugin</span><span class="p">())</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="hll"><span class="nd">@task</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;comm-message&quot;</span><span class="p">)</span>
</span><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="hll"><span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="n">msg</span><span class="p">:</span> <span class="n">Comm</span><span class="o">.</span><span class="n">Msg</span><span class="p">):</span>
</span><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="hll">    <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</span></code></pre></div>
<div class="result">
<p>
<pre style="font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace;font-size:0.75rem">
<code style="font-family:inherit"><span style="color: #00afd7; text-decoration-color: #00afd7">╭─ </span><span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">Task </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">fn</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">(</span><span style="color: #00afd7; text-decoration-color: #00afd7">comm: </span><span style="color: #008000; text-decoration-color: #008000">&#x27;Comm&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7">, x: </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">)</span><span style="color: #00afd7; text-decoration-color: #00afd7"> -&gt; </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ───────────────────────────────────╮</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╭─────────────────────────── Plugin comm-plugin ───────────────────────────╮ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │ Open Connections: <span style="color: #808000; text-decoration-color: #808000">0</span>                                                      │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╰──────────────────────────────────────────────────────────────────────────╯ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_submitted</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_done</span>                                                                     <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_result</span>                                                                   <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_exception</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_cancelled</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">comm-message</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> └── <span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">def </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">callback</span><span style="font-weight: bold">(</span>msg: <span style="color: #008000; text-decoration-color: #008000">&#x27;Comm.Msg&#x27;</span><span style="font-weight: bold">)</span>                                            <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">comm-request</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">comm-open</span>                                                                   <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">comm-close</span>                                                                  <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">╰─────────────────────────────── Ref: </span><span style="color: #808000; text-decoration-color: #808000; font-style: italic">lmtV1anK</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ────────────────────────────────╯</span>
</code>
</pre>

</p>
</div>
  </div>

</div></div>
<div class="tabbed-block">


<div class="doc doc-object doc-attribute">



  <div class="doc doc-contents first">
  
      <p>A Task has sent a request.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">amltk.scheduling</span> <span class="kn">import</span> <span class="n">Scheduler</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">amltk.scheduling.plugins</span> <span class="kn">import</span> <span class="n">Comm</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="k">def</span> <span class="nf">greeter</span><span class="p">(</span><span class="n">comm</span><span class="p">:</span> <span class="n">Comm</span><span class="p">,</span> <span class="n">greeting</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="k">with</span> <span class="n">comm</span><span class="o">.</span><span class="n">open</span><span class="p">():</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="hll">        <span class="n">name</span> <span class="o">=</span> <span class="n">comm</span><span class="o">.</span><span class="n">request</span><span class="p">()</span>
</span><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>        <span class="n">comm</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">greeting</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">!&quot;</span><span class="p">)</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="n">scheduler</span> <span class="o">=</span> <span class="n">Scheduler</span><span class="o">.</span><span class="n">with_processes</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="n">task</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">greeter</span><span class="p">,</span> <span class="n">plugins</span><span class="o">=</span><span class="n">Comm</span><span class="o">.</span><span class="n">Plugin</span><span class="p">())</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="nd">@scheduler</span><span class="o">.</span><span class="n">on_start</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="k">def</span> <span class="nf">on_start</span><span class="p">():</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="n">task</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">)</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="hll"><span class="nd">@task</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;comm-request&quot;</span><span class="p">)</span>
</span><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="hll"><span class="k">def</span> <span class="nf">on_request</span><span class="p">(</span><span class="n">msg</span><span class="p">:</span> <span class="n">Comm</span><span class="o">.</span><span class="n">Msg</span><span class="p">):</span>
</span><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="hll">    <span class="n">msg</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="s2">&quot;Alice&quot;</span><span class="p">)</span>
</span><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="nd">@task</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;comm-message&quot;</span><span class="p">)</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="k">def</span> <span class="nf">on_msg</span><span class="p">(</span><span class="n">msg</span><span class="p">:</span> <span class="n">Comm</span><span class="o">.</span><span class="n">Msg</span><span class="p">):</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>    <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="n">scheduler</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div>
<div class="result">
<p>Hello Alice!

<pre style="font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace;font-size:0.75rem">
<code style="font-family:inherit"><span style="color: #00afd7; text-decoration-color: #00afd7">╭─ </span><span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">Task </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">greeter</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">(</span><span style="color: #00afd7; text-decoration-color: #00afd7">comm: </span><span style="color: #008000; text-decoration-color: #008000">&#x27;Comm&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7">, greeting: </span><span style="color: #008000; text-decoration-color: #008000">&#x27;str&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">)</span><span style="color: #00afd7; text-decoration-color: #00afd7"> -&gt; </span><span style="color: #008000; text-decoration-color: #008000">&#x27;None&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ──────────────────────╮</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╭─────────────────────────── Plugin comm-plugin ───────────────────────────╮ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │ Open Connections: <span style="color: #808000; text-decoration-color: #808000">0</span>                                                      │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╰──────────────────────────────────────────────────────────────────────────╯ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_submitted</span><span style="color: #808000; text-decoration-color: #808000; font-weight: bold; font-style: italic"> 1</span>                                                              <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_done</span><span style="color: #808000; text-decoration-color: #808000; font-weight: bold; font-style: italic"> 1</span>                                                                   <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_result</span><span style="color: #808000; text-decoration-color: #808000; font-weight: bold; font-style: italic"> 1</span>                                                                 <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_exception</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_cancelled</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">comm-message</span><span style="color: #808000; text-decoration-color: #808000; font-weight: bold; font-style: italic"> 1</span>                                                              <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> └── <span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">def </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">on_msg</span><span style="font-weight: bold">(</span>msg: <span style="color: #008000; text-decoration-color: #008000">&#x27;Comm.Msg&#x27;</span><span style="font-weight: bold">)</span><span style="font-style: italic"> (</span><span style="color: #808000; text-decoration-color: #808000; font-style: italic">1</span><span style="font-style: italic">)</span>                                          <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">comm-request</span><span style="color: #808000; text-decoration-color: #808000; font-weight: bold; font-style: italic"> 1</span>                                                              <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> └── <span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">def </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">on_request</span><span style="font-weight: bold">(</span>msg: <span style="color: #008000; text-decoration-color: #008000">&#x27;Comm.Msg&#x27;</span><span style="font-weight: bold">)</span><span style="font-style: italic"> (</span><span style="color: #808000; text-decoration-color: #808000; font-style: italic">1</span><span style="font-style: italic">)</span>                                      <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">comm-open</span><span style="color: #808000; text-decoration-color: #808000; font-weight: bold; font-style: italic"> 1</span>                                                                 <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">comm-close</span><span style="color: #808000; text-decoration-color: #808000; font-weight: bold; font-style: italic"> 1</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">╰─────────────────────────────── Ref: </span><span style="color: #808000; text-decoration-color: #808000; font-style: italic">PYoiqVWy</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ────────────────────────────────╯</span>
</code>
</pre>

</p>
</div>
  </div>

</div></div>
<div class="tabbed-block">


<div class="doc doc-object doc-attribute">



  <div class="doc doc-contents first">
  
      <p>The task has signalled it's open.</p>
<p>```python exec="true" source="material-block" html="true" hl_lines="5 15-17"
 from amltk.scheduling import Scheduler
 from amltk.scheduling.plugins import Comm</p>
<p>def fn(comm: Comm) -&gt; None:
     with comm.open():
         pass
from amltk._doc import make_picklable; make_picklable(fn)  # markdown-exec: hide</p>
<p>scheduler = Scheduler.with_processes(1)
 task = scheduler.task(fn, plugins=Comm.Plugin())</p>
<p><a class="magiclink magiclink-github magiclink-mention" href="https://github.com/scheduler" title="GitHub User: scheduler">@scheduler</a>.on_start
 def on_start():
     task.submit()</p>
<p><a class="magiclink magiclink-github magiclink-mention" href="https://github.com/task" title="GitHub User: task">@task</a>.on("comm-open")
 def callback(msg: Comm.Msg):
     print("Comm has just used comm.open()")</p>
<p>scheduler.run()
 from amltk._doc import doc_print; doc_print(print, task)  # markdown-exec: hide
 ```</p>
  </div>

</div></div>
<div class="tabbed-block">


<div class="doc doc-object doc-attribute">



  <div class="doc doc-contents first">
  
      <p>The task has signalled it's close.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">amltk.scheduling</span> <span class="kn">import</span> <span class="n">Scheduler</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">amltk.scheduling.plugins</span> <span class="kn">import</span> <span class="n">Comm</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="k">def</span> <span class="nf">fn</span><span class="p">(</span><span class="n">comm</span><span class="p">:</span> <span class="n">Comm</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="k">with</span> <span class="n">comm</span><span class="o">.</span><span class="n">open</span><span class="p">():</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>        <span class="k">pass</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="hll">        <span class="c1"># Will send a close signal to the main process as it exists this block</span>
</span><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Done&quot;</span><span class="p">)</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="n">scheduler</span> <span class="o">=</span> <span class="n">Scheduler</span><span class="o">.</span><span class="n">with_processes</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="n">task</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="n">plugins</span><span class="o">=</span><span class="n">Comm</span><span class="o">.</span><span class="n">Plugin</span><span class="p">())</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="nd">@scheduler</span><span class="o">.</span><span class="n">on_start</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="k">def</span> <span class="nf">on_start</span><span class="p">():</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    <span class="n">task</span><span class="o">.</span><span class="n">submit</span><span class="p">()</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="hll"><span class="nd">@task</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;comm-close&quot;</span><span class="p">)</span>
</span><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="hll"><span class="k">def</span> <span class="nf">on_close</span><span class="p">(</span><span class="n">msg</span><span class="p">:</span> <span class="n">Comm</span><span class="o">.</span><span class="n">msg</span><span class="p">):</span>
</span><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="hll">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Worker close with </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="n">scheduler</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div>
<div class="result">
<p>Worker close with Comm.Msg(kind=<Kind.CLOSE: 'close'>, data=None)

<pre style="font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace;font-size:0.75rem">
<code style="font-family:inherit"><span style="color: #00afd7; text-decoration-color: #00afd7">╭─ </span><span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">Task </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">fn</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">(</span><span style="color: #00afd7; text-decoration-color: #00afd7">comm: </span><span style="color: #008000; text-decoration-color: #008000">&#x27;Comm&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">)</span><span style="color: #00afd7; text-decoration-color: #00afd7"> -&gt; </span><span style="color: #008000; text-decoration-color: #008000">&#x27;None&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ────────────────────────────────────────────╮</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╭─────────────────────────── Plugin comm-plugin ───────────────────────────╮ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │ Open Connections: <span style="color: #808000; text-decoration-color: #808000">0</span>                                                      │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╰──────────────────────────────────────────────────────────────────────────╯ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_submitted</span><span style="color: #808000; text-decoration-color: #808000; font-weight: bold; font-style: italic"> 1</span>                                                              <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_done</span><span style="color: #808000; text-decoration-color: #808000; font-weight: bold; font-style: italic"> 1</span>                                                                   <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_result</span><span style="color: #808000; text-decoration-color: #808000; font-weight: bold; font-style: italic"> 1</span>                                                                 <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_exception</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_cancelled</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">comm-message</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">comm-request</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">comm-open</span><span style="color: #808000; text-decoration-color: #808000; font-weight: bold; font-style: italic"> 1</span>                                                                 <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">comm-close</span><span style="color: #808000; text-decoration-color: #808000; font-weight: bold; font-style: italic"> 1</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> └── <span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">def </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">on_close</span><span style="font-weight: bold">(</span>msg: <span style="color: #008000; text-decoration-color: #008000">&#x27;Comm.msg&#x27;</span><span style="font-weight: bold">)</span><span style="font-style: italic"> (</span><span style="color: #808000; text-decoration-color: #808000; font-style: italic">1</span><span style="font-style: italic">)</span>                                        <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">╰─────────────────────────────── Ref: </span><span style="color: #808000; text-decoration-color: #808000; font-style: italic">6S1MH7AQ</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ────────────────────────────────╯</span>
</code>
</pre>

</p>
</div>
  </div>

</div></div>
</div>
</div>
</details>
<details class="warning">
<summary>Supported Backends</summary>
<p>The current implementation relies on <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Pipe"><code>Pipe</code></a> which only
works between processes on the same system/cluster. There is also limited support
with <code>dask</code> backends.</p>
<p>This could be extended to allow for web sockets or other forms of connections
but requires time. Please let us know in the Github issues if this is something
you are interested in!</p>
</details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div><h3 id="threadpoolctl">ThreadPoolCTL<a class="headerlink" href="#threadpoolctl" title="Permanent link">#</a></h3>


<div class="doc doc-object doc-module">




  <div class="doc doc-contents first">
  
      <p>The
<a class="autorefs autorefs-internal" href="../../../api/amltk/scheduling/plugins/threadpoolctl/#amltk.scheduling.plugins.threadpoolctl.ThreadPoolCTLPlugin"><code>ThreadPoolCTLPlugin</code></a>
if useful for parallel training of models. Without limiting with
threadpoolctl, the number of threads used by a given model may
oversubscribe to resources and cause significant slowdowns.</p>
<p>This is the mechanism employed by scikit-learn to limit the number of
threads used by a given model.</p>
<p>See <a href="https://github.com/joblib/threadpoolctl">threadpoolctl documentation</a>.</p>
<div class="admonition tip">
<p class="admonition-title">Requirements</p>
<p>This requires <code>threadpoolctl</code> which can be installed with:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>pip<span class="w"> </span>install<span class="w"> </span>amltk<span class="o">[</span>threadpoolctl<span class="o">]</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1"># Or directly</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>pip<span class="w"> </span>install<span class="w"> </span>threadpoolctl
</code></pre></div>
</div>
<details class="tip">
<summary>Usage</summary>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">amltk.scheduling</span> <span class="kn">import</span> <span class="n">Scheduler</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">amltk.scheduling.plugins.threadpoolctl</span> <span class="kn">import</span> <span class="n">ThreadPoolCTLPlugin</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">scheduler</span> <span class="o">=</span> <span class="n">Scheduler</span><span class="o">.</span><span class="n">with_processes</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="k">def</span> <span class="nf">f</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="c1"># ... some task that respects the limits set by threadpoolctl</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="k">pass</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="n">task</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">plugins</span><span class="o">=</span><span class="n">ThreadPoolCTLPlugin</span><span class="p">(</span><span class="n">max_threads</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</code></pre></div>
<div class="result">
<p>
<pre style="font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace;font-size:0.75rem">
<code style="font-family:inherit"><span style="color: #00afd7; text-decoration-color: #00afd7">╭─ </span><span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">Task </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">f</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">()</span><span style="color: #00afd7; text-decoration-color: #00afd7"> -&gt; </span><span style="color: #008000; text-decoration-color: #008000">&#x27;None&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ─────────────────────────────────────────────────────────╮</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╭────────────────────── Plugin threadpoolctl-plugin ───────────────────────╮ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │ <span style="font-weight: bold"> Max Threads  User-API </span>                                                  │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span>            <span style="color: #800080; text-decoration-color: #800080; font-style: italic">None</span>                                                       │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╰──────────────────────────────────────────────────────────────────────────╯ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_submitted</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_done</span>                                                                     <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_result</span>                                                                   <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_exception</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_cancelled</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">╰─────────────────────────────── Ref: </span><span style="color: #808000; text-decoration-color: #808000; font-style: italic">YrfCYSSj</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ────────────────────────────────╯</span>
</code>
</pre>

</p>
</div><div class="markdown-exec"></div>
</p>
</details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div><h3 id="warning-filter">Warning Filter<a class="headerlink" href="#warning-filter" title="Permanent link">#</a></h3>


<div class="doc doc-object doc-module">




  <div class="doc doc-contents first">
  
      <p>The
<a class="autorefs autorefs-internal" href="../../../api/amltk/scheduling/plugins/warning_filter/#amltk.scheduling.plugins.warning_filter.WarningFilter"><code>WarningFilter</code></a>
if used to automatically filter out warnings from a <a class="autorefs autorefs-internal" href="../../../api/amltk/scheduling/task/#amltk.scheduling.task.Task"><code>Task</code></a>
as it runs.</p>
<p>This wraps your function in context manager
<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/warnings.html#warnings.catch_warnings"><code>warnings.catch_warnings()</code></a>
and applies your arguments to <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/warnings.html#warnings.filterwarnings"><code>warnings.filterwarnings()</code></a>,
as you would normally filter warnings in Python.</p>
<details class="tip">
<summary>Usage</summary>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">import</span> <span class="nn">warnings</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">amltk.scheduling</span> <span class="kn">import</span> <span class="n">Scheduler</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">from</span> <span class="nn">amltk.scheduling.plugins</span> <span class="kn">import</span> <span class="n">WarningFilter</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="k">def</span> <span class="nf">f</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;This is a warning&quot;</span><span class="p">)</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="n">scheduler</span> <span class="o">=</span> <span class="n">Scheduler</span><span class="o">.</span><span class="n">with_processes</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="n">task</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">plugins</span><span class="o">=</span><span class="n">WarningFilter</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">))</span>
</code></pre></div>
<div class="result">
<p>
<pre style="font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace;font-size:0.75rem">
<code style="font-family:inherit"><span style="color: #00afd7; text-decoration-color: #00afd7">╭─ </span><span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">Task </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">f</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">()</span><span style="color: #00afd7; text-decoration-color: #00afd7"> -&gt; </span><span style="color: #008000; text-decoration-color: #008000">&#x27;None&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ─────────────────────────────────────────────────────────╮</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╭───────────────────────── Plugin warning-filter ──────────────────────────╮ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │ <span style="font-weight: bold"> Args         Kwargs </span>                                                    │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │  <span style="font-weight: bold">(</span><span style="color: #008000; text-decoration-color: #008000">&#x27;ignore&#x27;</span>,<span style="font-weight: bold">)</span>  <span style="font-weight: bold">{}</span>                                                         │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╰──────────────────────────────────────────────────────────────────────────╯ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_submitted</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_done</span>                                                                     <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_result</span>                                                                   <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_exception</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_cancelled</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">╰─────────────────────────────── Ref: </span><span style="color: #808000; text-decoration-color: #808000; font-style: italic">elKHJtPI</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ────────────────────────────────╯</span>
</code>
</pre>

</p>
</div><div class="markdown-exec"></div>
</p>
</details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div><h3 id="creating-your-own-plugin">Creating Your Own Plugin<a class="headerlink" href="#creating-your-own-plugin" title="Permanent link">#</a></h3>


<div class="doc doc-object doc-module">




  <div class="doc doc-contents first">
  
      <p>A plugin that can be attached to a Task.</p>
<p>By inheriting from a <code>Plugin</code>, you can hook into a
<a class="autorefs autorefs-internal" href="../../../api/amltk/scheduling/task/#amltk.scheduling.task.Task"><code>Task</code></a>. A plugin can affect, modify and extend its
behaviours. Please see the documentation of the methods for more information.
Creating a plugin is only necesary if you need to modify actual behaviour of
the task. For siply hooking into the lifecycle of a task, you can use the <code>@events</code>
that a <code>Task</code> emits.</p>
<details class="example">
<summary>Creating a Plugin</summary>
<p>For a full example of a simple plugin, see the
<a class="autorefs autorefs-internal" href="../../../api/amltk/scheduling/plugins/limiter/#amltk.scheduling.plugins.limiter.Limiter"><code>Limiter</code></a> plugin which prevents
the task being submitted if for example, it has already been submitted
too many times.</p>
<p>The below example shows how to create a plugin that prints the task name
before submitting it. It also emits an event when the task is submitted.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Callable</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="kn">from</span> <span class="nn">amltk.scheduling</span> <span class="kn">import</span> <span class="n">Scheduler</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="kn">from</span> <span class="nn">amltk.scheduling.plugins</span> <span class="kn">import</span> <span class="n">Plugin</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="kn">from</span> <span class="nn">amltk.scheduling.events</span> <span class="kn">import</span> <span class="n">Event</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="c1"># A simple plugin that prints the task name before submitting</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="k">class</span> <span class="nc">Printer</span><span class="p">(</span><span class="n">Plugin</span><span class="p">):</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;my-plugin&quot;</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    <span class="c1"># Define an event the plugin will emit</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    <span class="c1"># Event[Task] indicates the callback for the event will be called with the task</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="n">PRINTED</span><span class="p">:</span> <span class="n">Event</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Event</span><span class="p">(</span><span class="s2">&quot;printer-msg&quot;</span><span class="p">)</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">greeting</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">greeting</span> <span class="o">=</span> <span class="n">greeting</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">n_greetings</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>    <span class="k">def</span> <span class="nf">attach_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">task</span> <span class="o">=</span> <span class="n">task</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>        <span class="c1"># Register an event with the task, this lets the task know valid events</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>        <span class="c1"># people can subscribe to and helps it show up in visuals</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>        <span class="n">task</span><span class="o">.</span><span class="n">emitter</span><span class="o">.</span><span class="n">add_event</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">PRINTED</span><span class="p">)</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>        <span class="n">task</span><span class="o">.</span><span class="n">on_submitted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print_submitted</span><span class="p">,</span> <span class="n">hidden</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># You can hide this callback from visuals</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>    <span class="k">def</span> <span class="nf">pre_submit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Callable</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]:</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">greeting</span><span class="si">}</span><span class="s2"> for </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">task</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">args</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">kwargs</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">n_greetings</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>        <span class="k">return</span> <span class="n">fn</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>    <span class="k">def</span> <span class="nf">_print_submitted</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">future</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Task was submitted </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">task</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">args</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">kwargs</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">emitter</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">PRINTED</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>  <span class="c1"># Emit the event with a msg</span>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Printer</span><span class="p">:</span>
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a>        <span class="c1"># Plugins need to be able to copy themselves as if fresh</span>
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">greeting</span><span class="p">)</span>
<a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a>
<a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a>    <span class="k">def</span> <span class="nf">__rich__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-41" name="__codelineno-0-41" href="#__codelineno-0-41"></a>        <span class="c1"># Custome how the plugin is displayed in rich (Optional)</span>
<a id="__codelineno-0-42" name="__codelineno-0-42" href="#__codelineno-0-42"></a>        <span class="c1"># rich is an optional dependancy of amltk so we move the imports into here</span>
<a id="__codelineno-0-43" name="__codelineno-0-43" href="#__codelineno-0-43"></a>        <span class="kn">from</span> <span class="nn">rich.panel</span> <span class="kn">import</span> <span class="n">Panel</span>
<a id="__codelineno-0-44" name="__codelineno-0-44" href="#__codelineno-0-44"></a>
<a id="__codelineno-0-45" name="__codelineno-0-45" href="#__codelineno-0-45"></a>        <span class="k">return</span> <span class="n">Panel</span><span class="p">(</span>
<a id="__codelineno-0-46" name="__codelineno-0-46" href="#__codelineno-0-46"></a>            <span class="sa">f</span><span class="s2">&quot;Greeting: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">greeting</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">n_greetings</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
<a id="__codelineno-0-47" name="__codelineno-0-47" href="#__codelineno-0-47"></a>            <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Plugin </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-48" name="__codelineno-0-48" href="#__codelineno-0-48"></a>        <span class="p">)</span>
<a id="__codelineno-0-49" name="__codelineno-0-49" href="#__codelineno-0-49"></a>
<a id="__codelineno-0-50" name="__codelineno-0-50" href="#__codelineno-0-50"></a><span class="k">def</span> <span class="nf">fn</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-0-51" name="__codelineno-0-51" href="#__codelineno-0-51"></a>    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<a id="__codelineno-0-52" name="__codelineno-0-52" href="#__codelineno-0-52"></a>
<a id="__codelineno-0-53" name="__codelineno-0-53" href="#__codelineno-0-53"></a><span class="n">scheduler</span> <span class="o">=</span> <span class="n">Scheduler</span><span class="o">.</span><span class="n">with_processes</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-54" name="__codelineno-0-54" href="#__codelineno-0-54"></a><span class="n">task</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="n">plugins</span><span class="o">=</span><span class="p">[</span><span class="n">Printer</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">)])</span>
<a id="__codelineno-0-55" name="__codelineno-0-55" href="#__codelineno-0-55"></a>
<a id="__codelineno-0-56" name="__codelineno-0-56" href="#__codelineno-0-56"></a><span class="nd">@scheduler</span><span class="o">.</span><span class="n">on_start</span>
<a id="__codelineno-0-57" name="__codelineno-0-57" href="#__codelineno-0-57"></a><span class="k">def</span> <span class="nf">on_start</span><span class="p">():</span>
<a id="__codelineno-0-58" name="__codelineno-0-58" href="#__codelineno-0-58"></a>    <span class="n">task</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<a id="__codelineno-0-59" name="__codelineno-0-59" href="#__codelineno-0-59"></a>
<a id="__codelineno-0-60" name="__codelineno-0-60" href="#__codelineno-0-60"></a><span class="nd">@task</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;printer-msg&quot;</span><span class="p">)</span>
<a id="__codelineno-0-61" name="__codelineno-0-61" href="#__codelineno-0-61"></a><span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="n">msg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<a id="__codelineno-0-62" name="__codelineno-0-62" href="#__codelineno-0-62"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">msg&quot;</span><span class="p">)</span>
<a id="__codelineno-0-63" name="__codelineno-0-63" href="#__codelineno-0-63"></a>
<a id="__codelineno-0-64" name="__codelineno-0-64" href="#__codelineno-0-64"></a><span class="n">scheduler</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div>
<div class="result">
<p>Hello for Task(unique_ref=Odj19PvN) (15,) {}

msg

<pre style="font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace;font-size:0.75rem">
<code style="font-family:inherit"><span style="color: #00afd7; text-decoration-color: #00afd7">╭─ </span><span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">Task </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">fn</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">(</span><span style="color: #00afd7; text-decoration-color: #00afd7">x: </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7; font-weight: bold">)</span><span style="color: #00afd7; text-decoration-color: #00afd7"> -&gt; </span><span style="color: #008000; text-decoration-color: #008000">&#x27;int&#x27;</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ─────────────────────────────────────────────────╮</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╭──────────────────────────── Plugin my-plugin ────────────────────────────╮ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> │ Greeting: Hello (1)                                                      │ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> ╰──────────────────────────────────────────────────────────────────────────╯ <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_submitted</span><span style="color: #808000; text-decoration-color: #808000; font-weight: bold; font-style: italic"> 1</span>                                                              <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_done</span><span style="color: #808000; text-decoration-color: #808000; font-weight: bold; font-style: italic"> 1</span>                                                                   <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_result</span><span style="color: #808000; text-decoration-color: #808000; font-weight: bold; font-style: italic"> 1</span>                                                                 <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_exception</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">on_cancelled</span>                                                                <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">@</span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold; font-style: italic">printer-msg</span><span style="color: #808000; text-decoration-color: #808000; font-weight: bold; font-style: italic"> 1</span>                                                               <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">│</span> └── <span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">def </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">callback</span><span style="font-weight: bold">(</span>msg: <span style="color: #008000; text-decoration-color: #008000">&#x27;str&#x27;</span><span style="font-weight: bold">)</span><span style="font-style: italic"> (</span><span style="color: #808000; text-decoration-color: #808000; font-style: italic">1</span><span style="font-style: italic">)</span>                                             <span style="color: #00afd7; text-decoration-color: #00afd7">│</span>
<span style="color: #00afd7; text-decoration-color: #00afd7">╰─────────────────────────────── Ref: </span><span style="color: #808000; text-decoration-color: #808000; font-style: italic">Odj19PvN</span><span style="color: #00afd7; text-decoration-color: #00afd7"> ────────────────────────────────╯</span>
</code>
</pre>

</p>
</div><div class="markdown-exec"></div>
</p>
<p>All methods are optional, and you can choose to implement only the ones
you need. Most plugins will likely need to implement the
<a class="autorefs autorefs-internal" href="../../../api/amltk/scheduling/plugins/plugin/#amltk.scheduling.plugins.plugin.Plugin.attach_task"><code>attach_task()</code></a> method, which is called
when the plugin is attached to a task. In this method, you can for
example subscribe to events on the task, create new subscribers for people
to use or even store a reference to the task for later use.</p>
<p>Plugins are also encouraged to utilize the events of a
<a class="autorefs autorefs-internal" href="../../../api/amltk/scheduling/task/#amltk.scheduling.task.Task"><code>Task</code></a> to further hook into the lifecycle of the task.
For exampe, by saving a reference to the task in the <code>attach_task()</code> method, you
can use the <a class="autorefs autorefs-internal" href="../../../api/amltk/scheduling/task/#amltk.scheduling.task.Task"><code>emit()</code></a> method of the task to emit
your own specialized events.</p>
</details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../task/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Task">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Task
              </div>
            </div>
          </a>
        
        
          
          <a href="../events/" class="md-footer__link md-footer__link--next" aria-label="Next: Events">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Events
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/automl" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/automl_org" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "content.code.copy", "navigation.footer", "navigation.tabs", "navigation.tabs.sticky", "navigation.expand", "toc.follow", "header.autohide", "search.suggest", "search.highlight", "search.share"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.81fa17fe.min.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>