
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../components/">
      
      
        <link rel="next" href="../ops/">
      
      
      <link rel="icon" href="../../../../assets/automl_org.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.18">
    
    
      
        <title>Node - AutoML-Toolkit</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.66ac8b77.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/_markdown_exec_pyodide.css">
    
      <link rel="stylesheet" href="../../../../assets/_markdown_exec_ansi.css">
    
      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/custom.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#amltk.pipeline.node.Node.search_space" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="AutoML-Toolkit" class="md-header__button md-logo" aria-label="AutoML-Toolkit" data-md-component="logo">
      
  <img src="../../../../assets/automl_org.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AutoML-Toolkit
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Node
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="deep-purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3m0-4.5c5 0 9.27 3.11 11 7.5-1.73 4.39-6 7.5-11 7.5S2.73 16.39 1 12c1.73-4.39 6-7.5 11-7.5M3.18 12a9.821 9.821 0 0 0 17.64 0 9.821 9.821 0 0 0-17.64 0Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="deep-purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/automl/amltk/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    automl/amltk
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../guides/" class="md-tabs__link">
          
  
  Guides

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../reference/" class="md-tabs__link">
          
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../examples/" class="md-tabs__link">
          
  
  Examples

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../" class="md-tabs__link">
          
  
  API

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../contributing/" class="md-tabs__link">
        
  
    
  
  Contributing

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../changelog/" class="md-tabs__link">
        
  
    
  
  What's New?

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="AutoML-Toolkit" class="md-nav__button md-logo" aria-label="AutoML-Toolkit" data-md-component="logo">
      
  <img src="../../../../assets/automl_org.png" alt="logo">

    </a>
    AutoML-Toolkit
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/automl/amltk/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    automl/amltk
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/optimization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optimization Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/pipelines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipelines Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/scheduling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scheduling
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Scheduling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Scheduling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/scheduling/scheduler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scheduler
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/scheduling/executors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Executors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/scheduling/task/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Task
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/scheduling/plugins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plugins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/scheduling/queue_monitor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Queue monitor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/scheduling/events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Events
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Pipelines
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Pipelines
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/pipelines/pipeline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipeline
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/pipelines/spaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spaces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/pipelines/builders/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Builders
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Optimization
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Optimization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/optimization/metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metrics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/optimization/optimizers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optimizers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/optimization/trials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/optimization/history/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    History
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/optimization/profiling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Profiling
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/data/buckets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Buckets
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Meta-Learning
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Meta-Learning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/metalearning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metalearning
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../examples/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../examples/dask-jobqueue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using the Scheduler with SLURM (dask-jobqueue)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../examples/hpo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HPO
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../examples/hpo_with_ensembling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Performing HPO with Post-Hoc Ensembling.
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../examples/pytorch-example/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Script for building and evaluating an example of PyTorch MLP model on MNIST dataset.
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../examples/sklearn-hpo-cv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Random Search with CVEvaluation.
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" checked>
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Amltk
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Amltk
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../distances/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Distances
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exceptions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../options/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../randomness/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Randomness
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_6" >
        
          
          <label class="md-nav__link" for="__nav_5_2_6" id="__nav_5_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_6">
            <span class="md-nav__icon md-icon"></span>
            Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/conversions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conversions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/dtype_reduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dtype reduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/measure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Measure
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_7" >
        
          
          <label class="md-nav__link" for="__nav_5_2_7" id="__nav_5_2_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ensembling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_7">
            <span class="md-nav__icon md-icon"></span>
            Ensembling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ensembling/weighted_ensemble_caruana/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Weighted ensemble caruana
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_8" >
        
          
          <label class="md-nav__link" for="__nav_5_2_8" id="__nav_5_2_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Metalearning
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_8">
            <span class="md-nav__icon md-icon"></span>
            Metalearning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../metalearning/dataset_distances/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dataset distances
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../metalearning/metafeatures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metafeatures
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../metalearning/portfolio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Portfolio
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_9" >
        
          
          <label class="md-nav__link" for="__nav_5_2_9" id="__nav_5_2_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Optimization
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_9">
            <span class="md-nav__icon md-icon"></span>
            Optimization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/evaluation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evaluation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/history/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    History
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/metric/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metric
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/optimizer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optimizer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/trial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_9_6" >
        
          
          <label class="md-nav__link" for="__nav_5_2_9_6" id="__nav_5_2_9_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Optimizers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_9_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_9_6">
            <span class="md-nav__icon md-icon"></span>
            Optimizers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/optimizers/neps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Neps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/optimizers/optuna/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optuna
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/optimizers/random_search/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Random search
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/optimizers/smac/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Smac
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_10" checked>
        
          
          <label class="md-nav__link" for="__nav_5_2_10" id="__nav_5_2_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Pipeline
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_2_10">
            <span class="md-nav__icon md-icon"></span>
            Pipeline
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Components
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Node
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Node
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#amltk.pipeline.node.Node.search_space" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;search_space
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amltk.pipeline.node.Node.walk" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;walk
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amltk.pipeline.node.OnBeginCallbackSignature" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;OnBeginCallbackSignature
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" OnBeginCallbackSignature">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#amltk.pipeline.node.OnBeginCallbackSignature.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__call__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amltk.pipeline.node.ParamRequest" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ParamRequest
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ParamRequest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#amltk.pipeline.node.ParamRequest.default" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;default
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.pipeline.node.ParamRequest.has_default" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;has_default
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amltk.pipeline.node.ParamRequest.key" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;key
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amltk.pipeline.node.RichOptions" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RichOptions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amltk.pipeline.node.request" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;request
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ops/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ops
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../xgboost/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Xgboost
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_10_5" >
        
          
          <label class="md-nav__link" for="__nav_5_2_10_5" id="__nav_5_2_10_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Builders
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_10_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_10_5">
            <span class="md-nav__icon md-icon"></span>
            Builders
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../builders/sklearn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sklearn
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_10_6" >
        
          
          <label class="md-nav__link" for="__nav_5_2_10_6" id="__nav_5_2_10_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Parsers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_10_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_10_6">
            <span class="md-nav__icon md-icon"></span>
            Parsers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parsers/configspace/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configspace
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parsers/optuna/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optuna
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_11" >
        
          
          <label class="md-nav__link" for="__nav_5_2_11" id="__nav_5_2_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Profiling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_11">
            <span class="md-nav__icon md-icon"></span>
            Profiling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../profiling/memory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Memory
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../profiling/profiler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Profiler
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../profiling/timing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timing
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_12" >
        
          
          <label class="md-nav__link" for="__nav_5_2_12" id="__nav_5_2_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Pytorch
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_12">
            <span class="md-nav__icon md-icon"></span>
            Pytorch
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pytorch/builders/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Builders
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_13" >
        
          
          <label class="md-nav__link" for="__nav_5_2_13" id="__nav_5_2_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Scheduling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_13">
            <span class="md-nav__icon md-icon"></span>
            Scheduling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Events
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/queue_monitor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Queue monitor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/scheduler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scheduler
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/task/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Task
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/termination_strategies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Termination strategies
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_13_6" >
        
          
          <label class="md-nav__link" for="__nav_5_2_13_6" id="__nav_5_2_13_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Executors
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_13_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_13_6">
            <span class="md-nav__icon md-icon"></span>
            Executors
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/executors/dask_jobqueue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dask jobqueue
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/executors/sequential_executor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sequential executor
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_13_7" >
        
          
          <label class="md-nav__link" for="__nav_5_2_13_7" id="__nav_5_2_13_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Plugins
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_13_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_13_7">
            <span class="md-nav__icon md-icon"></span>
            Plugins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/plugins/comm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/plugins/emissions_tracker_plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Emissions tracker plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/plugins/limiter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Limiter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/plugins/plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/plugins/pynisher/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pynisher
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/plugins/threadpoolctl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Threadpoolctl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/plugins/wandb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wandb
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduling/plugins/warning_filter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Warning filter
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_14" >
        
          
          <label class="md-nav__link" for="__nav_5_2_14" id="__nav_5_2_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sklearn
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_14">
            <span class="md-nav__icon md-icon"></span>
            Sklearn
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sklearn/data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sklearn/estimators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Estimators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sklearn/evaluation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evaluation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sklearn/voting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Voting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_15" >
        
          
          <label class="md-nav__link" for="__nav_5_2_15" id="__nav_5_2_15_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Store
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_15">
            <span class="md-nav__icon md-icon"></span>
            Store
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../store/bucket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bucket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../store/drop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Drop
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../store/loader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Loader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../store/stored/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stored
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_15_5" >
        
          
          <label class="md-nav__link" for="__nav_5_2_15_5" id="__nav_5_2_15_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Paths
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_15_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_15_5">
            <span class="md-nav__icon md-icon"></span>
            Paths
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../store/paths/path_bucket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Path bucket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../store/paths/path_loaders/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Path loaders
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What's New?
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Node</h1>

<div class="doc doc-object doc-module">



<h2 id="amltk.pipeline.node" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>          <span class="doc doc-object-name doc-module-name">amltk.pipeline.node</span>


<a href="#amltk.pipeline.node" class="headerlink" title="Permanent link">#</a></h2>

  <div class="doc doc-contents first">
  
      <p>A pipeline consists of <a class="autorefs autorefs-internal" href="#amltk.pipeline.node.Node"><code>Node</code></a>s, which hold
the various attributes required to build a pipeline, such as the
<a class="autorefs autorefs-internal" href="#amltk.pipeline.node.Node.item"><code>.item</code></a>, its <a class="autorefs autorefs-internal" href="#amltk.pipeline.node.Node.space"><code>.space</code></a>,
its <a class="autorefs autorefs-internal" href="#amltk.pipeline.node.Node.config"><code>.config</code></a> and so on.</p>
<p>The <a class="autorefs autorefs-internal" href="#amltk.pipeline.node.Node"><code>Node</code></a>s are connected to each in a parent-child
relation ship where the children are simply the <a class="autorefs autorefs-internal" href="#amltk.pipeline.node.Node.nodes"><code>.nodes</code></a>
that the parent leads to.</p>
<p>To give these attributes and relations meaning, there are various subclasses
of <a class="autorefs autorefs-internal" href="#amltk.pipeline.node.Node"><code>Node</code></a> which give different syntactic meanings
when you want to construct something like a
<a class="autorefs autorefs-internal" href="#amltk.pipeline.node.Node.search_space"><code>search_space()</code></a> or
<a class="autorefs autorefs-internal" href="#amltk.pipeline.node.Node.build"><code>build()</code></a> some concrete object out of the
pipeline.</p>
<p>For example, a <a class="autorefs autorefs-internal" href="../components/#amltk.pipeline.components.Sequential"><code>Sequential</code></a> node
gives the meaning that each of its children in
<a class="autorefs autorefs-internal" href="#amltk.pipeline.node.Node.nodes"><code>.nodes</code></a> should follow one another while
something like a <a class="autorefs autorefs-internal" href="../components/#amltk.pipeline.components.Choice"><code>Choice</code></a>
gives the meaning that only one of its children should be chosen.</p>
<p>You will likely never have to create a <a class="autorefs autorefs-internal" href="#amltk.pipeline.node.Node"><code>Node</code></a>
directly, but instead use the various components to create the pipeline.</p>
<details class="note">
<summary>Hashing</summary>
<p>When hashing a node, i.e. to put it in a <code>set</code> or as a key in a <code>dict</code>,
only the name of the node and the hash of its children is used.
This means that two nodes with the same connectivity will be equalling hashed,</p>
</details>
<details class="note">
<summary>Equality</summary>
<p>When considering equality, this will be done by comparing all the fields
of the node. This include even the <code>parent</code> and <code>branches</code> fields. This
means two nodes are considered equal if they look the same and they are
connected in to nodes that also look the same.</p>
</details>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="amltk.pipeline.node.Node" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>          <span class="doc doc-object-name doc-class-name">Node</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

<a href="#amltk.pipeline.node.Node" class="headerlink" title="Permanent link">#</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">Node</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="o">*</span><span class="n">nodes</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n">name</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">item</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.types.Item" href="../../types/#amltk.types.Item">Item</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a></span><span class="p">[[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.types.Item" href="../../types/#amltk.types.Item">Item</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.types.Item" href="../../types/#amltk.types.Item">Item</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">config</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.types.Config" href="../../types/#amltk.types.Config">Config</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">space</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.types.Space" href="../../types/#amltk.types.Space">Space</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n">fidelities</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="n">config_transform</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>        <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a></span><span class="p">[[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.types.Config" href="../../types/#amltk.types.Config">Config</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.types.Config" href="../../types/#amltk.types.Config">Config</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    <span class="n">meta</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="amltk._richutil.RichRenderable">RichRenderable</span></code>, <code><a class="autorefs autorefs-external" title="typing.Generic" href="https://docs.python.org/3/library/typing.html#typing.Generic">Generic</a>[<a class="autorefs autorefs-internal" title="amltk.types.Item" href="../../types/#amltk.types.Item">Item</a>, <a class="autorefs autorefs-internal" title="amltk.types.Space" href="../../types/#amltk.types.Space">Space</a>]</code></p>

  
      <p>The core node class for the pipeline.</p>
<p>These are simple objects that are named and linked together to form
a chain. They are then wrapped in a <code>Pipeline</code> object to provide
a convenient interface for interacting with the chain.</p>
  



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">PARAMETER</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td><code>nodes</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The nodes that this node leads to</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>()</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>name</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The name of the node</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>item</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The item attached to this node</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.types.Item" href="../../types/#amltk.types.Item">Item</a> | <a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a>[[<a class="autorefs autorefs-internal" title="amltk.types.Item" href="../../types/#amltk.types.Item">Item</a>], <a class="autorefs autorefs-internal" title="amltk.types.Item" href="../../types/#amltk.types.Item">Item</a>] | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>config</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The configuration for this node</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.types.Config" href="../../types/#amltk.types.Config">Config</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>space</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The search space for this node</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.types.Space" href="../../types/#amltk.types.Space">Space</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>fidelities</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The fidelities for this node</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a>] | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>config_transform</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>A function that transforms the configuration of this node</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a>[[<a class="autorefs autorefs-internal" title="amltk.types.Config" href="../../types/#amltk.types.Config">Config</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a>], <a class="autorefs autorefs-internal" title="amltk.types.Config" href="../../types/#amltk.types.Config">Config</a>] | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>meta</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>Any meta information about this node</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a>] | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

                <details class="quote">
                  <summary>Source code in <code>src/amltk/pipeline/node.py</code></summary>
                  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-272" name="__codelineno-0-272"></a><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a>    <span class="o">*</span><span class="n">nodes</span><span class="p">:</span> <span class="n">Node</span><span class="p">,</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a>    <span class="n">item</span><span class="p">:</span> <span class="n">Item</span> <span class="o">|</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Item</span><span class="p">],</span> <span class="n">Item</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a>    <span class="n">config</span><span class="p">:</span> <span class="n">Config</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a>    <span class="n">space</span><span class="p">:</span> <span class="n">Space</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a>    <span class="n">fidelities</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a>    <span class="n">config_transform</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Config</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">Config</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a>    <span class="n">meta</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a><span class="p">):</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize a choice.</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a><span class="sd">        nodes: The nodes that this node leads to</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a><span class="sd">        name: The name of the node</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a><span class="sd">        item: The item attached to this node</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a><span class="sd">        config: The configuration for this node</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a><span class="sd">        space: The search space for this node</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a><span class="sd">        fidelities: The fidelities for this node</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a><span class="sd">        config_transform: A function that transforms the configuration of this node</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a><span class="sd">        meta: Any meta information about this node</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>    <span class="nb">object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>    <span class="nb">object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;item&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>    <span class="nb">object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;config&quot;</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>    <span class="nb">object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;space&quot;</span><span class="p">,</span> <span class="n">space</span><span class="p">)</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>    <span class="nb">object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;fidelities&quot;</span><span class="p">,</span> <span class="n">fidelities</span><span class="p">)</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>    <span class="nb">object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;config_transform&quot;</span><span class="p">,</span> <span class="n">config_transform</span><span class="p">)</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>    <span class="nb">object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;meta&quot;</span><span class="p">,</span> <span class="n">meta</span><span class="p">)</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a>    <span class="nb">object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;nodes&quot;</span><span class="p">,</span> <span class="n">nodes</span><span class="p">)</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">all_unique</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">):</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>        <span class="k">raise</span> <span class="n">DuplicateNamesError</span><span class="p">(</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a>            <span class="sa">f</span><span class="s2">&quot;Duplicate node names in </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">. &quot;</span> <span class="s2">&quot;All nodes must have unique names.&quot;</span><span class="p">,</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a>        <span class="p">)</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a>    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>        <span class="k">if</span> <span class="n">child</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a>            <span class="k">raise</span> <span class="n">DuplicateNamesError</span><span class="p">(</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a>                <span class="sa">f</span><span class="s2">&quot;Cannot have a child node with the same name as its parent. &quot;</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">=}</span><span class="s2"> </span><span class="si">{</span><span class="n">child</span><span class="o">.</span><span class="n">name</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">,</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a>            <span class="p">)</span>
</code></pre></div></td></tr></table></div>
                </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="amltk.pipeline.node.Node.RICH_OPTIONS" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">RICH_OPTIONS</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#amltk.pipeline.node.Node.RICH_OPTIONS" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">RICH_OPTIONS</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.RichOptions" href="#amltk.pipeline.node.RichOptions">RichOptions</a></span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.RichOptions" href="#amltk.pipeline.node.RichOptions">RichOptions</a></span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">panel_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="n">node_orientation</span><span class="o">=</span><span class="s2">&quot;horizontal&quot;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>How to display this node in rich.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.pipeline.node.Node.config" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">config</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.pipeline.node.Node.config" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">config</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.types.Config" href="../../types/#amltk.types.Config">Config</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-external" title="dataclasses.field" href="https://docs.python.org/3/library/dataclasses.html#dataclasses.field">field</a></span><span class="p">(</span><span class="nb">hash</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The configuration for this node</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.pipeline.node.Node.config_transform" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">config_transform</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.pipeline.node.Node.config_transform" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">config_transform</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a></span><span class="p">[[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.types.Config" href="../../types/#amltk.types.Config">Config</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.types.Config" href="../../types/#amltk.types.Config">Config</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><a class="autorefs autorefs-external" title="dataclasses.field" href="https://docs.python.org/3/library/dataclasses.html#dataclasses.field">field</a></span><span class="p">(</span><span class="nb">hash</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>A function that transforms the configuration of this node</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.pipeline.node.Node.fidelities" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">fidelities</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.pipeline.node.Node.fidelities" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">fidelities</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-external" title="dataclasses.field" href="https://docs.python.org/3/library/dataclasses.html#dataclasses.field">field</a></span><span class="p">(</span><span class="nb">hash</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The fidelities for this node</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.pipeline.node.Node.item" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">item</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.pipeline.node.Node.item" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">item</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a></span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.types.Item" href="../../types/#amltk.types.Item">Item</a></span><span class="p">]</span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.types.Item" href="../../types/#amltk.types.Item">Item</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-external" title="dataclasses.field" href="https://docs.python.org/3/library/dataclasses.html#dataclasses.field">field</a></span><span class="p">(</span><span class="nb">hash</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The item attached to this node</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.pipeline.node.Node.meta" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">meta</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.pipeline.node.Node.meta" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">meta</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-external" title="dataclasses.field" href="https://docs.python.org/3/library/dataclasses.html#dataclasses.field">field</a></span><span class="p">(</span><span class="nb">hash</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Any meta information about this node</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.pipeline.node.Node.name" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">name</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.pipeline.node.Node.name" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">name</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-external" title="dataclasses.field" href="https://docs.python.org/3/library/dataclasses.html#dataclasses.field">field</a></span><span class="p">(</span><span class="nb">hash</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Name of the node</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.pipeline.node.Node.nodes" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">nodes</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.pipeline.node.Node.nodes" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">nodes</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-external" title="dataclasses.field" href="https://docs.python.org/3/library/dataclasses.html#dataclasses.field">field</a></span><span class="p">(</span><span class="nb">hash</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The nodes that this node leads to.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.pipeline.node.Node.space" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">space</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.pipeline.node.Node.space" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">space</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.types.Space" href="../../types/#amltk.types.Space">Space</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-external" title="dataclasses.field" href="https://docs.python.org/3/library/dataclasses.html#dataclasses.field">field</a></span><span class="p">(</span><span class="nb">hash</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The search space for this node</p>
  </div>

</div>




<div class="doc doc-object doc-function">



<h4 id="amltk.pipeline.node.Node.__getitem__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">__getitem__</span>


<a href="#amltk.pipeline.node.Node.__getitem__" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="fm">__getitem__</span><span class="p">(</span><span class="nf">key</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get the first from <a class="autorefs autorefs-internal" href="#amltk.pipeline.node.Node.nodes"><code>.nodes</code></a> with <code>key</code>.</p>

          <details class="quote">
            <summary>Source code in <code>src/amltk/pipeline/node.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-317" name="__codelineno-0-317"></a><span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Node</span><span class="p">:</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the first from [`.nodes`][amltk.pipeline.node.Node.nodes] with `key`.&quot;&quot;&quot;</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a>    <span class="n">found</span> <span class="o">=</span> <span class="n">first_true</span><span class="p">(</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a>        <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a>        <span class="k">lambda</span> <span class="n">node</span><span class="p">:</span> <span class="n">node</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">key</span><span class="p">,</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a>    <span class="p">)</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a>    <span class="k">if</span> <span class="n">found</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a>        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a>            <span class="sa">f</span><span class="s2">&quot;Could not find node with name `</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">` in &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a>            <span class="sa">f</span><span class="s2">&quot; Available nodes are: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">name</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a>        <span class="p">)</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>    <span class="k">return</span> <span class="n">found</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="amltk.pipeline.node.Node.build" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">build</span>


<a href="#amltk.pipeline.node.Node.build" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">build</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">builder</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>        <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="typing.Concatenate" href="https://docs.python.org/3/library/typing.html#typing.Concatenate">Concatenate</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">,</span> <span class="n"><span title="amltk.pipeline.node.P">P</span></span><span class="p">],</span> <span class="n"><span title="amltk.pipeline.node.BuilderOutput">BuilderOutput</span></span><span class="p">]</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>        <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span><span class="s2">&quot;sklearn&quot;</span><span class="p">]</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="p">),</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="o">*</span><span class="n">builder_args</span><span class="p">:</span> <span class="n"><span title="amltk.pipeline.node.P.args">args</span></span><span class="p">,</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="o">**</span><span class="n">builder_kwargs</span><span class="p">:</span> <span class="n"><span title="amltk.pipeline.node.P.kwargs">kwargs</span></span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="amltk.pipeline.node.BuilderOutput">BuilderOutput</span></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="sklearn.pipeline.Pipeline" href="https://scikit-learn.org/stable/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline">Pipeline</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Build a concrete object out of this node.</p>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">PARAMETER</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td><code>builder</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The builder to use. This can be a function that takes in
the node and returns the object or a string that is one of:</p>
<ul>
<li><code class="highlight"><span class="s2">&quot;sklearn&quot;</span></code>: Build a
    <a class="autorefs autorefs-external" href="https://scikit-learn.org/stable/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline"><code>sklearn.pipeline.Pipeline</code></a>
    out of this node.</li>
</ul>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a>[<a class="autorefs autorefs-external" title="typing.Concatenate" href="https://docs.python.org/3/library/typing.html#typing.Concatenate">Concatenate</a>[<a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a>, <span title="amltk.pipeline.node.P">P</span>], <span title="amltk.pipeline.node.BuilderOutput">BuilderOutput</span>] | <a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;sklearn&#39;]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>builder_args</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The positional arguments to pass to the builder</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><span title="amltk.pipeline.node.P.args">args</span></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>()</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>builder_kwargs</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The keyword arguments to pass to the builder</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><span title="amltk.pipeline.node.P.kwargs">kwargs</span></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>{}</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">RETURNS</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td>
              <span class="doc-returns-annotation">
                  <code><span title="amltk.pipeline.node.BuilderOutput">BuilderOutput</span> | <a class="autorefs autorefs-external" title="sklearn.pipeline.Pipeline" href="https://scikit-learn.org/stable/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline">Pipeline</a></code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>The built object</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>src/amltk/pipeline/node.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-746">746</a></span>
<span class="normal"><a href="#__codelineno-0-747">747</a></span>
<span class="normal"><a href="#__codelineno-0-748">748</a></span>
<span class="normal"><a href="#__codelineno-0-749">749</a></span>
<span class="normal"><a href="#__codelineno-0-750">750</a></span>
<span class="normal"><a href="#__codelineno-0-751">751</a></span>
<span class="normal"><a href="#__codelineno-0-752">752</a></span>
<span class="normal"><a href="#__codelineno-0-753">753</a></span>
<span class="normal"><a href="#__codelineno-0-754">754</a></span>
<span class="normal"><a href="#__codelineno-0-755">755</a></span>
<span class="normal"><a href="#__codelineno-0-756">756</a></span>
<span class="normal"><a href="#__codelineno-0-757">757</a></span>
<span class="normal"><a href="#__codelineno-0-758">758</a></span>
<span class="normal"><a href="#__codelineno-0-759">759</a></span>
<span class="normal"><a href="#__codelineno-0-760">760</a></span>
<span class="normal"><a href="#__codelineno-0-761">761</a></span>
<span class="normal"><a href="#__codelineno-0-762">762</a></span>
<span class="normal"><a href="#__codelineno-0-763">763</a></span>
<span class="normal"><a href="#__codelineno-0-764">764</a></span>
<span class="normal"><a href="#__codelineno-0-765">765</a></span>
<span class="normal"><a href="#__codelineno-0-766">766</a></span>
<span class="normal"><a href="#__codelineno-0-767">767</a></span>
<span class="normal"><a href="#__codelineno-0-768">768</a></span>
<span class="normal"><a href="#__codelineno-0-769">769</a></span>
<span class="normal"><a href="#__codelineno-0-770">770</a></span>
<span class="normal"><a href="#__codelineno-0-771">771</a></span>
<span class="normal"><a href="#__codelineno-0-772">772</a></span>
<span class="normal"><a href="#__codelineno-0-773">773</a></span>
<span class="normal"><a href="#__codelineno-0-774">774</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-746" name="__codelineno-0-746"></a><span class="k">def</span> <span class="nf">build</span><span class="p">(</span>
<a id="__codelineno-0-747" name="__codelineno-0-747"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-748" name="__codelineno-0-748"></a>    <span class="n">builder</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="n">Concatenate</span><span class="p">[</span><span class="n">Node</span><span class="p">,</span> <span class="n">P</span><span class="p">],</span> <span class="n">BuilderOutput</span><span class="p">]</span> <span class="o">|</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;sklearn&quot;</span><span class="p">],</span>
<a id="__codelineno-0-749" name="__codelineno-0-749"></a>    <span class="o">*</span><span class="n">builder_args</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">args</span><span class="p">,</span>
<a id="__codelineno-0-750" name="__codelineno-0-750"></a>    <span class="o">**</span><span class="n">builder_kwargs</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">kwargs</span><span class="p">,</span>
<a id="__codelineno-0-751" name="__codelineno-0-751"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BuilderOutput</span> <span class="o">|</span> <span class="n">SklearnPipeline</span><span class="p">:</span>
<a id="__codelineno-0-752" name="__codelineno-0-752"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Build a concrete object out of this node.</span>
<a id="__codelineno-0-753" name="__codelineno-0-753"></a>
<a id="__codelineno-0-754" name="__codelineno-0-754"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-755" name="__codelineno-0-755"></a><span class="sd">        builder: The builder to use. This can be a function that takes in</span>
<a id="__codelineno-0-756" name="__codelineno-0-756"></a><span class="sd">            the node and returns the object or a string that is one of:</span>
<a id="__codelineno-0-757" name="__codelineno-0-757"></a>
<a id="__codelineno-0-758" name="__codelineno-0-758"></a><span class="sd">            * `#!python &quot;sklearn&quot;`: Build a</span>
<a id="__codelineno-0-759" name="__codelineno-0-759"></a><span class="sd">                [`sklearn.pipeline.Pipeline`][sklearn.pipeline.Pipeline]</span>
<a id="__codelineno-0-760" name="__codelineno-0-760"></a><span class="sd">                out of this node.</span>
<a id="__codelineno-0-761" name="__codelineno-0-761"></a>
<a id="__codelineno-0-762" name="__codelineno-0-762"></a><span class="sd">        builder_args: The positional arguments to pass to the builder</span>
<a id="__codelineno-0-763" name="__codelineno-0-763"></a><span class="sd">        builder_kwargs: The keyword arguments to pass to the builder</span>
<a id="__codelineno-0-764" name="__codelineno-0-764"></a>
<a id="__codelineno-0-765" name="__codelineno-0-765"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-766" name="__codelineno-0-766"></a><span class="sd">        The built object</span>
<a id="__codelineno-0-767" name="__codelineno-0-767"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-768" name="__codelineno-0-768"></a>    <span class="k">match</span> <span class="n">builder</span><span class="p">:</span>
<a id="__codelineno-0-769" name="__codelineno-0-769"></a>        <span class="k">case</span> <span class="s2">&quot;sklearn&quot;</span><span class="p">:</span>
<a id="__codelineno-0-770" name="__codelineno-0-770"></a>            <span class="kn">from</span> <span class="nn">amltk.pipeline.builders.sklearn</span> <span class="kn">import</span> <span class="n">build</span> <span class="k">as</span> <span class="n">_build</span>
<a id="__codelineno-0-771" name="__codelineno-0-771"></a>
<a id="__codelineno-0-772" name="__codelineno-0-772"></a>            <span class="k">return</span> <span class="n">_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">builder_args</span><span class="p">,</span> <span class="o">**</span><span class="n">builder_kwargs</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
<a id="__codelineno-0-773" name="__codelineno-0-773"></a>        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-774" name="__codelineno-0-774"></a>            <span class="k">return</span> <span class="n">builder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">builder_args</span><span class="p">,</span> <span class="o">**</span><span class="n">builder_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="amltk.pipeline.node.Node.configure" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">configure</span>


<a href="#amltk.pipeline.node.Node.configure" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">configure</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">config</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.types.Config" href="../../types/#amltk.types.Config">Config</a></span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">prefixed_name</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">transform_context</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">params</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing_extensions.Self">Self</span></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Configure this node and anything following it with the given config.</p>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">PARAMETER</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td><code>config</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The configuration to apply</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.types.Config" href="../../types/#amltk.types.Config">Config</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>prefixed_name</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>Whether items in the config are prefixed by the names
of the nodes.
* If <code>None</code>, the default, then <code>prefixed_name</code> will be assumed to
    be <code>True</code> if this node has a next node or if the config has
    keys that begin with this nodes name.
* If <code>True</code>, then the config will be searched for items prefixed
    by the name of the node (and subsequent chained nodes).
* If <code>False</code>, then the config will be searched for items without
    the prefix, i.e. the config keys are exactly those matching
    this nodes search space.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>transform_context</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>Any context to give to <code>config_transform=</code> of individual
nodes.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>params</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The params to match any requests when configuring this node.
These will match against any ParamRequests in the config and will
be used to fill in any missing values.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a>] | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">RETURNS</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td>
              <span class="doc-returns-annotation">
                  <code><span title="typing_extensions.Self">Self</span></code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>The configured node</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>src/amltk/pipeline/node.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-363" name="__codelineno-0-363"></a><span class="k">def</span> <span class="nf">configure</span><span class="p">(</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>    <span class="n">config</span><span class="p">:</span> <span class="n">Config</span><span class="p">,</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>    <span class="n">prefixed_name</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>    <span class="n">transform_context</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>    <span class="n">params</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Configure this node and anything following it with the given config.</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a><span class="sd">        config: The configuration to apply</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a><span class="sd">        prefixed_name: Whether items in the config are prefixed by the names</span>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a><span class="sd">            of the nodes.</span>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a><span class="sd">            * If `None`, the default, then `prefixed_name` will be assumed to</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a><span class="sd">                be `True` if this node has a next node or if the config has</span>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a><span class="sd">                keys that begin with this nodes name.</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a><span class="sd">            * If `True`, then the config will be searched for items prefixed</span>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a><span class="sd">                by the name of the node (and subsequent chained nodes).</span>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a><span class="sd">            * If `False`, then the config will be searched for items without</span>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a><span class="sd">                the prefix, i.e. the config keys are exactly those matching</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a><span class="sd">                this nodes search space.</span>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a><span class="sd">        transform_context: Any context to give to `config_transform=` of individual</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a><span class="sd">            nodes.</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a><span class="sd">        params: The params to match any requests when configuring this node.</span>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a><span class="sd">            These will match against any ParamRequests in the config and will</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a><span class="sd">            be used to fill in any missing values.</span>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a><span class="sd">        The configured node</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a>    <span class="c1"># Get the config for this node</span>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a>    <span class="k">match</span> <span class="n">prefixed_name</span><span class="p">:</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a>        <span class="n">case</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a>            <span class="n">config</span> <span class="o">=</span> <span class="n">mapping_select</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a>        <span class="n">case</span> <span class="kc">False</span><span class="p">:</span>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a>            <span class="k">pass</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a>        <span class="n">case</span> <span class="kc">None</span> <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">k</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">config</span><span class="p">):</span>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a>            <span class="n">config</span> <span class="o">=</span> <span class="n">mapping_select</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a>        <span class="n">case</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>            <span class="k">pass</span>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a>    <span class="n">_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a>    <span class="c1"># Configure all the branches if exists</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>        <span class="n">nodes</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>            <span class="n">node</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>                <span class="n">config</span><span class="p">,</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>                <span class="n">prefixed_name</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>                <span class="n">transform_context</span><span class="o">=</span><span class="n">transform_context</span><span class="p">,</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>                <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>            <span class="p">)</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>            <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>        <span class="p">)</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>        <span class="n">_kwargs</span><span class="p">[</span><span class="s2">&quot;nodes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nodes</span>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>    <span class="n">this_config</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>        <span class="n">hp</span><span class="p">:</span> <span class="n">v</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>        <span class="k">for</span> <span class="n">hp</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">config</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>        <span class="k">if</span> <span class="p">(</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>            <span class="s2">&quot;:&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">hp</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>            <span class="ow">and</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>        <span class="p">)</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>    <span class="p">}</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>        <span class="n">this_config</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="o">**</span><span class="n">this_config</span><span class="p">}</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>    <span class="n">this_config</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_fufill_param_requests</span><span class="p">(</span><span class="n">this_config</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">))</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config_transform</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>        <span class="n">this_config</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_transform</span><span class="p">(</span><span class="n">this_config</span><span class="p">,</span> <span class="n">transform_context</span><span class="p">))</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">this_config</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>        <span class="n">_kwargs</span><span class="p">[</span><span class="s2">&quot;config&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">this_config</span><span class="p">)</span>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mutate</span><span class="p">(</span><span class="o">**</span><span class="n">_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="amltk.pipeline.node.Node.copy" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">copy</span>


<a href="#amltk.pipeline.node.Node.copy" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">copy</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing_extensions.Self">Self</span></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Copy this node, removing all links in the process.</p>

          <details class="quote">
            <summary>Source code in <code>src/amltk/pipeline/node.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-561" name="__codelineno-0-561"></a><span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Copy this node, removing all links in the process.&quot;&quot;&quot;</span>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mutate</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="amltk.pipeline.node.Node.display" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">display</span>


<a href="#amltk.pipeline.node.Node.display" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">display</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">full</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="rich.console.RenderableType">RenderableType</span></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Display this node.</p>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">PARAMETER</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td><code>full</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>Whether to display the full node or just a summary</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>False</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>src/amltk/pipeline/node.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-859">859</a></span>
<span class="normal"><a href="#__codelineno-0-860">860</a></span>
<span class="normal"><a href="#__codelineno-0-861">861</a></span>
<span class="normal"><a href="#__codelineno-0-862">862</a></span>
<span class="normal"><a href="#__codelineno-0-863">863</a></span>
<span class="normal"><a href="#__codelineno-0-864">864</a></span>
<span class="normal"><a href="#__codelineno-0-865">865</a></span>
<span class="normal"><a href="#__codelineno-0-866">866</a></span>
<span class="normal"><a href="#__codelineno-0-867">867</a></span>
<span class="normal"><a href="#__codelineno-0-868">868</a></span>
<span class="normal"><a href="#__codelineno-0-869">869</a></span>
<span class="normal"><a href="#__codelineno-0-870">870</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-859" name="__codelineno-0-859"></a><span class="k">def</span> <span class="nf">display</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">full</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>
<a id="__codelineno-0-860" name="__codelineno-0-860"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Display this node.</span>
<a id="__codelineno-0-861" name="__codelineno-0-861"></a>
<a id="__codelineno-0-862" name="__codelineno-0-862"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-863" name="__codelineno-0-863"></a><span class="sd">        full: Whether to display the full node or just a summary</span>
<a id="__codelineno-0-864" name="__codelineno-0-864"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-865" name="__codelineno-0-865"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">full</span><span class="p">:</span>
<a id="__codelineno-0-866" name="__codelineno-0-866"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__rich__</span><span class="p">()</span>
<a id="__codelineno-0-867" name="__codelineno-0-867"></a>
<a id="__codelineno-0-868" name="__codelineno-0-868"></a>    <span class="kn">from</span> <span class="nn">rich.console</span> <span class="kn">import</span> <span class="n">Group</span> <span class="k">as</span> <span class="n">RichGroup</span>
<a id="__codelineno-0-869" name="__codelineno-0-869"></a>
<a id="__codelineno-0-870" name="__codelineno-0-870"></a>    <span class="k">return</span> <span class="n">RichGroup</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_rich_iter</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="amltk.pipeline.node.Node.factorize" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">factorize</span>


<a href="#amltk.pipeline.node.Node.factorize" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">factorize</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n">min_depth</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">max_depth</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">current_depth</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">factor_by</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a></span><span class="p">[[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n">assign_child</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a></span><span class="p">[[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Iterator" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterator">Iterator</a></span><span class="p">[</span><span class="n"><span title="typing_extensions.Self">Self</span></span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Please see <a class="autorefs autorefs-internal" href="../ops/#amltk.pipeline.ops.factorize"><code>factorize()</code></a>.</p>

          <details class="quote">
            <summary>Source code in <code>src/amltk/pipeline/node.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-776">776</a></span>
<span class="normal"><a href="#__codelineno-0-777">777</a></span>
<span class="normal"><a href="#__codelineno-0-778">778</a></span>
<span class="normal"><a href="#__codelineno-0-779">779</a></span>
<span class="normal"><a href="#__codelineno-0-780">780</a></span>
<span class="normal"><a href="#__codelineno-0-781">781</a></span>
<span class="normal"><a href="#__codelineno-0-782">782</a></span>
<span class="normal"><a href="#__codelineno-0-783">783</a></span>
<span class="normal"><a href="#__codelineno-0-784">784</a></span>
<span class="normal"><a href="#__codelineno-0-785">785</a></span>
<span class="normal"><a href="#__codelineno-0-786">786</a></span>
<span class="normal"><a href="#__codelineno-0-787">787</a></span>
<span class="normal"><a href="#__codelineno-0-788">788</a></span>
<span class="normal"><a href="#__codelineno-0-789">789</a></span>
<span class="normal"><a href="#__codelineno-0-790">790</a></span>
<span class="normal"><a href="#__codelineno-0-791">791</a></span>
<span class="normal"><a href="#__codelineno-0-792">792</a></span>
<span class="normal"><a href="#__codelineno-0-793">793</a></span>
<span class="normal"><a href="#__codelineno-0-794">794</a></span>
<span class="normal"><a href="#__codelineno-0-795">795</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-776" name="__codelineno-0-776"></a><span class="k">def</span> <span class="nf">factorize</span><span class="p">(</span>
<a id="__codelineno-0-777" name="__codelineno-0-777"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-778" name="__codelineno-0-778"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-779" name="__codelineno-0-779"></a>    <span class="n">min_depth</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-0-780" name="__codelineno-0-780"></a>    <span class="n">max_depth</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-781" name="__codelineno-0-781"></a>    <span class="n">current_depth</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-0-782" name="__codelineno-0-782"></a>    <span class="n">factor_by</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Node</span><span class="p">],</span> <span class="nb">bool</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-783" name="__codelineno-0-783"></a>    <span class="n">assign_child</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Node</span><span class="p">,</span> <span class="n">Node</span><span class="p">],</span> <span class="n">Node</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-784" name="__codelineno-0-784"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">Self</span><span class="p">]:</span>
<a id="__codelineno-0-785" name="__codelineno-0-785"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Please see [`factorize()`][amltk.pipeline.ops.factorize].&quot;&quot;&quot;</span>  <span class="c1"># noqa: D402</span>
<a id="__codelineno-0-786" name="__codelineno-0-786"></a>    <span class="kn">from</span> <span class="nn">amltk.pipeline.ops</span> <span class="kn">import</span> <span class="n">factorize</span>
<a id="__codelineno-0-787" name="__codelineno-0-787"></a>
<a id="__codelineno-0-788" name="__codelineno-0-788"></a>    <span class="k">yield from</span> <span class="n">factorize</span><span class="p">(</span>
<a id="__codelineno-0-789" name="__codelineno-0-789"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-790" name="__codelineno-0-790"></a>        <span class="n">min_depth</span><span class="o">=</span><span class="n">min_depth</span><span class="p">,</span>
<a id="__codelineno-0-791" name="__codelineno-0-791"></a>        <span class="n">max_depth</span><span class="o">=</span><span class="n">max_depth</span><span class="p">,</span>
<a id="__codelineno-0-792" name="__codelineno-0-792"></a>        <span class="n">current_depth</span><span class="o">=</span><span class="n">current_depth</span><span class="p">,</span>
<a id="__codelineno-0-793" name="__codelineno-0-793"></a>        <span class="n">factor_by</span><span class="o">=</span><span class="n">factor_by</span><span class="p">,</span>
<a id="__codelineno-0-794" name="__codelineno-0-794"></a>        <span class="n">assign_child</span><span class="o">=</span><span class="n">assign_child</span><span class="p">,</span>
<a id="__codelineno-0-795" name="__codelineno-0-795"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="amltk.pipeline.node.Node.fidelity_space" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">fidelity_space</span>


<a href="#amltk.pipeline.node.Node.fidelity_space" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">fidelity_space</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get the fidelities for this node and any connected nodes.</p>

          <details class="quote">
            <summary>Source code in <code>src/amltk/pipeline/node.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-441" name="__codelineno-0-441"></a><span class="k">def</span> <span class="nf">fidelity_space</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the fidelities for this node and any connected nodes.&quot;&quot;&quot;</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a>    <span class="n">fids</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a>        <span class="n">fids</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">prefix_keys</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">fidelity_space</span><span class="p">(),</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">))</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a>    <span class="k">return</span> <span class="n">fids</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="amltk.pipeline.node.Node.find" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">find</span>


<a href="#amltk.pipeline.node.Node.find" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">find</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">key</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a></span><span class="p">[[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span><span class="p">],</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n">default</span><span class="p">:</span> <span class="n"><span title="amltk.pipeline.node.T">T</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span> <span class="o">|</span> <span class="n"><span title="amltk.pipeline.node.T">T</span></span> <span class="o">|</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Find a node in that's nested deeper from this node.</p>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">PARAMETER</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td><code>key</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The key to search for or a function that returns True if the node
is the desired node</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | <a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a> | <a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a>[[<a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a>], <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>default</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The value to return if the node is not found. Defaults to None</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><span title="amltk.pipeline.node.T">T</span> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">RETURNS</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td>
              <span class="doc-returns-annotation">
                  <code><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a> | <span title="amltk.pipeline.node.T">T</span> | None</code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>The node if found, otherwise the default value. Defaults to None</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>src/amltk/pipeline/node.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-617">617</a></span>
<span class="normal"><a href="#__codelineno-0-618">618</a></span>
<span class="normal"><a href="#__codelineno-0-619">619</a></span>
<span class="normal"><a href="#__codelineno-0-620">620</a></span>
<span class="normal"><a href="#__codelineno-0-621">621</a></span>
<span class="normal"><a href="#__codelineno-0-622">622</a></span>
<span class="normal"><a href="#__codelineno-0-623">623</a></span>
<span class="normal"><a href="#__codelineno-0-624">624</a></span>
<span class="normal"><a href="#__codelineno-0-625">625</a></span>
<span class="normal"><a href="#__codelineno-0-626">626</a></span>
<span class="normal"><a href="#__codelineno-0-627">627</a></span>
<span class="normal"><a href="#__codelineno-0-628">628</a></span>
<span class="normal"><a href="#__codelineno-0-629">629</a></span>
<span class="normal"><a href="#__codelineno-0-630">630</a></span>
<span class="normal"><a href="#__codelineno-0-631">631</a></span>
<span class="normal"><a href="#__codelineno-0-632">632</a></span>
<span class="normal"><a href="#__codelineno-0-633">633</a></span>
<span class="normal"><a href="#__codelineno-0-634">634</a></span>
<span class="normal"><a href="#__codelineno-0-635">635</a></span>
<span class="normal"><a href="#__codelineno-0-636">636</a></span>
<span class="normal"><a href="#__codelineno-0-637">637</a></span>
<span class="normal"><a href="#__codelineno-0-638">638</a></span>
<span class="normal"><a href="#__codelineno-0-639">639</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-617" name="__codelineno-0-617"></a><span class="k">def</span> <span class="nf">find</span><span class="p">(</span>
<a id="__codelineno-0-618" name="__codelineno-0-618"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-619" name="__codelineno-0-619"></a>    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Node</span> <span class="o">|</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Node</span><span class="p">],</span> <span class="nb">bool</span><span class="p">],</span>
<a id="__codelineno-0-620" name="__codelineno-0-620"></a>    <span class="n">default</span><span class="p">:</span> <span class="n">T</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-621" name="__codelineno-0-621"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Node</span> <span class="o">|</span> <span class="n">T</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-622" name="__codelineno-0-622"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Find a node in that&#39;s nested deeper from this node.</span>
<a id="__codelineno-0-623" name="__codelineno-0-623"></a>
<a id="__codelineno-0-624" name="__codelineno-0-624"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-625" name="__codelineno-0-625"></a><span class="sd">        key: The key to search for or a function that returns True if the node</span>
<a id="__codelineno-0-626" name="__codelineno-0-626"></a><span class="sd">            is the desired node</span>
<a id="__codelineno-0-627" name="__codelineno-0-627"></a><span class="sd">        default: The value to return if the node is not found. Defaults to None</span>
<a id="__codelineno-0-628" name="__codelineno-0-628"></a>
<a id="__codelineno-0-629" name="__codelineno-0-629"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-630" name="__codelineno-0-630"></a><span class="sd">        The node if found, otherwise the default value. Defaults to None</span>
<a id="__codelineno-0-631" name="__codelineno-0-631"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-632" name="__codelineno-0-632"></a>    <span class="n">itr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter</span><span class="p">()</span>
<a id="__codelineno-0-633" name="__codelineno-0-633"></a>    <span class="k">match</span> <span class="n">key</span><span class="p">:</span>
<a id="__codelineno-0-634" name="__codelineno-0-634"></a>        <span class="k">case</span> <span class="n">Node</span><span class="p">():</span>
<a id="__codelineno-0-635" name="__codelineno-0-635"></a>            <span class="k">return</span> <span class="n">first_true</span><span class="p">(</span><span class="n">itr</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">node</span><span class="p">:</span> <span class="n">node</span> <span class="o">==</span> <span class="n">key</span><span class="p">)</span>
<a id="__codelineno-0-636" name="__codelineno-0-636"></a>        <span class="k">case</span> <span class="nb">str</span><span class="p">():</span>
<a id="__codelineno-0-637" name="__codelineno-0-637"></a>            <span class="k">return</span> <span class="n">first_true</span><span class="p">(</span><span class="n">itr</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">node</span><span class="p">:</span> <span class="n">node</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">key</span><span class="p">)</span>
<a id="__codelineno-0-638" name="__codelineno-0-638"></a>        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-639" name="__codelineno-0-639"></a>            <span class="k">return</span> <span class="n">first_true</span><span class="p">(</span><span class="n">itr</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="amltk.pipeline.node.Node.iter" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">iter</span>


<a href="#amltk.pipeline.node.Node.iter" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nb">iter</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="nf">skip_unchosen</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Iterator" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterator">Iterator</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Recursively iterate through the nodes starting from this node.</p>
<p>This method traverses the nodes in a depth-first manner, including
the current node and its children nodes.</p>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">PARAMETER</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td><code>skip_unchosen</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>Flag to skip unchosen nodes in Choice nodes.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>False</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">YIELDS</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td>
              <span class="doc-yields-annotation">
                  <code><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></code>
              </span>
          </td>
          <td class="doc-yields-details">
            <div class="doc-md-description">
              <p>Iterator[Node]: Nodes connected to this node.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>src/amltk/pipeline/node.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-486" name="__codelineno-0-486"></a><span class="k">def</span> <span class="nf">iter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">skip_unchosen</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">Node</span><span class="p">]:</span>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Recursively iterate through the nodes starting from this node.</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a><span class="sd">    This method traverses the nodes in a depth-first manner, including</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a><span class="sd">    the current node and its children nodes.</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a><span class="sd">        skip_unchosen (bool): Flag to skip unchosen nodes in Choice nodes.</span>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a><span class="sd">    Yields:</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a><span class="sd">        Iterator[Node]: Nodes connected to this node.</span>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-498" name="__codelineno-0-498"></a>    <span class="c1"># Import Choice node to avoid circular imports</span>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a>    <span class="kn">from</span> <span class="nn">amltk.pipeline.components</span> <span class="kn">import</span> <span class="n">Choice</span>
<a id="__codelineno-0-500" name="__codelineno-0-500"></a>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>    <span class="c1"># Yield the current node</span>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>    <span class="k">yield</span> <span class="bp">self</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a>    <span class="c1"># Iterate through the child nodes</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>        <span class="k">if</span> <span class="n">skip_unchosen</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">Choice</span><span class="p">):</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>            <span class="c1"># If the node is a Choice and skipping unchosen nodes is enabled</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a>            <span class="n">chosen_node</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">chosen</span><span class="p">()</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>            <span class="k">if</span> <span class="n">chosen_node</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a>                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>                    <span class="sa">f</span><span class="s2">&quot;No Node chosen in Choice node </span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">. &quot;</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a>                    <span class="sa">f</span><span class="s2">&quot;Did you call configure?&quot;</span><span class="p">,</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a>                <span class="p">)</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a>            <span class="k">yield from</span> <span class="n">chosen_node</span><span class="o">.</span><span class="n">iter</span><span class="p">(</span><span class="n">skip_unchosen</span><span class="o">=</span><span class="n">skip_unchosen</span><span class="p">)</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a>            <span class="c1"># Recursively iterate through the child nodes</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a>            <span class="k">yield from</span> <span class="n">node</span><span class="o">.</span><span class="n">iter</span><span class="p">(</span><span class="n">skip_unchosen</span><span class="o">=</span><span class="n">skip_unchosen</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="amltk.pipeline.node.Node.linearized_fidelity" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">linearized_fidelity</span>


<a href="#amltk.pipeline.node.Node.linearized_fidelity" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">linearized_fidelity</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">value</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get the liniearized fidelities for this node and any connected nodes.</p>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">PARAMETER</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td><code>value</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The value to linearize. Must be between [0, 1]</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

<details class="return" open>
  <summary>Return</summary>
  <p>dictionary from key to it's linearized fidelity.</p>
</details>
          <details class="quote">
            <summary>Source code in <code>src/amltk/pipeline/node.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-449" name="__codelineno-0-449"></a><span class="k">def</span> <span class="nf">linearized_fidelity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span> <span class="o">|</span> <span class="n">Any</span><span class="p">]:</span>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the liniearized fidelities for this node and any connected nodes.</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a><span class="sd">        value: The value to linearize. Must be between [0, 1]</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a><span class="sd">    Return:</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a><span class="sd">        dictionary from key to it&#39;s linearized fidelity.</span>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>    <span class="k">assert</span> <span class="mf">1.0</span> <span class="o">&lt;=</span> <span class="n">value</span> <span class="o">&lt;=</span> <span class="mf">100.0</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">value</span><span class="si">=}</span><span class="s2"> not in [1.0, 100.0]&quot;</span>  <span class="c1"># noqa: PLR2004</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>    <span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>        <span class="n">node_fids</span> <span class="o">=</span> <span class="n">prefix_keys</span><span class="p">(</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>            <span class="n">node</span><span class="o">.</span><span class="n">linearized_fidelity</span><span class="p">(</span><span class="n">value</span><span class="p">),</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">,</span>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a>        <span class="p">)</span>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>        <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">node_fids</span><span class="p">)</span>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fidelities</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a>        <span class="k">return</span> <span class="n">d</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a>    <span class="k">for</span> <span class="n">f_name</span><span class="p">,</span> <span class="n">f_range</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fidelities</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a>        <span class="k">match</span> <span class="n">f_range</span><span class="p">:</span>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a>            <span class="k">case</span> <span class="p">(</span><span class="nb">int</span><span class="p">()</span> <span class="o">|</span> <span class="nb">float</span><span class="p">(),</span> <span class="nb">int</span><span class="p">()</span> <span class="o">|</span> <span class="nb">float</span><span class="p">()):</span>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a>                <span class="n">low</span><span class="p">,</span> <span class="n">high</span> <span class="o">=</span> <span class="n">f_range</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a>                <span class="n">fid</span> <span class="o">=</span> <span class="n">low</span> <span class="o">+</span> <span class="p">(</span><span class="n">high</span> <span class="o">-</span> <span class="n">low</span><span class="p">)</span> <span class="o">*</span> <span class="n">value</span>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a>                <span class="n">fid</span> <span class="o">=</span> <span class="n">low</span> <span class="o">+</span> <span class="p">(</span><span class="n">high</span> <span class="o">-</span> <span class="n">low</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">value</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a>                <span class="n">fid</span> <span class="o">=</span> <span class="n">fid</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span> <span class="k">else</span> <span class="nb">round</span><span class="p">(</span><span class="n">fid</span><span class="p">)</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a>                <span class="n">d</span><span class="p">[</span><span class="n">f_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">fid</span>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a>            <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a>                    <span class="sa">f</span><span class="s2">&quot;Invalid fidelities to linearize </span><span class="si">{</span><span class="n">f_range</span><span class="si">}</span><span class="s2"> for </span><span class="si">{</span><span class="n">f_name</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a>                    <span class="sa">f</span><span class="s2">&quot; in </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">. Only supports ranges of the form (low, high)&quot;</span><span class="p">,</span>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a>                <span class="p">)</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a>    <span class="k">return</span> <span class="n">prefix_keys</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="amltk.pipeline.node.Node.mutate" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">mutate</span>


<a href="#amltk.pipeline.node.Node.mutate" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">mutate</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing_extensions.Self">Self</span></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Mutate the node with the given keyword arguments.</p>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">PARAMETER</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td><code>**kwargs</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The keyword arguments to mutate</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>{}</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">RETURNS</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td>
              <span class="doc-returns-annotation">
                  <code><span title="typing_extensions.Self">Self</span></code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>Self
    The mutated node</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>src/amltk/pipeline/node.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span>
<span class="normal"><a href="#__codelineno-0-555">555</a></span>
<span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-519" name="__codelineno-0-519"></a><span class="k">def</span> <span class="nf">mutate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Mutate the node with the given keyword arguments.</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a><span class="sd">        **kwargs: The keyword arguments to mutate</span>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a><span class="sd">        Self</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a><span class="sd">            The mutated node</span>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a>    <span class="n">_args</span> <span class="o">=</span> <span class="p">()</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a>    <span class="n">_kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">}</span>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a>    <span class="c1"># If there&#39;s nodes in kwargs, we have to check if it&#39;s</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a>    <span class="c1"># a positional or keyword argument and handle accordingly.</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a>    <span class="k">if</span> <span class="p">(</span><span class="n">nodes</span> <span class="o">:=</span> <span class="n">_kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;nodes&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a>        <span class="k">match</span> <span class="bp">self</span><span class="o">.</span><span class="n">_NODES_INIT</span><span class="p">:</span>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a>            <span class="k">case</span> <span class="s2">&quot;args&quot;</span><span class="p">:</span>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a>                <span class="n">_args</span> <span class="o">=</span> <span class="n">nodes</span>
<a id="__codelineno-0-538" name="__codelineno-0-538"></a>            <span class="k">case</span> <span class="s2">&quot;kwargs&quot;</span><span class="p">:</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a>                <span class="n">_kwargs</span><span class="p">[</span><span class="s2">&quot;nodes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nodes</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a>            <span class="n">case</span> <span class="kc">None</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">nodes</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>                <span class="k">pass</span>  <span class="c1"># Just ignore it, it&#39;s popped out</span>
<a id="__codelineno-0-542" name="__codelineno-0-542"></a>            <span class="n">case</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a>                    <span class="s2">&quot;Cannot mutate nodes when __init__ does not accept nodes&quot;</span><span class="p">,</span>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a>                <span class="p">)</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a>    <span class="c1"># If there&#39;s a config in kwargs, we have to check if it&#39;s actually got values</span>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a>    <span class="n">config</span> <span class="o">=</span> <span class="n">_kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;config&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a>    <span class="k">if</span> <span class="n">config</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">config</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a>        <span class="n">_kwargs</span><span class="p">[</span><span class="s2">&quot;config&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">config</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a>
<a id="__codelineno-0-552" name="__codelineno-0-552"></a>    <span class="c1"># Lastly, we remove anything that can&#39;t be passed to kwargs of the</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a>    <span class="c1"># subclasses __init__</span>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a>    <span class="n">_available_kwargs</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="fm">__init__</span><span class="p">)</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
<a id="__codelineno-0-555" name="__codelineno-0-555"></a>    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">_kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
<a id="__codelineno-0-556" name="__codelineno-0-556"></a>        <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_available_kwargs</span><span class="p">:</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a>            <span class="n">_kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span><span class="o">*</span><span class="n">_args</span><span class="p">,</span> <span class="o">**</span><span class="n">_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="amltk.pipeline.node.Node.optimize" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">optimize</span>


<a href="#amltk.pipeline.node.Node.optimize" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">optimize</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">target</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>        <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a></span><span class="p">[[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial">Trial</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a></span><span class="p">]</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>        <span class="o">|</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.scheduling.Task" href="../../scheduling/task/#amltk.scheduling.task.Task">Task</a></span><span class="p">[[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial">Trial</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a></span><span class="p">]</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="p">),</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">metric</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.metric.Metric" href="../../../../reference/optimization/trials/#amltk.optimization.metric.Metric">Metric</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence">Sequence</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.metric.Metric" href="../../../../reference/optimization/trials/#amltk.optimization.metric.Metric">Metric</a></span><span class="p">],</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="n">optimizer</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>        <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#type">type</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.optimizer.Optimizer" href="../../optimization/optimizer/#amltk.optimization.optimizer.Optimizer">Optimizer</a></span><span class="p">]</span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.optimizer.Optimizer.CreateSignature" href="../../optimization/optimizer/#amltk.optimization.optimizer.Optimizer.CreateSignature">CreateSignature</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.optimizer.Optimizer" href="../../optimization/optimizer/#amltk.optimization.optimizer.Optimizer">Optimizer</a></span> <span class="o">|</span> <span class="kc">None</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    <span class="n">seed</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.types.Seed" href="../../types/#amltk.types.Seed">Seed</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    <span class="n">max_trials</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    <span class="n">n_workers</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="n">timeout</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    <span class="n">working_dir</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.store.PathBucket" href="../../store/paths/path_bucket/#amltk.store.paths.path_bucket.PathBucket">PathBucket</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>    <span class="n">scheduler</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.scheduling.Scheduler" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler">Scheduler</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>    <span class="n">history</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.history.History" href="../../optimization/history/#amltk.optimization.history.History">History</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>    <span class="n">on_begin</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.OnBeginCallbackSignature" href="#amltk.pipeline.node.OnBeginCallbackSignature">OnBeginCallbackSignature</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>    <span class="n">on_trial_exception</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>        <span class="s2">&quot;raise&quot;</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">,</span> <span class="s2">&quot;continue&quot;</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;raise&quot;</span><span class="p">,</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>    <span class="n">plugins</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.scheduling.plugins.Plugin" href="../../scheduling/plugins/plugin/#amltk.scheduling.plugins.plugin.Plugin">Plugin</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Iterable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable">Iterable</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.scheduling.plugins.Plugin" href="../../scheduling/plugins/plugin/#amltk.scheduling.plugins.plugin.Plugin">Plugin</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>    <span class="n">process_memory_limit</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>        <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>    <span class="n">process_walltime_limit</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>        <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>    <span class="n">process_cputime_limit</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>        <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>    <span class="n">threadpool_limit_ctl</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>    <span class="n">display</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span><span class="s2">&quot;auto&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;auto&quot;</span><span class="p">,</span>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a>    <span class="n">wait</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>    <span class="n">on_scheduler_exception</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span>
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>        <span class="s2">&quot;raise&quot;</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">,</span> <span class="s2">&quot;continue&quot;</span>
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a>    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;raise&quot;</span>
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.history.History" href="../../optimization/history/#amltk.optimization.history.History">History</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Optimize a pipeline on a given target function or evaluation protocol.</p>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">PARAMETER</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td><code>target</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The function against which to optimize.</p>
<ul>
<li>
<p>If <code>target</code> is a function, then it must take in a
<a class="autorefs autorefs-internal" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial"><code>Trial</code></a> as the first argument
and a <a class="autorefs autorefs-internal" href="#amltk.pipeline.node.Node"><code>Node</code></a> second argument, returning a
<a class="autorefs autorefs-internal" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report"><code>Trial.Report</code></a>. Please refer to
the <a href="../../../../guides/optimization/">optimization guide</a> for more.</p>
</li>
<li>
<p>If <code>target</code> is a <a class="autorefs autorefs-internal" href="../../scheduling/task/#amltk.scheduling.task.Task"><code>Task</code></a>, then
this will be used instead, updating the plugins with any additional
plugins specified.</p>
</li>
</ul>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a>[[<a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial">Trial</a>, <a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a>], <a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a>] | <a class="autorefs autorefs-internal" title="amltk.scheduling.Task" href="../../scheduling/task/#amltk.scheduling.task.Task">Task</a>[[<a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial">Trial</a>, <a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a>], <a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>metric</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The metric(s) that will be passed to <code>optimizer=</code>. These metrics
should align with what is being computed in <code>target=</code>.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.optimization.metric.Metric" href="../../../../reference/optimization/trials/#amltk.optimization.metric.Metric">Metric</a> | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-internal" title="amltk.optimization.metric.Metric" href="../../../../reference/optimization/trials/#amltk.optimization.metric.Metric">Metric</a>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>optimizer</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The optimizer to use. If <code>None</code>, then AMLTK will go through a list
of known optimizers and use the first one it can find which was installed.</p>
<p>Alternatively, this can be a class inheriting from
<a class="autorefs autorefs-internal" href="../../optimization/optimizer/#amltk.optimization.optimizer.Optimizer"><code>Optimizer</code></a> or else
a signature match <a class="autorefs autorefs-internal" href="#amltk.optimization.Optimizer.CreateSignature"><code>Optimizer.CreateSignature</code></a></p>
<details class="tip">
<summary><code>Optimizer.CreateSignature</code></summary>


<div class="doc doc-object doc-class">



<h2 id="amltk.optimization.Optimizer.CreateSignature" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>          <span class="doc doc-object-name doc-class-name">amltk.optimization.Optimizer.CreateSignature</span>


<a href="#amltk.optimization.Optimizer.CreateSignature" class="headerlink" title="Permanent link">#</a></h2>


  <div class="doc doc-contents first">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-external" title="typing.Protocol" href="https://docs.python.org/3/library/typing.html#typing.Protocol">Protocol</a></code></p>

  
      <p>A Protocol which defines the keywords required to create an
optimizer with deterministic behavior at a desired location.</p>
<p>This protocol matches the <code>Optimizer.create</code> classmethod, however we also
allow any function which accepts the keyword arguments to create an
Optimizer.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h3 id="amltk.optimization.Optimizer.CreateSignature.__call__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">__call__</span>


<a href="#amltk.optimization.Optimizer.CreateSignature.__call__" class="headerlink" title="Permanent link">#</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="fm">__call__</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="nf">space</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">metrics</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.metric.Metric" href="../../../../reference/optimization/trials/#amltk.optimization.metric.Metric">Metric</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence">Sequence</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.metric.Metric" href="../../../../reference/optimization/trials/#amltk.optimization.metric.Metric">Metric</a></span><span class="p">],</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">bucket</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.store.paths.path_bucket.PathBucket" href="../../store/paths/path_bucket/#amltk.store.paths.path_bucket.PathBucket">PathBucket</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">seed</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.types.Seed" href="../../types/#amltk.types.Seed">Seed</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.optimizer.Optimizer" href="../../optimization/optimizer/#amltk.optimization.optimizer.Optimizer">Optimizer</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>A function which creates an optimizer for node.optimize should
accept the following keyword arguments.</p>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">PARAMETER</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td><code>space</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The node to optimize</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.pipeline.Node" href="#amltk.pipeline.node.Node">Node</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>metrics</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The metrics to optimize</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.optimization.metric.Metric" href="../../../../reference/optimization/trials/#amltk.optimization.metric.Metric">Metric</a> | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-internal" title="amltk.optimization.metric.Metric" href="../../../../reference/optimization/trials/#amltk.optimization.metric.Metric">Metric</a>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>bucket</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The bucket to store the results in</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.store.paths.path_bucket.PathBucket" href="../../store/paths/path_bucket/#amltk.store.paths.path_bucket.PathBucket">PathBucket</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>seed</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The seed to use for the optimization</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.types.Seed" href="../../types/#amltk.types.Seed">Seed</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>src/amltk/optimization/optimizer.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-171" name="__codelineno-0-171"></a><span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>    <span class="n">space</span><span class="p">:</span> <span class="n">Node</span><span class="p">,</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>    <span class="n">metrics</span><span class="p">:</span> <span class="n">Metric</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Metric</span><span class="p">],</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>    <span class="n">bucket</span><span class="p">:</span> <span class="n">PathBucket</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>    <span class="n">seed</span><span class="p">:</span> <span class="n">Seed</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optimizer</span><span class="p">:</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A function which creates an optimizer for node.optimize should</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a><span class="sd">    accept the following keyword arguments.</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a><span class="sd">        space: The node to optimize</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a><span class="sd">        metrics: The metrics to optimize</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a><span class="sd">        bucket: The bucket to store the results in</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a><span class="sd">        seed: The seed to use for the optimization</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div></details>
<p>Lastly, you can also pass in your own already instantiated optimizer if you prefer, however
you should make sure to set it up correctly with the given metrics and search space.
It is recommened to just pass in the class if you are unsure how to do this properly.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#type">type</a>[<a class="autorefs autorefs-internal" title="amltk.optimization.optimizer.Optimizer" href="../../optimization/optimizer/#amltk.optimization.optimizer.Optimizer">Optimizer</a>] | <a class="autorefs autorefs-internal" title="amltk.optimization.optimizer.Optimizer.CreateSignature" href="../../optimization/optimizer/#amltk.optimization.optimizer.Optimizer.CreateSignature">CreateSignature</a> | <a class="autorefs autorefs-internal" title="amltk.optimization.optimizer.Optimizer" href="../../optimization/optimizer/#amltk.optimization.optimizer.Optimizer">Optimizer</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>seed</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>A <a class="autorefs autorefs-internal" href="../../types/#amltk.types.Seed"><code>seed</code></a> for the optimizer to use.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.types.Seed" href="../../types/#amltk.types.Seed">Seed</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>n_workers</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The numer of workers to use to evaluate this pipeline.
If no <code>scheduler=</code> is provided, then one will be created for
you as <a class="autorefs autorefs-internal" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler.with_processes"><code>Scheduler.with_processes(n_workers)</code></a>.
If you provide your own <code>scheduler=</code> then this will limit the maximum
amount of concurrent trials for this pipeline that will be evaluating
at once.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>1</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>timeout</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>How long to run the scheduler for. This parameter only takes
effect if <code>setup_only=False</code> which is the default. Otherwise,
it will be ignored.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>display</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>Whether to display the scheduler during running. By default
it is <code>"auto"</code> which means to enable the display if running
in a juptyer notebook or colab. Otherwise, it will be
<code>False</code>.</p>
<p>This may work poorly if including print statements or logging.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a> | <a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;auto&#39;]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>&#39;auto&#39;</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>wait</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>Whether to wait for the scheduler to finish all pending jobs
if was stopped for any reason, e.g. a <code>timeout=</code> or
<a class="autorefs autorefs-internal" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler.stop"><code>scheduler.stop()</code></a> was called.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>True</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>on_scheduler_exception</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>What to do if an exception occured, either in the submitted task,
the callback, or any other unknown source during the loop.</p>
<ul>
<li>If <code class="highlight"><span class="s2">&quot;raise&quot;</span></code>, then the exception will be raised
immediatly and the optimization process will halt. The default
behavior and good for initial development.</li>
<li>If <code class="highlight"><span class="s2">&quot;end&quot;</span></code>, then the exception will be caught and
the optimization process will end gracefully.</li>
<li>If <code class="highlight"><span class="s2">&quot;continue&quot;</span></code>, the exception will be ignored and
the optimization procedure will continue.</li>
</ul>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;raise&#39;, &#39;end&#39;, &#39;continue&#39;]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>&#39;raise&#39;</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>working_dir</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>A working directory to use for the optimizer and the trials.
Any items you store in trials will be located in this directory,
where the <a class="autorefs autorefs-internal" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.name"><code>trial.name</code></a> will be
used as a subfolder where any contents stored with
<a class="autorefs autorefs-internal" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.store"><code>trial.store()</code></a> will be put there.
Please see the <a href="../../../../guides/optimization/">optimization guide</a>
for more on trial storage.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a> | <a class="autorefs autorefs-internal" title="amltk.store.PathBucket" href="../../store/paths/path_bucket/#amltk.store.paths.path_bucket.PathBucket">PathBucket</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>scheduler</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The specific <a class="autorefs autorefs-internal" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler"><code>Scheduler</code></a> to use.
If <code>None</code>, then one will be created for you with
<a class="autorefs autorefs-internal" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler.with_processes"><code>Scheduler.with_processes(n_workers)</code></a></p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.scheduling.Scheduler" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler">Scheduler</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>history</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>A <a class="autorefs autorefs-internal" href="../../optimization/history/#amltk.optimization.history.History"><code>History</code></a> to store the
<a class="autorefs autorefs-internal" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report"><code>Trial.Report</code></a>s in. You
may pass in your own if you wish for this method to store
it there instead of creating its own.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.optimization.history.History" href="../../optimization/history/#amltk.optimization.history.History">History</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>on_begin</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>A callback that will be called before the scheduler is run. This
can be used to hook into the life-cycle of the optimization and
perform custom routines. Please see the
<a href="../../../../guides/scheduling/">scheduling guide</a> for more.</p>
<details class="tip">
<summary>on_begin signature</summary>


<div class="doc doc-object doc-class">



<h2 id="amltk.pipeline.node.OnBeginCallbackSignature" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>          <span class="doc doc-object-name doc-class-name">amltk.pipeline.node.OnBeginCallbackSignature</span>


<a href="#amltk.pipeline.node.OnBeginCallbackSignature" class="headerlink" title="Permanent link">#</a></h2>


  <div class="doc doc-contents first">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-external" title="typing.Protocol" href="https://docs.python.org/3/library/typing.html#typing.Protocol">Protocol</a></code></p>

  
      <p>A  calllback to further define control flow from
<a class="autorefs autorefs-internal" href="#amltk.pipeline.node.Node.optimize"><code>pipeline.optimize()</code></a>.</p>
<p>In one of these callbacks, you can register to specific <code>@events</code> of the
<a class="autorefs autorefs-internal" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler"><code>Scheduler</code></a> or <a class="autorefs autorefs-internal" href="../../scheduling/task/#amltk.scheduling.task.Task"><code>Task</code></a>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">pipeline</span> <span class="o">=</span> <span class="o">...</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1"># The callback will get the task, scheduler and the history in which results</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># will be stored</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="k">def</span> <span class="nf">my_callback</span><span class="p">(</span><span class="n">task</span><span class="p">:</span> <span class="n">Task</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">],</span> <span class="n">scheduler</span><span class="p">:</span> <span class="n">Scheduler</span><span class="p">,</span> <span class="n">history</span><span class="p">:</span> <span class="n">History</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="c1"># You can do early stopping based on a target metric</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="nd">@task</span><span class="o">.</span><span class="n">on_result</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="k">def</span> <span class="nf">stop_if_target_reached</span><span class="p">(</span><span class="n">_</span><span class="p">:</span> <span class="n">Future</span><span class="p">,</span> <span class="n">report</span><span class="p">:</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>        <span class="n">score</span> <span class="o">=</span> <span class="n">report</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="s2">&quot;accuracy&quot;</span><span class="p">]</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>        <span class="k">if</span> <span class="n">score</span> <span class="o">&gt;=</span> <span class="mf">0.95</span><span class="p">:</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>            <span class="n">scheduler</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">stop_msg</span><span class="o">=</span><span class="s2">&quot;Target reached!&quot;</span><span class="p">))</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="c1"># You could also perform early stopping based on iterations</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>    <span class="n">last_score</span> <span class="o">=</span> <span class="mf">0.0</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>    <span class="nd">@task</span><span class="o">.</span><span class="n">on_result</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>    <span class="k">def</span> <span class="nf">stop_if_no_improvement_for_n_runs</span><span class="p">(</span><span class="n">_</span><span class="p">:</span> <span class="n">Future</span><span class="p">,</span> <span class="n">report</span><span class="p">:</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>        <span class="n">score</span> <span class="o">=</span> <span class="n">report</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="s2">&quot;accuracy&quot;</span><span class="p">]</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>        <span class="k">if</span> <span class="n">score</span> <span class="o">&gt;</span> <span class="n">last_score</span><span class="p">:</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>            <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>            <span class="n">last_score</span> <span class="o">=</span> <span class="n">score</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>        <span class="k">elif</span> <span class="n">n</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">:</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>            <span class="n">scheduler</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>            <span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>    <span class="c1"># Really whatever you&#39;d like</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>    <span class="nd">@task</span><span class="o">.</span><span class="n">on_result</span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>    <span class="k">def</span> <span class="nf">print_if_choice_made</span><span class="p">(</span><span class="n">_</span><span class="p">:</span> <span class="n">Future</span><span class="p">,</span> <span class="n">report</span><span class="p">:</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>        <span class="k">if</span> <span class="n">report</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;estimator:__choice__&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;random_forest&quot;</span><span class="p">:</span>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;yay&quot;</span><span class="p">)</span>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>    <span class="c1"># Every callback will be called here in the main process so it&#39;s</span>
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>    <span class="c1"># best not to do anything too heavy here.</span>
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a>    <span class="c1"># However you can also submit new tasks or jobs to the scheduler too</span>
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a>    <span class="nd">@task</span><span class="o">.</span><span class="n">on_result</span><span class="p">(</span><span class="n">every</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>  <span class="c1"># Do a cleanup sweep every 30 trials</span>
<a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a>    <span class="k">def</span> <span class="nf">keep_on_ten_best_models_on_disk</span><span class="p">(</span><span class="n">_</span><span class="p">:</span> <span class="n">Future</span><span class="p">,</span> <span class="n">report</span><span class="p">:</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a>        <span class="n">sorted_reports</span> <span class="o">=</span> <span class="n">history</span><span class="o">.</span><span class="n">sortby</span><span class="p">(</span><span class="s2">&quot;accuracy&quot;</span><span class="p">)</span>
<a id="__codelineno-0-41" name="__codelineno-0-41" href="#__codelineno-0-41"></a>        <span class="n">reports_to_cleanup</span> <span class="o">=</span> <span class="n">sorted_reports</span><span class="p">[</span><span class="mi">10</span><span class="p">:]</span>
<a id="__codelineno-0-42" name="__codelineno-0-42" href="#__codelineno-0-42"></a>        <span class="n">scheduler</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">some_cleanup_function</span><span class="p">,</span> <span class="n">reporteds_to_cleanup</span><span class="p">)</span>
<a id="__codelineno-0-43" name="__codelineno-0-43" href="#__codelineno-0-43"></a>
<a id="__codelineno-0-44" name="__codelineno-0-44" href="#__codelineno-0-44"></a><span class="n">history</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">optimize</span><span class="p">(</span>
<a id="__codelineno-0-45" name="__codelineno-0-45" href="#__codelineno-0-45"></a>    <span class="o">...</span><span class="p">,</span>
<a id="__codelineno-0-46" name="__codelineno-0-46" href="#__codelineno-0-46"></a>    <span class="n">on_begin</span><span class="o">=</span><span class="n">my_callback</span><span class="p">,</span>
<a id="__codelineno-0-47" name="__codelineno-0-47" href="#__codelineno-0-47"></a><span class="p">)</span>
</code></pre></div>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h3 id="amltk.pipeline.node.OnBeginCallbackSignature.__call__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">__call__</span>


<a href="#amltk.pipeline.node.OnBeginCallbackSignature.__call__" class="headerlink" title="Permanent link">#</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="fm">__call__</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="nf">task</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.scheduling.Task" href="../../scheduling/task/#amltk.scheduling.task.Task">Task</a></span><span class="p">[[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial">Trial</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a></span><span class="p">],</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n">scheduler</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.scheduling.Scheduler" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler">Scheduler</a></span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">history</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.history.History" href="../../optimization/history/#amltk.optimization.history.History">History</a></span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Signature for the callback.</p>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">PARAMETER</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td><code>task</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The task that will be run</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.scheduling.Task" href="../../scheduling/task/#amltk.scheduling.task.Task">Task</a>[[<a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial">Trial</a>, <a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a>], <a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>scheduler</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The scheduler that will be running the optimization</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.scheduling.Scheduler" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler">Scheduler</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>history</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The history that will be used to collect the results</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.optimization.history.History" href="../../optimization/history/#amltk.optimization.history.History">History</a></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>src/amltk/pipeline/node.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-164" name="__codelineno-0-164"></a><span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>    <span class="n">task</span><span class="p">:</span> <span class="n">Task</span><span class="p">[[</span><span class="n">Trial</span><span class="p">,</span> <span class="n">Node</span><span class="p">],</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">],</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>    <span class="n">scheduler</span><span class="p">:</span> <span class="n">Scheduler</span><span class="p">,</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>    <span class="n">history</span><span class="p">:</span> <span class="n">History</span><span class="p">,</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Signature for the callback.</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a><span class="sd">        task: The task that will be run</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a><span class="sd">        scheduler: The scheduler that will be running the optimization</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a><span class="sd">        history: The history that will be used to collect the results</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div></details>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.pipeline.node.OnBeginCallbackSignature" href="#amltk.pipeline.node.OnBeginCallbackSignature">OnBeginCallbackSignature</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>on_trial_exception</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>What to do when a trial returns a fail report from
<a class="autorefs autorefs-internal" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.fail"><code>trial.fail()</code></a> or
<a class="autorefs autorefs-internal" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.crashed"><code>trial.crashed()</code></a>
that contains an exception.</p>
<p>Please see the <a href="../../../../guides/optimization/">optimization guide</a>
for more. In all cases, the exception will be attached to the
<a class="autorefs autorefs-internal" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report"><code>Trial.Report</code></a> object under
<a class="autorefs autorefs-internal" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report.exception"><code>report.exception</code></a>.</p>
<ul>
<li>If <code class="highlight"><span class="s2">&quot;raise&quot;</span></code>, then the exception will be raised
immediatly and the optimization process will halt. The default
and good for initial development.</li>
<li>If <code class="highlight"><span class="s2">&quot;end&quot;</span></code>, then the exception will be caught and
the optimization process will end gracefully.</li>
<li>If <code class="highlight"><span class="s2">&quot;continue&quot;</span></code>, the exception will be ignored and
the optimization procedure will continue.</li>
</ul>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;raise&#39;, &#39;end&#39;, &#39;continue&#39;]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>&#39;raise&#39;</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>max_trials</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The maximum number of trials to run. If <code>None</code>, then the
optimization will continue for as long as the scheduler is
running. You'll likely want to configure this.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>process_memory_limit</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>If specified, the <a class="autorefs autorefs-internal" href="../../scheduling/task/#amltk.scheduling.task.Task"><code>Task</code></a> will
use the
<a class="autorefs autorefs-internal" href="../../scheduling/plugins/pynisher/#amltk.scheduling.plugins.pynisher.PynisherPlugin"><code>PynisherPlugin</code></a>
to limit the memory the process can use. Please
refer to the
<a href="../../../../reference/scheduling/plugins/#pynisher">plugins <code>pynisher</code> reference</a>
for more as there are platform limitations and additional
dependancies required.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>] | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>process_walltime_limit</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>If specified, the <a class="autorefs autorefs-internal" href="../../scheduling/task/#amltk.scheduling.task.Task"><code>Task</code></a> will
use the
<a class="autorefs autorefs-internal" href="../../scheduling/plugins/pynisher/#amltk.scheduling.plugins.pynisher.PynisherPlugin"><code>PynisherPlugin</code></a>
to limit the wall time the process can use. Please
refer to the
<a href="../../../../reference/scheduling/plugins/#pynisher">plugins <code>pynisher</code> reference</a>
for more as there are platform limitations and additional
dependancies required.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>] | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>process_cputime_limit</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>If specified, the <a class="autorefs autorefs-internal" href="../../scheduling/task/#amltk.scheduling.task.Task"><code>Task</code></a> will
use the
<a class="autorefs autorefs-internal" href="../../scheduling/plugins/pynisher/#amltk.scheduling.plugins.pynisher.PynisherPlugin"><code>PynisherPlugin</code></a>
to limit the cputime the process can use. Please
refer to the
<a href="../../../../reference/scheduling/plugins/#pynisher">plugins <code>pynisher</code> reference</a>
for more as there are platform limitations and additional
dependancies required.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>] | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>threadpool_limit_ctl</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>If specified, the <a class="autorefs autorefs-internal" href="../../scheduling/task/#amltk.scheduling.task.Task"><code>Task</code></a> will
use the
<a class="autorefs autorefs-internal" href="../../scheduling/plugins/threadpoolctl/#amltk.scheduling.plugins.threadpoolctl.ThreadPoolCTLPlugin"><code>ThreadPoolCTLPlugin</code></a>
to limit the number of threads used by compliant libraries.
<strong>Notably</strong>, this includes scikit-learn, for which running multiple
in parallel can be problematic if not adjusted accordingly.</p>
<p>The default behavior (when <code>None</code>) is to auto-detect whether this
is applicable. This is done by checking if <code>sklearn</code> is installed
and if the first node in the pipeline has a <code>BaseEstimator</code> item.
Please set this to <code>True</code>/<code>False</code> depending on your preference.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>plugins</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>Additional plugins to attach to the eventual
<a class="autorefs autorefs-internal" href="../../scheduling/task/#amltk.scheduling.task.Task"><code>Task</code></a> that will be executed by
the <a class="autorefs autorefs-internal" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler"><code>Scheduler</code></a>. Please
refer to the
<a href="../../../../reference/scheduling/plugins/">plugins reference</a> for more.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.scheduling.plugins.Plugin" href="../../scheduling/plugins/plugin/#amltk.scheduling.plugins.plugin.Plugin">Plugin</a> | <a class="autorefs autorefs-external" title="collections.abc.Iterable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable">Iterable</a>[<a class="autorefs autorefs-internal" title="amltk.scheduling.plugins.Plugin" href="../../scheduling/plugins/plugin/#amltk.scheduling.plugins.plugin.Plugin">Plugin</a>] | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>src/amltk/pipeline/node.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1316">1316</a></span>
<span class="normal"><a href="#__codelineno-0-1317">1317</a></span>
<span class="normal"><a href="#__codelineno-0-1318">1318</a></span>
<span class="normal"><a href="#__codelineno-0-1319">1319</a></span>
<span class="normal"><a href="#__codelineno-0-1320">1320</a></span>
<span class="normal"><a href="#__codelineno-0-1321">1321</a></span>
<span class="normal"><a href="#__codelineno-0-1322">1322</a></span>
<span class="normal"><a href="#__codelineno-0-1323">1323</a></span>
<span class="normal"><a href="#__codelineno-0-1324">1324</a></span>
<span class="normal"><a href="#__codelineno-0-1325">1325</a></span>
<span class="normal"><a href="#__codelineno-0-1326">1326</a></span>
<span class="normal"><a href="#__codelineno-0-1327">1327</a></span>
<span class="normal"><a href="#__codelineno-0-1328">1328</a></span>
<span class="normal"><a href="#__codelineno-0-1329">1329</a></span>
<span class="normal"><a href="#__codelineno-0-1330">1330</a></span>
<span class="normal"><a href="#__codelineno-0-1331">1331</a></span>
<span class="normal"><a href="#__codelineno-0-1332">1332</a></span>
<span class="normal"><a href="#__codelineno-0-1333">1333</a></span>
<span class="normal"><a href="#__codelineno-0-1334">1334</a></span>
<span class="normal"><a href="#__codelineno-0-1335">1335</a></span>
<span class="normal"><a href="#__codelineno-0-1336">1336</a></span>
<span class="normal"><a href="#__codelineno-0-1337">1337</a></span>
<span class="normal"><a href="#__codelineno-0-1338">1338</a></span>
<span class="normal"><a href="#__codelineno-0-1339">1339</a></span>
<span class="normal"><a href="#__codelineno-0-1340">1340</a></span>
<span class="normal"><a href="#__codelineno-0-1341">1341</a></span>
<span class="normal"><a href="#__codelineno-0-1342">1342</a></span>
<span class="normal"><a href="#__codelineno-0-1343">1343</a></span>
<span class="normal"><a href="#__codelineno-0-1344">1344</a></span>
<span class="normal"><a href="#__codelineno-0-1345">1345</a></span>
<span class="normal"><a href="#__codelineno-0-1346">1346</a></span>
<span class="normal"><a href="#__codelineno-0-1347">1347</a></span>
<span class="normal"><a href="#__codelineno-0-1348">1348</a></span>
<span class="normal"><a href="#__codelineno-0-1349">1349</a></span>
<span class="normal"><a href="#__codelineno-0-1350">1350</a></span>
<span class="normal"><a href="#__codelineno-0-1351">1351</a></span>
<span class="normal"><a href="#__codelineno-0-1352">1352</a></span>
<span class="normal"><a href="#__codelineno-0-1353">1353</a></span>
<span class="normal"><a href="#__codelineno-0-1354">1354</a></span>
<span class="normal"><a href="#__codelineno-0-1355">1355</a></span>
<span class="normal"><a href="#__codelineno-0-1356">1356</a></span>
<span class="normal"><a href="#__codelineno-0-1357">1357</a></span>
<span class="normal"><a href="#__codelineno-0-1358">1358</a></span>
<span class="normal"><a href="#__codelineno-0-1359">1359</a></span>
<span class="normal"><a href="#__codelineno-0-1360">1360</a></span>
<span class="normal"><a href="#__codelineno-0-1361">1361</a></span>
<span class="normal"><a href="#__codelineno-0-1362">1362</a></span>
<span class="normal"><a href="#__codelineno-0-1363">1363</a></span>
<span class="normal"><a href="#__codelineno-0-1364">1364</a></span>
<span class="normal"><a href="#__codelineno-0-1365">1365</a></span>
<span class="normal"><a href="#__codelineno-0-1366">1366</a></span>
<span class="normal"><a href="#__codelineno-0-1367">1367</a></span>
<span class="normal"><a href="#__codelineno-0-1368">1368</a></span>
<span class="normal"><a href="#__codelineno-0-1369">1369</a></span>
<span class="normal"><a href="#__codelineno-0-1370">1370</a></span>
<span class="normal"><a href="#__codelineno-0-1371">1371</a></span>
<span class="normal"><a href="#__codelineno-0-1372">1372</a></span>
<span class="normal"><a href="#__codelineno-0-1373">1373</a></span>
<span class="normal"><a href="#__codelineno-0-1374">1374</a></span>
<span class="normal"><a href="#__codelineno-0-1375">1375</a></span>
<span class="normal"><a href="#__codelineno-0-1376">1376</a></span>
<span class="normal"><a href="#__codelineno-0-1377">1377</a></span>
<span class="normal"><a href="#__codelineno-0-1378">1378</a></span>
<span class="normal"><a href="#__codelineno-0-1379">1379</a></span>
<span class="normal"><a href="#__codelineno-0-1380">1380</a></span>
<span class="normal"><a href="#__codelineno-0-1381">1381</a></span>
<span class="normal"><a href="#__codelineno-0-1382">1382</a></span>
<span class="normal"><a href="#__codelineno-0-1383">1383</a></span>
<span class="normal"><a href="#__codelineno-0-1384">1384</a></span>
<span class="normal"><a href="#__codelineno-0-1385">1385</a></span>
<span class="normal"><a href="#__codelineno-0-1386">1386</a></span>
<span class="normal"><a href="#__codelineno-0-1387">1387</a></span>
<span class="normal"><a href="#__codelineno-0-1388">1388</a></span>
<span class="normal"><a href="#__codelineno-0-1389">1389</a></span>
<span class="normal"><a href="#__codelineno-0-1390">1390</a></span>
<span class="normal"><a href="#__codelineno-0-1391">1391</a></span>
<span class="normal"><a href="#__codelineno-0-1392">1392</a></span>
<span class="normal"><a href="#__codelineno-0-1393">1393</a></span>
<span class="normal"><a href="#__codelineno-0-1394">1394</a></span>
<span class="normal"><a href="#__codelineno-0-1395">1395</a></span>
<span class="normal"><a href="#__codelineno-0-1396">1396</a></span>
<span class="normal"><a href="#__codelineno-0-1397">1397</a></span>
<span class="normal"><a href="#__codelineno-0-1398">1398</a></span>
<span class="normal"><a href="#__codelineno-0-1399">1399</a></span>
<span class="normal"><a href="#__codelineno-0-1400">1400</a></span>
<span class="normal"><a href="#__codelineno-0-1401">1401</a></span>
<span class="normal"><a href="#__codelineno-0-1402">1402</a></span>
<span class="normal"><a href="#__codelineno-0-1403">1403</a></span>
<span class="normal"><a href="#__codelineno-0-1404">1404</a></span>
<span class="normal"><a href="#__codelineno-0-1405">1405</a></span>
<span class="normal"><a href="#__codelineno-0-1406">1406</a></span>
<span class="normal"><a href="#__codelineno-0-1407">1407</a></span>
<span class="normal"><a href="#__codelineno-0-1408">1408</a></span>
<span class="normal"><a href="#__codelineno-0-1409">1409</a></span>
<span class="normal"><a href="#__codelineno-0-1410">1410</a></span>
<span class="normal"><a href="#__codelineno-0-1411">1411</a></span>
<span class="normal"><a href="#__codelineno-0-1412">1412</a></span>
<span class="normal"><a href="#__codelineno-0-1413">1413</a></span>
<span class="normal"><a href="#__codelineno-0-1414">1414</a></span>
<span class="normal"><a href="#__codelineno-0-1415">1415</a></span>
<span class="normal"><a href="#__codelineno-0-1416">1416</a></span>
<span class="normal"><a href="#__codelineno-0-1417">1417</a></span>
<span class="normal"><a href="#__codelineno-0-1418">1418</a></span>
<span class="normal"><a href="#__codelineno-0-1419">1419</a></span>
<span class="normal"><a href="#__codelineno-0-1420">1420</a></span>
<span class="normal"><a href="#__codelineno-0-1421">1421</a></span>
<span class="normal"><a href="#__codelineno-0-1422">1422</a></span>
<span class="normal"><a href="#__codelineno-0-1423">1423</a></span>
<span class="normal"><a href="#__codelineno-0-1424">1424</a></span>
<span class="normal"><a href="#__codelineno-0-1425">1425</a></span>
<span class="normal"><a href="#__codelineno-0-1426">1426</a></span>
<span class="normal"><a href="#__codelineno-0-1427">1427</a></span>
<span class="normal"><a href="#__codelineno-0-1428">1428</a></span>
<span class="normal"><a href="#__codelineno-0-1429">1429</a></span>
<span class="normal"><a href="#__codelineno-0-1430">1430</a></span>
<span class="normal"><a href="#__codelineno-0-1431">1431</a></span>
<span class="normal"><a href="#__codelineno-0-1432">1432</a></span>
<span class="normal"><a href="#__codelineno-0-1433">1433</a></span>
<span class="normal"><a href="#__codelineno-0-1434">1434</a></span>
<span class="normal"><a href="#__codelineno-0-1435">1435</a></span>
<span class="normal"><a href="#__codelineno-0-1436">1436</a></span>
<span class="normal"><a href="#__codelineno-0-1437">1437</a></span>
<span class="normal"><a href="#__codelineno-0-1438">1438</a></span>
<span class="normal"><a href="#__codelineno-0-1439">1439</a></span>
<span class="normal"><a href="#__codelineno-0-1440">1440</a></span>
<span class="normal"><a href="#__codelineno-0-1441">1441</a></span>
<span class="normal"><a href="#__codelineno-0-1442">1442</a></span>
<span class="normal"><a href="#__codelineno-0-1443">1443</a></span>
<span class="normal"><a href="#__codelineno-0-1444">1444</a></span>
<span class="normal"><a href="#__codelineno-0-1445">1445</a></span>
<span class="normal"><a href="#__codelineno-0-1446">1446</a></span>
<span class="normal"><a href="#__codelineno-0-1447">1447</a></span>
<span class="normal"><a href="#__codelineno-0-1448">1448</a></span>
<span class="normal"><a href="#__codelineno-0-1449">1449</a></span>
<span class="normal"><a href="#__codelineno-0-1450">1450</a></span>
<span class="normal"><a href="#__codelineno-0-1451">1451</a></span>
<span class="normal"><a href="#__codelineno-0-1452">1452</a></span>
<span class="normal"><a href="#__codelineno-0-1453">1453</a></span>
<span class="normal"><a href="#__codelineno-0-1454">1454</a></span>
<span class="normal"><a href="#__codelineno-0-1455">1455</a></span>
<span class="normal"><a href="#__codelineno-0-1456">1456</a></span>
<span class="normal"><a href="#__codelineno-0-1457">1457</a></span>
<span class="normal"><a href="#__codelineno-0-1458">1458</a></span>
<span class="normal"><a href="#__codelineno-0-1459">1459</a></span>
<span class="normal"><a href="#__codelineno-0-1460">1460</a></span>
<span class="normal"><a href="#__codelineno-0-1461">1461</a></span>
<span class="normal"><a href="#__codelineno-0-1462">1462</a></span>
<span class="normal"><a href="#__codelineno-0-1463">1463</a></span>
<span class="normal"><a href="#__codelineno-0-1464">1464</a></span>
<span class="normal"><a href="#__codelineno-0-1465">1465</a></span>
<span class="normal"><a href="#__codelineno-0-1466">1466</a></span>
<span class="normal"><a href="#__codelineno-0-1467">1467</a></span>
<span class="normal"><a href="#__codelineno-0-1468">1468</a></span>
<span class="normal"><a href="#__codelineno-0-1469">1469</a></span>
<span class="normal"><a href="#__codelineno-0-1470">1470</a></span>
<span class="normal"><a href="#__codelineno-0-1471">1471</a></span>
<span class="normal"><a href="#__codelineno-0-1472">1472</a></span>
<span class="normal"><a href="#__codelineno-0-1473">1473</a></span>
<span class="normal"><a href="#__codelineno-0-1474">1474</a></span>
<span class="normal"><a href="#__codelineno-0-1475">1475</a></span>
<span class="normal"><a href="#__codelineno-0-1476">1476</a></span>
<span class="normal"><a href="#__codelineno-0-1477">1477</a></span>
<span class="normal"><a href="#__codelineno-0-1478">1478</a></span>
<span class="normal"><a href="#__codelineno-0-1479">1479</a></span>
<span class="normal"><a href="#__codelineno-0-1480">1480</a></span>
<span class="normal"><a href="#__codelineno-0-1481">1481</a></span>
<span class="normal"><a href="#__codelineno-0-1482">1482</a></span>
<span class="normal"><a href="#__codelineno-0-1483">1483</a></span>
<span class="normal"><a href="#__codelineno-0-1484">1484</a></span>
<span class="normal"><a href="#__codelineno-0-1485">1485</a></span>
<span class="normal"><a href="#__codelineno-0-1486">1486</a></span>
<span class="normal"><a href="#__codelineno-0-1487">1487</a></span>
<span class="normal"><a href="#__codelineno-0-1488">1488</a></span>
<span class="normal"><a href="#__codelineno-0-1489">1489</a></span>
<span class="normal"><a href="#__codelineno-0-1490">1490</a></span>
<span class="normal"><a href="#__codelineno-0-1491">1491</a></span>
<span class="normal"><a href="#__codelineno-0-1492">1492</a></span>
<span class="normal"><a href="#__codelineno-0-1493">1493</a></span>
<span class="normal"><a href="#__codelineno-0-1494">1494</a></span>
<span class="normal"><a href="#__codelineno-0-1495">1495</a></span>
<span class="normal"><a href="#__codelineno-0-1496">1496</a></span>
<span class="normal"><a href="#__codelineno-0-1497">1497</a></span>
<span class="normal"><a href="#__codelineno-0-1498">1498</a></span>
<span class="normal"><a href="#__codelineno-0-1499">1499</a></span>
<span class="normal"><a href="#__codelineno-0-1500">1500</a></span>
<span class="normal"><a href="#__codelineno-0-1501">1501</a></span>
<span class="normal"><a href="#__codelineno-0-1502">1502</a></span>
<span class="normal"><a href="#__codelineno-0-1503">1503</a></span>
<span class="normal"><a href="#__codelineno-0-1504">1504</a></span>
<span class="normal"><a href="#__codelineno-0-1505">1505</a></span>
<span class="normal"><a href="#__codelineno-0-1506">1506</a></span>
<span class="normal"><a href="#__codelineno-0-1507">1507</a></span>
<span class="normal"><a href="#__codelineno-0-1508">1508</a></span>
<span class="normal"><a href="#__codelineno-0-1509">1509</a></span>
<span class="normal"><a href="#__codelineno-0-1510">1510</a></span>
<span class="normal"><a href="#__codelineno-0-1511">1511</a></span>
<span class="normal"><a href="#__codelineno-0-1512">1512</a></span>
<span class="normal"><a href="#__codelineno-0-1513">1513</a></span>
<span class="normal"><a href="#__codelineno-0-1514">1514</a></span>
<span class="normal"><a href="#__codelineno-0-1515">1515</a></span>
<span class="normal"><a href="#__codelineno-0-1516">1516</a></span>
<span class="normal"><a href="#__codelineno-0-1517">1517</a></span>
<span class="normal"><a href="#__codelineno-0-1518">1518</a></span>
<span class="normal"><a href="#__codelineno-0-1519">1519</a></span>
<span class="normal"><a href="#__codelineno-0-1520">1520</a></span>
<span class="normal"><a href="#__codelineno-0-1521">1521</a></span>
<span class="normal"><a href="#__codelineno-0-1522">1522</a></span>
<span class="normal"><a href="#__codelineno-0-1523">1523</a></span>
<span class="normal"><a href="#__codelineno-0-1524">1524</a></span>
<span class="normal"><a href="#__codelineno-0-1525">1525</a></span>
<span class="normal"><a href="#__codelineno-0-1526">1526</a></span>
<span class="normal"><a href="#__codelineno-0-1527">1527</a></span>
<span class="normal"><a href="#__codelineno-0-1528">1528</a></span>
<span class="normal"><a href="#__codelineno-0-1529">1529</a></span>
<span class="normal"><a href="#__codelineno-0-1530">1530</a></span>
<span class="normal"><a href="#__codelineno-0-1531">1531</a></span>
<span class="normal"><a href="#__codelineno-0-1532">1532</a></span>
<span class="normal"><a href="#__codelineno-0-1533">1533</a></span>
<span class="normal"><a href="#__codelineno-0-1534">1534</a></span>
<span class="normal"><a href="#__codelineno-0-1535">1535</a></span>
<span class="normal"><a href="#__codelineno-0-1536">1536</a></span>
<span class="normal"><a href="#__codelineno-0-1537">1537</a></span>
<span class="normal"><a href="#__codelineno-0-1538">1538</a></span>
<span class="normal"><a href="#__codelineno-0-1539">1539</a></span>
<span class="normal"><a href="#__codelineno-0-1540">1540</a></span>
<span class="normal"><a href="#__codelineno-0-1541">1541</a></span>
<span class="normal"><a href="#__codelineno-0-1542">1542</a></span>
<span class="normal"><a href="#__codelineno-0-1543">1543</a></span>
<span class="normal"><a href="#__codelineno-0-1544">1544</a></span>
<span class="normal"><a href="#__codelineno-0-1545">1545</a></span>
<span class="normal"><a href="#__codelineno-0-1546">1546</a></span>
<span class="normal"><a href="#__codelineno-0-1547">1547</a></span>
<span class="normal"><a href="#__codelineno-0-1548">1548</a></span>
<span class="normal"><a href="#__codelineno-0-1549">1549</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1316" name="__codelineno-0-1316"></a><span class="k">def</span> <span class="nf">optimize</span><span class="p">(</span>
<a id="__codelineno-0-1317" name="__codelineno-0-1317"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-1318" name="__codelineno-0-1318"></a>    <span class="n">target</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-1319" name="__codelineno-0-1319"></a>        <span class="n">Callable</span><span class="p">[[</span><span class="n">Trial</span><span class="p">,</span> <span class="n">Node</span><span class="p">],</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">]</span> <span class="o">|</span> <span class="n">Task</span><span class="p">[[</span><span class="n">Trial</span><span class="p">,</span> <span class="n">Node</span><span class="p">],</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">]</span>
<a id="__codelineno-0-1320" name="__codelineno-0-1320"></a>    <span class="p">),</span>
<a id="__codelineno-0-1321" name="__codelineno-0-1321"></a>    <span class="n">metric</span><span class="p">:</span> <span class="n">Metric</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Metric</span><span class="p">],</span>
<a id="__codelineno-0-1322" name="__codelineno-0-1322"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-1323" name="__codelineno-0-1323"></a>    <span class="n">optimizer</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-1324" name="__codelineno-0-1324"></a>        <span class="nb">type</span><span class="p">[</span><span class="n">Optimizer</span><span class="p">]</span> <span class="o">|</span> <span class="n">Optimizer</span><span class="o">.</span><span class="n">CreateSignature</span> <span class="o">|</span> <span class="n">Optimizer</span> <span class="o">|</span> <span class="kc">None</span>
<a id="__codelineno-0-1325" name="__codelineno-0-1325"></a>    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1326" name="__codelineno-0-1326"></a>    <span class="n">seed</span><span class="p">:</span> <span class="n">Seed</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1327" name="__codelineno-0-1327"></a>    <span class="n">max_trials</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1328" name="__codelineno-0-1328"></a>    <span class="n">n_workers</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-1329" name="__codelineno-0-1329"></a>    <span class="n">timeout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1330" name="__codelineno-0-1330"></a>    <span class="n">working_dir</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span> <span class="o">|</span> <span class="n">PathBucket</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1331" name="__codelineno-0-1331"></a>    <span class="n">scheduler</span><span class="p">:</span> <span class="n">Scheduler</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1332" name="__codelineno-0-1332"></a>    <span class="n">history</span><span class="p">:</span> <span class="n">History</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1333" name="__codelineno-0-1333"></a>    <span class="n">on_begin</span><span class="p">:</span> <span class="n">OnBeginCallbackSignature</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1334" name="__codelineno-0-1334"></a>    <span class="n">on_trial_exception</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;raise&quot;</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">,</span> <span class="s2">&quot;continue&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;raise&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1335" name="__codelineno-0-1335"></a>    <span class="c1"># Plugin creating arguments</span>
<a id="__codelineno-0-1336" name="__codelineno-0-1336"></a>    <span class="n">plugins</span><span class="p">:</span> <span class="n">Plugin</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Plugin</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1337" name="__codelineno-0-1337"></a>    <span class="n">process_memory_limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1338" name="__codelineno-0-1338"></a>    <span class="n">process_walltime_limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1339" name="__codelineno-0-1339"></a>    <span class="n">process_cputime_limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1340" name="__codelineno-0-1340"></a>    <span class="n">threadpool_limit_ctl</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1341" name="__codelineno-0-1341"></a>    <span class="c1"># `scheduler.run()` arguments</span>
<a id="__codelineno-0-1342" name="__codelineno-0-1342"></a>    <span class="n">display</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;auto&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;auto&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1343" name="__codelineno-0-1343"></a>    <span class="n">wait</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-1344" name="__codelineno-0-1344"></a>    <span class="n">on_scheduler_exception</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;raise&quot;</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">,</span> <span class="s2">&quot;continue&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;raise&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1345" name="__codelineno-0-1345"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">History</span><span class="p">:</span>
<a id="__codelineno-0-1346" name="__codelineno-0-1346"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Optimize a pipeline on a given target function or evaluation protocol.</span>
<a id="__codelineno-0-1347" name="__codelineno-0-1347"></a>
<a id="__codelineno-0-1348" name="__codelineno-0-1348"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-1349" name="__codelineno-0-1349"></a><span class="sd">        target:</span>
<a id="__codelineno-0-1350" name="__codelineno-0-1350"></a><span class="sd">            The function against which to optimize.</span>
<a id="__codelineno-0-1351" name="__codelineno-0-1351"></a>
<a id="__codelineno-0-1352" name="__codelineno-0-1352"></a><span class="sd">            * If `target` is a function, then it must take in a</span>
<a id="__codelineno-0-1353" name="__codelineno-0-1353"></a><span class="sd">            [`Trial`][amltk.optimization.trial.Trial] as the first argument</span>
<a id="__codelineno-0-1354" name="__codelineno-0-1354"></a><span class="sd">            and a [`Node`][amltk.pipeline.node.Node] second argument, returning a</span>
<a id="__codelineno-0-1355" name="__codelineno-0-1355"></a><span class="sd">            [`Trial.Report`][amltk.optimization.trial.Trial.Report]. Please refer to</span>
<a id="__codelineno-0-1356" name="__codelineno-0-1356"></a><span class="sd">            the [optimization guide](../../../guides/optimization.md) for more.</span>
<a id="__codelineno-0-1357" name="__codelineno-0-1357"></a>
<a id="__codelineno-0-1358" name="__codelineno-0-1358"></a><span class="sd">            * If `target` is a [`Task`][amltk.scheduling.task.Task], then</span>
<a id="__codelineno-0-1359" name="__codelineno-0-1359"></a><span class="sd">            this will be used instead, updating the plugins with any additional</span>
<a id="__codelineno-0-1360" name="__codelineno-0-1360"></a><span class="sd">            plugins specified.</span>
<a id="__codelineno-0-1361" name="__codelineno-0-1361"></a><span class="sd">        metric:</span>
<a id="__codelineno-0-1362" name="__codelineno-0-1362"></a><span class="sd">            The metric(s) that will be passed to `optimizer=`. These metrics</span>
<a id="__codelineno-0-1363" name="__codelineno-0-1363"></a><span class="sd">            should align with what is being computed in `target=`.</span>
<a id="__codelineno-0-1364" name="__codelineno-0-1364"></a><span class="sd">        optimizer:</span>
<a id="__codelineno-0-1365" name="__codelineno-0-1365"></a><span class="sd">            The optimizer to use. If `None`, then AMLTK will go through a list</span>
<a id="__codelineno-0-1366" name="__codelineno-0-1366"></a><span class="sd">            of known optimizers and use the first one it can find which was installed.</span>
<a id="__codelineno-0-1367" name="__codelineno-0-1367"></a>
<a id="__codelineno-0-1368" name="__codelineno-0-1368"></a><span class="sd">            Alternatively, this can be a class inheriting from</span>
<a id="__codelineno-0-1369" name="__codelineno-0-1369"></a><span class="sd">            [`Optimizer`][amltk.optimization.optimizer.Optimizer] or else</span>
<a id="__codelineno-0-1370" name="__codelineno-0-1370"></a><span class="sd">            a signature match [`Optimizer.CreateSignature`][amltk.optimization.Optimizer.CreateSignature]</span>
<a id="__codelineno-0-1371" name="__codelineno-0-1371"></a>
<a id="__codelineno-0-1372" name="__codelineno-0-1372"></a><span class="sd">            ??? tip &quot;`Optimizer.CreateSignature`&quot;</span>
<a id="__codelineno-0-1373" name="__codelineno-0-1373"></a>
<a id="__codelineno-0-1374" name="__codelineno-0-1374"></a><span class="sd">                ::: amltk.optimization.Optimizer.CreateSignature</span>
<a id="__codelineno-0-1375" name="__codelineno-0-1375"></a>
<a id="__codelineno-0-1376" name="__codelineno-0-1376"></a><span class="sd">            Lastly, you can also pass in your own already instantiated optimizer if you prefer, however</span>
<a id="__codelineno-0-1377" name="__codelineno-0-1377"></a><span class="sd">            you should make sure to set it up correctly with the given metrics and search space.</span>
<a id="__codelineno-0-1378" name="__codelineno-0-1378"></a><span class="sd">            It is recommened to just pass in the class if you are unsure how to do this properly.</span>
<a id="__codelineno-0-1379" name="__codelineno-0-1379"></a><span class="sd">        seed:</span>
<a id="__codelineno-0-1380" name="__codelineno-0-1380"></a><span class="sd">            A [`seed`][amltk.types.Seed] for the optimizer to use.</span>
<a id="__codelineno-0-1381" name="__codelineno-0-1381"></a><span class="sd">        n_workers:</span>
<a id="__codelineno-0-1382" name="__codelineno-0-1382"></a><span class="sd">            The numer of workers to use to evaluate this pipeline.</span>
<a id="__codelineno-0-1383" name="__codelineno-0-1383"></a><span class="sd">            If no `scheduler=` is provided, then one will be created for</span>
<a id="__codelineno-0-1384" name="__codelineno-0-1384"></a><span class="sd">            you as [`Scheduler.with_processes(n_workers)`][amltk.scheduling.Scheduler.with_processes].</span>
<a id="__codelineno-0-1385" name="__codelineno-0-1385"></a><span class="sd">            If you provide your own `scheduler=` then this will limit the maximum</span>
<a id="__codelineno-0-1386" name="__codelineno-0-1386"></a><span class="sd">            amount of concurrent trials for this pipeline that will be evaluating</span>
<a id="__codelineno-0-1387" name="__codelineno-0-1387"></a><span class="sd">            at once.</span>
<a id="__codelineno-0-1388" name="__codelineno-0-1388"></a><span class="sd">        timeout:</span>
<a id="__codelineno-0-1389" name="__codelineno-0-1389"></a><span class="sd">            How long to run the scheduler for. This parameter only takes</span>
<a id="__codelineno-0-1390" name="__codelineno-0-1390"></a><span class="sd">            effect if `setup_only=False` which is the default. Otherwise,</span>
<a id="__codelineno-0-1391" name="__codelineno-0-1391"></a><span class="sd">            it will be ignored.</span>
<a id="__codelineno-0-1392" name="__codelineno-0-1392"></a><span class="sd">        display:</span>
<a id="__codelineno-0-1393" name="__codelineno-0-1393"></a><span class="sd">            Whether to display the scheduler during running. By default</span>
<a id="__codelineno-0-1394" name="__codelineno-0-1394"></a><span class="sd">            it is `&quot;auto&quot;` which means to enable the display if running</span>
<a id="__codelineno-0-1395" name="__codelineno-0-1395"></a><span class="sd">            in a juptyer notebook or colab. Otherwise, it will be</span>
<a id="__codelineno-0-1396" name="__codelineno-0-1396"></a><span class="sd">            `False`.</span>
<a id="__codelineno-0-1397" name="__codelineno-0-1397"></a>
<a id="__codelineno-0-1398" name="__codelineno-0-1398"></a><span class="sd">            This may work poorly if including print statements or logging.</span>
<a id="__codelineno-0-1399" name="__codelineno-0-1399"></a><span class="sd">        wait:</span>
<a id="__codelineno-0-1400" name="__codelineno-0-1400"></a><span class="sd">            Whether to wait for the scheduler to finish all pending jobs</span>
<a id="__codelineno-0-1401" name="__codelineno-0-1401"></a><span class="sd">            if was stopped for any reason, e.g. a `timeout=` or</span>
<a id="__codelineno-0-1402" name="__codelineno-0-1402"></a><span class="sd">            [`scheduler.stop()`][amltk.scheduling.Scheduler.stop] was called.</span>
<a id="__codelineno-0-1403" name="__codelineno-0-1403"></a><span class="sd">        on_scheduler_exception:</span>
<a id="__codelineno-0-1404" name="__codelineno-0-1404"></a><span class="sd">            What to do if an exception occured, either in the submitted task,</span>
<a id="__codelineno-0-1405" name="__codelineno-0-1405"></a><span class="sd">            the callback, or any other unknown source during the loop.</span>
<a id="__codelineno-0-1406" name="__codelineno-0-1406"></a>
<a id="__codelineno-0-1407" name="__codelineno-0-1407"></a><span class="sd">            * If `#!python &quot;raise&quot;`, then the exception will be raised</span>
<a id="__codelineno-0-1408" name="__codelineno-0-1408"></a><span class="sd">            immediatly and the optimization process will halt. The default</span>
<a id="__codelineno-0-1409" name="__codelineno-0-1409"></a><span class="sd">            behavior and good for initial development.</span>
<a id="__codelineno-0-1410" name="__codelineno-0-1410"></a><span class="sd">            * If `#!python &quot;end&quot;`, then the exception will be caught and</span>
<a id="__codelineno-0-1411" name="__codelineno-0-1411"></a><span class="sd">            the optimization process will end gracefully.</span>
<a id="__codelineno-0-1412" name="__codelineno-0-1412"></a><span class="sd">            * If `#!python &quot;continue&quot;`, the exception will be ignored and</span>
<a id="__codelineno-0-1413" name="__codelineno-0-1413"></a><span class="sd">            the optimization procedure will continue.</span>
<a id="__codelineno-0-1414" name="__codelineno-0-1414"></a><span class="sd">        working_dir:</span>
<a id="__codelineno-0-1415" name="__codelineno-0-1415"></a><span class="sd">            A working directory to use for the optimizer and the trials.</span>
<a id="__codelineno-0-1416" name="__codelineno-0-1416"></a><span class="sd">            Any items you store in trials will be located in this directory,</span>
<a id="__codelineno-0-1417" name="__codelineno-0-1417"></a><span class="sd">            where the [`trial.name`][amltk.optimization.Trial.name] will be</span>
<a id="__codelineno-0-1418" name="__codelineno-0-1418"></a><span class="sd">            used as a subfolder where any contents stored with</span>
<a id="__codelineno-0-1419" name="__codelineno-0-1419"></a><span class="sd">            [`trial.store()`][amltk.optimization.trial.Trial.store] will be put there.</span>
<a id="__codelineno-0-1420" name="__codelineno-0-1420"></a><span class="sd">            Please see the [optimization guide](../../../guides/optimization.md)</span>
<a id="__codelineno-0-1421" name="__codelineno-0-1421"></a><span class="sd">            for more on trial storage.</span>
<a id="__codelineno-0-1422" name="__codelineno-0-1422"></a><span class="sd">        scheduler:</span>
<a id="__codelineno-0-1423" name="__codelineno-0-1423"></a><span class="sd">            The specific [`Scheduler`][amltk.scheduling.Scheduler] to use.</span>
<a id="__codelineno-0-1424" name="__codelineno-0-1424"></a><span class="sd">            If `None`, then one will be created for you with</span>
<a id="__codelineno-0-1425" name="__codelineno-0-1425"></a><span class="sd">            [`Scheduler.with_processes(n_workers)`][amltk.scheduling.Scheduler.with_processes]</span>
<a id="__codelineno-0-1426" name="__codelineno-0-1426"></a><span class="sd">        history:</span>
<a id="__codelineno-0-1427" name="__codelineno-0-1427"></a><span class="sd">            A [`History`][amltk.optimization.history.History] to store the</span>
<a id="__codelineno-0-1428" name="__codelineno-0-1428"></a><span class="sd">            [`Trial.Report`][amltk.optimization.Trial.Report]s in. You</span>
<a id="__codelineno-0-1429" name="__codelineno-0-1429"></a><span class="sd">            may pass in your own if you wish for this method to store</span>
<a id="__codelineno-0-1430" name="__codelineno-0-1430"></a><span class="sd">            it there instead of creating its own.</span>
<a id="__codelineno-0-1431" name="__codelineno-0-1431"></a><span class="sd">        on_begin:</span>
<a id="__codelineno-0-1432" name="__codelineno-0-1432"></a><span class="sd">            A callback that will be called before the scheduler is run. This</span>
<a id="__codelineno-0-1433" name="__codelineno-0-1433"></a><span class="sd">            can be used to hook into the life-cycle of the optimization and</span>
<a id="__codelineno-0-1434" name="__codelineno-0-1434"></a><span class="sd">            perform custom routines. Please see the</span>
<a id="__codelineno-0-1435" name="__codelineno-0-1435"></a><span class="sd">            [scheduling guide](../../../guides/scheduling.md) for more.</span>
<a id="__codelineno-0-1436" name="__codelineno-0-1436"></a>
<a id="__codelineno-0-1437" name="__codelineno-0-1437"></a><span class="sd">            ??? tip &quot;on_begin signature&quot;</span>
<a id="__codelineno-0-1438" name="__codelineno-0-1438"></a>
<a id="__codelineno-0-1439" name="__codelineno-0-1439"></a><span class="sd">                ::: amltk.pipeline.node.OnBeginCallbackSignature</span>
<a id="__codelineno-0-1440" name="__codelineno-0-1440"></a>
<a id="__codelineno-0-1441" name="__codelineno-0-1441"></a><span class="sd">        on_trial_exception:</span>
<a id="__codelineno-0-1442" name="__codelineno-0-1442"></a><span class="sd">            What to do when a trial returns a fail report from</span>
<a id="__codelineno-0-1443" name="__codelineno-0-1443"></a><span class="sd">            [`trial.fail()`][amltk.optimization.trial.Trial.fail] or</span>
<a id="__codelineno-0-1444" name="__codelineno-0-1444"></a><span class="sd">            [`trial.crashed()`][amltk.optimization.trial.Trial.crashed]</span>
<a id="__codelineno-0-1445" name="__codelineno-0-1445"></a><span class="sd">            that contains an exception.</span>
<a id="__codelineno-0-1446" name="__codelineno-0-1446"></a>
<a id="__codelineno-0-1447" name="__codelineno-0-1447"></a><span class="sd">            Please see the [optimization guide](../../../guides/optimization.md)</span>
<a id="__codelineno-0-1448" name="__codelineno-0-1448"></a><span class="sd">            for more. In all cases, the exception will be attached to the</span>
<a id="__codelineno-0-1449" name="__codelineno-0-1449"></a><span class="sd">            [`Trial.Report`][amltk.optimization.Trial.Report] object under</span>
<a id="__codelineno-0-1450" name="__codelineno-0-1450"></a><span class="sd">            [`report.exception`][amltk.optimization.Trial.Report.exception].</span>
<a id="__codelineno-0-1451" name="__codelineno-0-1451"></a>
<a id="__codelineno-0-1452" name="__codelineno-0-1452"></a><span class="sd">            * If `#!python &quot;raise&quot;`, then the exception will be raised</span>
<a id="__codelineno-0-1453" name="__codelineno-0-1453"></a><span class="sd">            immediatly and the optimization process will halt. The default</span>
<a id="__codelineno-0-1454" name="__codelineno-0-1454"></a><span class="sd">            and good for initial development.</span>
<a id="__codelineno-0-1455" name="__codelineno-0-1455"></a><span class="sd">            * If `#!python &quot;end&quot;`, then the exception will be caught and</span>
<a id="__codelineno-0-1456" name="__codelineno-0-1456"></a><span class="sd">            the optimization process will end gracefully.</span>
<a id="__codelineno-0-1457" name="__codelineno-0-1457"></a><span class="sd">            * If `#!python &quot;continue&quot;`, the exception will be ignored and</span>
<a id="__codelineno-0-1458" name="__codelineno-0-1458"></a><span class="sd">            the optimization procedure will continue.</span>
<a id="__codelineno-0-1459" name="__codelineno-0-1459"></a>
<a id="__codelineno-0-1460" name="__codelineno-0-1460"></a><span class="sd">        max_trials:</span>
<a id="__codelineno-0-1461" name="__codelineno-0-1461"></a><span class="sd">            The maximum number of trials to run. If `None`, then the</span>
<a id="__codelineno-0-1462" name="__codelineno-0-1462"></a><span class="sd">            optimization will continue for as long as the scheduler is</span>
<a id="__codelineno-0-1463" name="__codelineno-0-1463"></a><span class="sd">            running. You&#39;ll likely want to configure this.</span>
<a id="__codelineno-0-1464" name="__codelineno-0-1464"></a>
<a id="__codelineno-0-1465" name="__codelineno-0-1465"></a><span class="sd">        process_memory_limit:</span>
<a id="__codelineno-0-1466" name="__codelineno-0-1466"></a><span class="sd">            If specified, the [`Task`][amltk.scheduling.task.Task] will</span>
<a id="__codelineno-0-1467" name="__codelineno-0-1467"></a><span class="sd">            use the</span>
<a id="__codelineno-0-1468" name="__codelineno-0-1468"></a><span class="sd">            [`PynisherPlugin`][amltk.scheduling.plugins.pynisher.PynisherPlugin]</span>
<a id="__codelineno-0-1469" name="__codelineno-0-1469"></a><span class="sd">            to limit the memory the process can use. Please</span>
<a id="__codelineno-0-1470" name="__codelineno-0-1470"></a><span class="sd">            refer to the</span>
<a id="__codelineno-0-1471" name="__codelineno-0-1471"></a><span class="sd">            [plugins `pynisher` reference](../../../reference/scheduling/plugins.md#pynisher)</span>
<a id="__codelineno-0-1472" name="__codelineno-0-1472"></a><span class="sd">            for more as there are platform limitations and additional</span>
<a id="__codelineno-0-1473" name="__codelineno-0-1473"></a><span class="sd">            dependancies required.</span>
<a id="__codelineno-0-1474" name="__codelineno-0-1474"></a><span class="sd">        process_walltime_limit:</span>
<a id="__codelineno-0-1475" name="__codelineno-0-1475"></a><span class="sd">            If specified, the [`Task`][amltk.scheduling.task.Task] will</span>
<a id="__codelineno-0-1476" name="__codelineno-0-1476"></a><span class="sd">            use the</span>
<a id="__codelineno-0-1477" name="__codelineno-0-1477"></a><span class="sd">            [`PynisherPlugin`][amltk.scheduling.plugins.pynisher.PynisherPlugin]</span>
<a id="__codelineno-0-1478" name="__codelineno-0-1478"></a><span class="sd">            to limit the wall time the process can use. Please</span>
<a id="__codelineno-0-1479" name="__codelineno-0-1479"></a><span class="sd">            refer to the</span>
<a id="__codelineno-0-1480" name="__codelineno-0-1480"></a><span class="sd">            [plugins `pynisher` reference](../../../reference/scheduling/plugins.md#pynisher)</span>
<a id="__codelineno-0-1481" name="__codelineno-0-1481"></a><span class="sd">            for more as there are platform limitations and additional</span>
<a id="__codelineno-0-1482" name="__codelineno-0-1482"></a><span class="sd">            dependancies required.</span>
<a id="__codelineno-0-1483" name="__codelineno-0-1483"></a><span class="sd">        process_cputime_limit:</span>
<a id="__codelineno-0-1484" name="__codelineno-0-1484"></a><span class="sd">            If specified, the [`Task`][amltk.scheduling.task.Task] will</span>
<a id="__codelineno-0-1485" name="__codelineno-0-1485"></a><span class="sd">            use the</span>
<a id="__codelineno-0-1486" name="__codelineno-0-1486"></a><span class="sd">            [`PynisherPlugin`][amltk.scheduling.plugins.pynisher.PynisherPlugin]</span>
<a id="__codelineno-0-1487" name="__codelineno-0-1487"></a><span class="sd">            to limit the cputime the process can use. Please</span>
<a id="__codelineno-0-1488" name="__codelineno-0-1488"></a><span class="sd">            refer to the</span>
<a id="__codelineno-0-1489" name="__codelineno-0-1489"></a><span class="sd">            [plugins `pynisher` reference](../../../reference/scheduling/plugins.md#pynisher)</span>
<a id="__codelineno-0-1490" name="__codelineno-0-1490"></a><span class="sd">            for more as there are platform limitations and additional</span>
<a id="__codelineno-0-1491" name="__codelineno-0-1491"></a><span class="sd">            dependancies required.</span>
<a id="__codelineno-0-1492" name="__codelineno-0-1492"></a><span class="sd">        threadpool_limit_ctl:</span>
<a id="__codelineno-0-1493" name="__codelineno-0-1493"></a><span class="sd">            If specified, the [`Task`][amltk.scheduling.task.Task] will</span>
<a id="__codelineno-0-1494" name="__codelineno-0-1494"></a><span class="sd">            use the</span>
<a id="__codelineno-0-1495" name="__codelineno-0-1495"></a><span class="sd">            [`ThreadPoolCTLPlugin`][amltk.scheduling.plugins.threadpoolctl.ThreadPoolCTLPlugin]</span>
<a id="__codelineno-0-1496" name="__codelineno-0-1496"></a><span class="sd">            to limit the number of threads used by compliant libraries.</span>
<a id="__codelineno-0-1497" name="__codelineno-0-1497"></a><span class="sd">            **Notably**, this includes scikit-learn, for which running multiple</span>
<a id="__codelineno-0-1498" name="__codelineno-0-1498"></a><span class="sd">            in parallel can be problematic if not adjusted accordingly.</span>
<a id="__codelineno-0-1499" name="__codelineno-0-1499"></a>
<a id="__codelineno-0-1500" name="__codelineno-0-1500"></a><span class="sd">            The default behavior (when `None`) is to auto-detect whether this</span>
<a id="__codelineno-0-1501" name="__codelineno-0-1501"></a><span class="sd">            is applicable. This is done by checking if `sklearn` is installed</span>
<a id="__codelineno-0-1502" name="__codelineno-0-1502"></a><span class="sd">            and if the first node in the pipeline has a `BaseEstimator` item.</span>
<a id="__codelineno-0-1503" name="__codelineno-0-1503"></a><span class="sd">            Please set this to `True`/`False` depending on your preference.</span>
<a id="__codelineno-0-1504" name="__codelineno-0-1504"></a><span class="sd">        plugins:</span>
<a id="__codelineno-0-1505" name="__codelineno-0-1505"></a><span class="sd">            Additional plugins to attach to the eventual</span>
<a id="__codelineno-0-1506" name="__codelineno-0-1506"></a><span class="sd">            [`Task`][amltk.scheduling.task.Task] that will be executed by</span>
<a id="__codelineno-0-1507" name="__codelineno-0-1507"></a><span class="sd">            the [`Scheduler`][amltk.scheduling.Scheduler]. Please</span>
<a id="__codelineno-0-1508" name="__codelineno-0-1508"></a><span class="sd">            refer to the</span>
<a id="__codelineno-0-1509" name="__codelineno-0-1509"></a><span class="sd">            [plugins reference](../../../reference/scheduling/plugins.md) for more.</span>
<a id="__codelineno-0-1510" name="__codelineno-0-1510"></a><span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
<a id="__codelineno-0-1511" name="__codelineno-0-1511"></a>    <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">max_trials</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1512" name="__codelineno-0-1512"></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-1513" name="__codelineno-0-1513"></a>            <span class="s2">&quot;You must one or both of `timeout` or `max_trials` to&quot;</span>
<a id="__codelineno-0-1514" name="__codelineno-0-1514"></a>            <span class="s2">&quot; limit the optimization process.&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1515" name="__codelineno-0-1515"></a>        <span class="p">)</span>
<a id="__codelineno-0-1516" name="__codelineno-0-1516"></a>
<a id="__codelineno-0-1517" name="__codelineno-0-1517"></a>    <span class="k">match</span> <span class="n">history</span><span class="p">:</span>
<a id="__codelineno-0-1518" name="__codelineno-0-1518"></a>        <span class="n">case</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1519" name="__codelineno-0-1519"></a>            <span class="n">history</span> <span class="o">=</span> <span class="n">History</span><span class="p">()</span>
<a id="__codelineno-0-1520" name="__codelineno-0-1520"></a>        <span class="k">case</span> <span class="n">History</span><span class="p">():</span>
<a id="__codelineno-0-1521" name="__codelineno-0-1521"></a>            <span class="k">pass</span>
<a id="__codelineno-0-1522" name="__codelineno-0-1522"></a>        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-1523" name="__codelineno-0-1523"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid history </span><span class="si">{</span><span class="n">history</span><span class="si">}</span><span class="s2">. Must be a History&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1524" name="__codelineno-0-1524"></a>
<a id="__codelineno-0-1525" name="__codelineno-0-1525"></a>    <span class="n">scheduler</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">register_optimization_loop</span><span class="p">(</span>
<a id="__codelineno-0-1526" name="__codelineno-0-1526"></a>        <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">,</span>
<a id="__codelineno-0-1527" name="__codelineno-0-1527"></a>        <span class="n">metric</span><span class="o">=</span><span class="n">metric</span><span class="p">,</span>
<a id="__codelineno-0-1528" name="__codelineno-0-1528"></a>        <span class="n">optimizer</span><span class="o">=</span><span class="n">optimizer</span><span class="p">,</span>
<a id="__codelineno-0-1529" name="__codelineno-0-1529"></a>        <span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">,</span>
<a id="__codelineno-0-1530" name="__codelineno-0-1530"></a>        <span class="n">max_trials</span><span class="o">=</span><span class="n">max_trials</span><span class="p">,</span>
<a id="__codelineno-0-1531" name="__codelineno-0-1531"></a>        <span class="n">n_workers</span><span class="o">=</span><span class="n">n_workers</span><span class="p">,</span>
<a id="__codelineno-0-1532" name="__codelineno-0-1532"></a>        <span class="n">working_dir</span><span class="o">=</span><span class="n">working_dir</span><span class="p">,</span>
<a id="__codelineno-0-1533" name="__codelineno-0-1533"></a>        <span class="n">scheduler</span><span class="o">=</span><span class="n">scheduler</span><span class="p">,</span>
<a id="__codelineno-0-1534" name="__codelineno-0-1534"></a>        <span class="n">history</span><span class="o">=</span><span class="n">history</span><span class="p">,</span>
<a id="__codelineno-0-1535" name="__codelineno-0-1535"></a>        <span class="n">on_begin</span><span class="o">=</span><span class="n">on_begin</span><span class="p">,</span>
<a id="__codelineno-0-1536" name="__codelineno-0-1536"></a>        <span class="n">on_trial_exception</span><span class="o">=</span><span class="n">on_trial_exception</span><span class="p">,</span>
<a id="__codelineno-0-1537" name="__codelineno-0-1537"></a>        <span class="n">plugins</span><span class="o">=</span><span class="n">plugins</span><span class="p">,</span>
<a id="__codelineno-0-1538" name="__codelineno-0-1538"></a>        <span class="n">process_memory_limit</span><span class="o">=</span><span class="n">process_memory_limit</span><span class="p">,</span>
<a id="__codelineno-0-1539" name="__codelineno-0-1539"></a>        <span class="n">process_walltime_limit</span><span class="o">=</span><span class="n">process_walltime_limit</span><span class="p">,</span>
<a id="__codelineno-0-1540" name="__codelineno-0-1540"></a>        <span class="n">process_cputime_limit</span><span class="o">=</span><span class="n">process_cputime_limit</span><span class="p">,</span>
<a id="__codelineno-0-1541" name="__codelineno-0-1541"></a>        <span class="n">threadpool_limit_ctl</span><span class="o">=</span><span class="n">threadpool_limit_ctl</span><span class="p">,</span>
<a id="__codelineno-0-1542" name="__codelineno-0-1542"></a>    <span class="p">)</span>
<a id="__codelineno-0-1543" name="__codelineno-0-1543"></a>    <span class="n">scheduler</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
<a id="__codelineno-0-1544" name="__codelineno-0-1544"></a>        <span class="n">wait</span><span class="o">=</span><span class="n">wait</span><span class="p">,</span>
<a id="__codelineno-0-1545" name="__codelineno-0-1545"></a>        <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
<a id="__codelineno-0-1546" name="__codelineno-0-1546"></a>        <span class="n">on_exception</span><span class="o">=</span><span class="n">on_scheduler_exception</span><span class="p">,</span>
<a id="__codelineno-0-1547" name="__codelineno-0-1547"></a>        <span class="n">display</span><span class="o">=</span><span class="n">display</span><span class="p">,</span>
<a id="__codelineno-0-1548" name="__codelineno-0-1548"></a>    <span class="p">)</span>
<a id="__codelineno-0-1549" name="__codelineno-0-1549"></a>    <span class="k">return</span> <span class="n">history</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="amltk.pipeline.node.Node.path_to" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">path_to</span>


<a href="#amltk.pipeline.node.Node.path_to" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">path_to</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">key</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a></span><span class="p">[[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span><span class="p">]</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Find a path to the given node.</p>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">PARAMETER</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td><code>key</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The key to search for or a function that returns True if the node
is the desired node</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | <a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a> | <a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a>[[<a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a>], <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a>]</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">RETURNS</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td>
              <span class="doc-returns-annotation">
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a>] | None</code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>The path to the node if found, else None</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>src/amltk/pipeline/node.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-565">565</a></span>
<span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span>
<span class="normal"><a href="#__codelineno-0-570">570</a></span>
<span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span>
<span class="normal"><a href="#__codelineno-0-584">584</a></span>
<span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-565" name="__codelineno-0-565"></a><span class="k">def</span> <span class="nf">path_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Node</span> <span class="o">|</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Node</span><span class="p">],</span> <span class="nb">bool</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Node</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-566" name="__codelineno-0-566"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Find a path to the given node.</span>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a><span class="sd">        key: The key to search for or a function that returns True if the node</span>
<a id="__codelineno-0-570" name="__codelineno-0-570"></a><span class="sd">            is the desired node</span>
<a id="__codelineno-0-571" name="__codelineno-0-571"></a>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a><span class="sd">        The path to the node if found, else None</span>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a>    <span class="c1"># We found our target, just return now</span>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a>    <span class="k">match</span> <span class="n">key</span><span class="p">:</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a>        <span class="k">case</span> <span class="n">Node</span><span class="p">():</span>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a>            <span class="n">pred</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">node</span><span class="p">:</span> <span class="n">node</span> <span class="o">==</span> <span class="n">key</span>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a>        <span class="k">case</span> <span class="nb">str</span><span class="p">():</span>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a>            <span class="n">pred</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">node</span><span class="p">:</span> <span class="n">node</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">key</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a>        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a>            <span class="n">pred</span> <span class="o">=</span> <span class="n">key</span>
<a id="__codelineno-0-584" name="__codelineno-0-584"></a>
<a id="__codelineno-0-585" name="__codelineno-0-585"></a>    <span class="k">for</span> <span class="n">path</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">walk</span><span class="p">():</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a>        <span class="k">if</span> <span class="n">pred</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a>            <span class="k">return</span> <span class="n">path</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a>    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="amltk.pipeline.node.Node.register_optimization_loop" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">register_optimization_loop</span>


<a href="#amltk.pipeline.node.Node.register_optimization_loop" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">register_optimization_loop</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">target</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>        <span class="n"><a class="autorefs autorefs-internal" title="amltk.scheduling.Task" href="../../scheduling/task/#amltk.scheduling.task.Task">Task</a></span><span class="p">[[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial">Trial</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a></span><span class="p">]</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>        <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a></span><span class="p">[[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial">Trial</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a></span><span class="p">]</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="p">),</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">metric</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.metric.Metric" href="../../../../reference/optimization/trials/#amltk.optimization.metric.Metric">Metric</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence">Sequence</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.metric.Metric" href="../../../../reference/optimization/trials/#amltk.optimization.metric.Metric">Metric</a></span><span class="p">],</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="n">optimizer</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>        <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#type">type</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.optimizer.Optimizer" href="../../optimization/optimizer/#amltk.optimization.optimizer.Optimizer">Optimizer</a></span><span class="p">]</span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.optimizer.Optimizer.CreateSignature" href="../../optimization/optimizer/#amltk.optimization.optimizer.Optimizer.CreateSignature">CreateSignature</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.optimizer.Optimizer" href="../../optimization/optimizer/#amltk.optimization.optimizer.Optimizer">Optimizer</a></span> <span class="o">|</span> <span class="kc">None</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    <span class="n">seed</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.types.Seed" href="../../types/#amltk.types.Seed">Seed</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    <span class="n">max_trials</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    <span class="n">n_workers</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="n">working_dir</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.store.PathBucket" href="../../store/paths/path_bucket/#amltk.store.paths.path_bucket.PathBucket">PathBucket</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    <span class="n">scheduler</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.scheduling.Scheduler" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler">Scheduler</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>    <span class="n">history</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.history.History" href="../../optimization/history/#amltk.optimization.history.History">History</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>    <span class="n">on_begin</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.OnBeginCallbackSignature" href="#amltk.pipeline.node.OnBeginCallbackSignature">OnBeginCallbackSignature</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>    <span class="n">on_trial_exception</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>        <span class="s2">&quot;raise&quot;</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">,</span> <span class="s2">&quot;continue&quot;</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;raise&quot;</span><span class="p">,</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>    <span class="n">plugins</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.scheduling.plugins.Plugin" href="../../scheduling/plugins/plugin/#amltk.scheduling.plugins.plugin.Plugin">Plugin</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Iterable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable">Iterable</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.scheduling.plugins.Plugin" href="../../scheduling/plugins/plugin/#amltk.scheduling.plugins.plugin.Plugin">Plugin</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>    <span class="n">process_memory_limit</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>        <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>    <span class="n">process_walltime_limit</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>        <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>    <span class="n">process_cputime_limit</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>        <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>    <span class="n">threadpool_limit_ctl</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.scheduling.Scheduler" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler">Scheduler</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.scheduling.Task" href="../../scheduling/task/#amltk.scheduling.task.Task">Task</a></span><span class="p">[[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial">Trial</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.history.History" href="../../optimization/history/#amltk.optimization.history.History">History</a></span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Setup a pipeline to be optimized in a loop.</p>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">PARAMETER</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td><code>target</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The function against which to optimize.</p>
<ul>
<li>
<p>If <code>target</code> is a function, then it must take in a
<a class="autorefs autorefs-internal" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial"><code>Trial</code></a> as the first argument
and a <a class="autorefs autorefs-internal" href="#amltk.pipeline.node.Node"><code>Node</code></a> second argument, returning a
<a class="autorefs autorefs-internal" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report"><code>Trial.Report</code></a>. Please refer to
the <a href="../../../../guides/optimization/">optimization guide</a> for more.</p>
</li>
<li>
<p>If <code>target</code> is a <a class="autorefs autorefs-internal" href="../../scheduling/task/#amltk.scheduling.task.Task"><code>Task</code></a>, then
this will be used instead, updating the plugins with any additional
plugins specified.</p>
</li>
</ul>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.scheduling.Task" href="../../scheduling/task/#amltk.scheduling.task.Task">Task</a>[[<a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial">Trial</a>, <a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a>], <a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a>] | <a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a>[[<a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial">Trial</a>, <a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a>], <a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>metric</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The metric(s) that will be passed to <code>optimizer=</code>. These metrics
should align with what is being computed in <code>target=</code>.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.optimization.metric.Metric" href="../../../../reference/optimization/trials/#amltk.optimization.metric.Metric">Metric</a> | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-internal" title="amltk.optimization.metric.Metric" href="../../../../reference/optimization/trials/#amltk.optimization.metric.Metric">Metric</a>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>optimizer</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The optimizer to use. If <code>None</code>, then AMLTK will go through a list
of known optimizers and use the first one it can find which was installed.</p>
<p>Alternatively, this can be a class inheriting from
<a class="autorefs autorefs-internal" href="../../optimization/optimizer/#amltk.optimization.optimizer.Optimizer"><code>Optimizer</code></a> or else
a signature match <a class="autorefs autorefs-internal" href="#amltk.optimization.Optimizer.CreateSignature"><code>Optimizer.CreateSignature</code></a>.</p>
<details class="tip">
<summary><code>Optimizer.CreateSignature</code></summary>


<div class="doc doc-object doc-class">



<h2 id="amltk.optimization.Optimizer.CreateSignature" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>          <span class="doc doc-object-name doc-class-name">amltk.optimization.Optimizer.CreateSignature</span>


<a href="#amltk.optimization.Optimizer.CreateSignature" class="headerlink" title="Permanent link">#</a></h2>


  <div class="doc doc-contents first">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-external" title="typing.Protocol" href="https://docs.python.org/3/library/typing.html#typing.Protocol">Protocol</a></code></p>

  
      <p>A Protocol which defines the keywords required to create an
optimizer with deterministic behavior at a desired location.</p>
<p>This protocol matches the <code>Optimizer.create</code> classmethod, however we also
allow any function which accepts the keyword arguments to create an
Optimizer.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h3 id="amltk.optimization.Optimizer.CreateSignature.__call__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">__call__</span>


<a href="#amltk.optimization.Optimizer.CreateSignature.__call__" class="headerlink" title="Permanent link">#</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="fm">__call__</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="nf">space</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">metrics</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.metric.Metric" href="../../../../reference/optimization/trials/#amltk.optimization.metric.Metric">Metric</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence">Sequence</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.metric.Metric" href="../../../../reference/optimization/trials/#amltk.optimization.metric.Metric">Metric</a></span><span class="p">],</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">bucket</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.store.paths.path_bucket.PathBucket" href="../../store/paths/path_bucket/#amltk.store.paths.path_bucket.PathBucket">PathBucket</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">seed</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.types.Seed" href="../../types/#amltk.types.Seed">Seed</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.optimizer.Optimizer" href="../../optimization/optimizer/#amltk.optimization.optimizer.Optimizer">Optimizer</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>A function which creates an optimizer for node.optimize should
accept the following keyword arguments.</p>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">PARAMETER</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td><code>space</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The node to optimize</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.pipeline.Node" href="#amltk.pipeline.node.Node">Node</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>metrics</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The metrics to optimize</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.optimization.metric.Metric" href="../../../../reference/optimization/trials/#amltk.optimization.metric.Metric">Metric</a> | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-internal" title="amltk.optimization.metric.Metric" href="../../../../reference/optimization/trials/#amltk.optimization.metric.Metric">Metric</a>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>bucket</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The bucket to store the results in</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.store.paths.path_bucket.PathBucket" href="../../store/paths/path_bucket/#amltk.store.paths.path_bucket.PathBucket">PathBucket</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>seed</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The seed to use for the optimization</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.types.Seed" href="../../types/#amltk.types.Seed">Seed</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>src/amltk/optimization/optimizer.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-171" name="__codelineno-0-171"></a><span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>    <span class="n">space</span><span class="p">:</span> <span class="n">Node</span><span class="p">,</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>    <span class="n">metrics</span><span class="p">:</span> <span class="n">Metric</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Metric</span><span class="p">],</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>    <span class="n">bucket</span><span class="p">:</span> <span class="n">PathBucket</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>    <span class="n">seed</span><span class="p">:</span> <span class="n">Seed</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optimizer</span><span class="p">:</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A function which creates an optimizer for node.optimize should</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a><span class="sd">    accept the following keyword arguments.</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a><span class="sd">        space: The node to optimize</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a><span class="sd">        metrics: The metrics to optimize</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a><span class="sd">        bucket: The bucket to store the results in</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a><span class="sd">        seed: The seed to use for the optimization</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div></details>
<p>Lastly, you can also pass in your own already instantiated optimizer if you prefer, however
you should make sure to set it up correctly with the given metrics and search space.
It is recommened to just pass in the class if you are unsure how to do this properly.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#type">type</a>[<a class="autorefs autorefs-internal" title="amltk.optimization.optimizer.Optimizer" href="../../optimization/optimizer/#amltk.optimization.optimizer.Optimizer">Optimizer</a>] | <a class="autorefs autorefs-internal" title="amltk.optimization.optimizer.Optimizer.CreateSignature" href="../../optimization/optimizer/#amltk.optimization.optimizer.Optimizer.CreateSignature">CreateSignature</a> | <a class="autorefs autorefs-internal" title="amltk.optimization.optimizer.Optimizer" href="../../optimization/optimizer/#amltk.optimization.optimizer.Optimizer">Optimizer</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>seed</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>A <a class="autorefs autorefs-internal" href="../../types/#amltk.types.Seed"><code>seed</code></a> for the optimizer to use.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.types.Seed" href="../../types/#amltk.types.Seed">Seed</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>n_workers</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The numer of workers to use to evaluate this pipeline.
If no <code>scheduler=</code> is provided, then one will be created for
you as <a class="autorefs autorefs-internal" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler.with_processes"><code>Scheduler.with_processes(n_workers)</code></a>.
If you provide your own <code>scheduler=</code> then this will limit the maximum
amount of concurrent trials for this pipeline that will be evaluating
at once.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>1</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>working_dir</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>A working directory to use for the optimizer and the trials.
Any items you store in trials will be located in this directory,
where the <a class="autorefs autorefs-internal" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.name"><code>trial.name</code></a> will be
used as a subfolder where any contents stored with
<a class="autorefs autorefs-internal" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.store"><code>trial.store()</code></a> will be put there.
Please see the <a href="../../../../guides/optimization/">optimization guide</a>
for more on trial storage.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a> | <a class="autorefs autorefs-internal" title="amltk.store.PathBucket" href="../../store/paths/path_bucket/#amltk.store.paths.path_bucket.PathBucket">PathBucket</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>scheduler</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The specific <a class="autorefs autorefs-internal" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler"><code>Scheduler</code></a> to use.
If <code>None</code>, then one will be created for you with
<a class="autorefs autorefs-internal" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler.with_processes"><code>Scheduler.with_processes(n_workers)</code></a></p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.scheduling.Scheduler" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler">Scheduler</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>history</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>A <a class="autorefs autorefs-internal" href="../../optimization/history/#amltk.optimization.history.History"><code>History</code></a> to store the
<a class="autorefs autorefs-internal" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report"><code>Trial.Report</code></a>s in. You
may pass in your own if you wish for this method to store
it there instead of creating its own.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.optimization.history.History" href="../../optimization/history/#amltk.optimization.history.History">History</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>on_begin</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>A callback that will be called before the scheduler is run. This
can be used to hook into the life-cycle of the optimization and
perform custom routines. Please see the
<a href="../../../../guides/scheduling/">scheduling guide</a> for more.</p>
<details class="tip">
<summary>on_begin signature</summary>


<div class="doc doc-object doc-class">



<h2 id="amltk.pipeline.node.OnBeginCallbackSignature" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>          <span class="doc doc-object-name doc-class-name">amltk.pipeline.node.OnBeginCallbackSignature</span>


<a href="#amltk.pipeline.node.OnBeginCallbackSignature" class="headerlink" title="Permanent link">#</a></h2>


  <div class="doc doc-contents first">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-external" title="typing.Protocol" href="https://docs.python.org/3/library/typing.html#typing.Protocol">Protocol</a></code></p>

  
      <p>A  calllback to further define control flow from
<a class="autorefs autorefs-internal" href="#amltk.pipeline.node.Node.optimize"><code>pipeline.optimize()</code></a>.</p>
<p>In one of these callbacks, you can register to specific <code>@events</code> of the
<a class="autorefs autorefs-internal" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler"><code>Scheduler</code></a> or <a class="autorefs autorefs-internal" href="../../scheduling/task/#amltk.scheduling.task.Task"><code>Task</code></a>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">pipeline</span> <span class="o">=</span> <span class="o">...</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1"># The callback will get the task, scheduler and the history in which results</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># will be stored</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="k">def</span> <span class="nf">my_callback</span><span class="p">(</span><span class="n">task</span><span class="p">:</span> <span class="n">Task</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">],</span> <span class="n">scheduler</span><span class="p">:</span> <span class="n">Scheduler</span><span class="p">,</span> <span class="n">history</span><span class="p">:</span> <span class="n">History</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="c1"># You can do early stopping based on a target metric</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="nd">@task</span><span class="o">.</span><span class="n">on_result</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="k">def</span> <span class="nf">stop_if_target_reached</span><span class="p">(</span><span class="n">_</span><span class="p">:</span> <span class="n">Future</span><span class="p">,</span> <span class="n">report</span><span class="p">:</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>        <span class="n">score</span> <span class="o">=</span> <span class="n">report</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="s2">&quot;accuracy&quot;</span><span class="p">]</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>        <span class="k">if</span> <span class="n">score</span> <span class="o">&gt;=</span> <span class="mf">0.95</span><span class="p">:</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>            <span class="n">scheduler</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">stop_msg</span><span class="o">=</span><span class="s2">&quot;Target reached!&quot;</span><span class="p">))</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="c1"># You could also perform early stopping based on iterations</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>    <span class="n">last_score</span> <span class="o">=</span> <span class="mf">0.0</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>    <span class="nd">@task</span><span class="o">.</span><span class="n">on_result</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>    <span class="k">def</span> <span class="nf">stop_if_no_improvement_for_n_runs</span><span class="p">(</span><span class="n">_</span><span class="p">:</span> <span class="n">Future</span><span class="p">,</span> <span class="n">report</span><span class="p">:</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>        <span class="n">score</span> <span class="o">=</span> <span class="n">report</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="s2">&quot;accuracy&quot;</span><span class="p">]</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>        <span class="k">if</span> <span class="n">score</span> <span class="o">&gt;</span> <span class="n">last_score</span><span class="p">:</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>            <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>            <span class="n">last_score</span> <span class="o">=</span> <span class="n">score</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>        <span class="k">elif</span> <span class="n">n</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">:</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>            <span class="n">scheduler</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>            <span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>    <span class="c1"># Really whatever you&#39;d like</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>    <span class="nd">@task</span><span class="o">.</span><span class="n">on_result</span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>    <span class="k">def</span> <span class="nf">print_if_choice_made</span><span class="p">(</span><span class="n">_</span><span class="p">:</span> <span class="n">Future</span><span class="p">,</span> <span class="n">report</span><span class="p">:</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>        <span class="k">if</span> <span class="n">report</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;estimator:__choice__&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;random_forest&quot;</span><span class="p">:</span>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;yay&quot;</span><span class="p">)</span>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>    <span class="c1"># Every callback will be called here in the main process so it&#39;s</span>
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>    <span class="c1"># best not to do anything too heavy here.</span>
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a>    <span class="c1"># However you can also submit new tasks or jobs to the scheduler too</span>
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a>    <span class="nd">@task</span><span class="o">.</span><span class="n">on_result</span><span class="p">(</span><span class="n">every</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>  <span class="c1"># Do a cleanup sweep every 30 trials</span>
<a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a>    <span class="k">def</span> <span class="nf">keep_on_ten_best_models_on_disk</span><span class="p">(</span><span class="n">_</span><span class="p">:</span> <span class="n">Future</span><span class="p">,</span> <span class="n">report</span><span class="p">:</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a>        <span class="n">sorted_reports</span> <span class="o">=</span> <span class="n">history</span><span class="o">.</span><span class="n">sortby</span><span class="p">(</span><span class="s2">&quot;accuracy&quot;</span><span class="p">)</span>
<a id="__codelineno-0-41" name="__codelineno-0-41" href="#__codelineno-0-41"></a>        <span class="n">reports_to_cleanup</span> <span class="o">=</span> <span class="n">sorted_reports</span><span class="p">[</span><span class="mi">10</span><span class="p">:]</span>
<a id="__codelineno-0-42" name="__codelineno-0-42" href="#__codelineno-0-42"></a>        <span class="n">scheduler</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">some_cleanup_function</span><span class="p">,</span> <span class="n">reporteds_to_cleanup</span><span class="p">)</span>
<a id="__codelineno-0-43" name="__codelineno-0-43" href="#__codelineno-0-43"></a>
<a id="__codelineno-0-44" name="__codelineno-0-44" href="#__codelineno-0-44"></a><span class="n">history</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">optimize</span><span class="p">(</span>
<a id="__codelineno-0-45" name="__codelineno-0-45" href="#__codelineno-0-45"></a>    <span class="o">...</span><span class="p">,</span>
<a id="__codelineno-0-46" name="__codelineno-0-46" href="#__codelineno-0-46"></a>    <span class="n">on_begin</span><span class="o">=</span><span class="n">my_callback</span><span class="p">,</span>
<a id="__codelineno-0-47" name="__codelineno-0-47" href="#__codelineno-0-47"></a><span class="p">)</span>
</code></pre></div>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h3 id="amltk.pipeline.node.OnBeginCallbackSignature.__call__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">__call__</span>


<a href="#amltk.pipeline.node.OnBeginCallbackSignature.__call__" class="headerlink" title="Permanent link">#</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="fm">__call__</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="nf">task</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.scheduling.Task" href="../../scheduling/task/#amltk.scheduling.task.Task">Task</a></span><span class="p">[[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial">Trial</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a></span><span class="p">],</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n">scheduler</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.scheduling.Scheduler" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler">Scheduler</a></span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">history</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.history.History" href="../../optimization/history/#amltk.optimization.history.History">History</a></span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Signature for the callback.</p>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">PARAMETER</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td><code>task</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The task that will be run</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.scheduling.Task" href="../../scheduling/task/#amltk.scheduling.task.Task">Task</a>[[<a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial">Trial</a>, <a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a>], <a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>scheduler</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The scheduler that will be running the optimization</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.scheduling.Scheduler" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler">Scheduler</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>history</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The history that will be used to collect the results</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.optimization.history.History" href="../../optimization/history/#amltk.optimization.history.History">History</a></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>src/amltk/pipeline/node.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-164" name="__codelineno-0-164"></a><span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>    <span class="n">task</span><span class="p">:</span> <span class="n">Task</span><span class="p">[[</span><span class="n">Trial</span><span class="p">,</span> <span class="n">Node</span><span class="p">],</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">],</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>    <span class="n">scheduler</span><span class="p">:</span> <span class="n">Scheduler</span><span class="p">,</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>    <span class="n">history</span><span class="p">:</span> <span class="n">History</span><span class="p">,</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Signature for the callback.</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a><span class="sd">        task: The task that will be run</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a><span class="sd">        scheduler: The scheduler that will be running the optimization</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a><span class="sd">        history: The history that will be used to collect the results</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div></details>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.pipeline.node.OnBeginCallbackSignature" href="#amltk.pipeline.node.OnBeginCallbackSignature">OnBeginCallbackSignature</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>on_trial_exception</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>What to do when a trial returns a fail report from
<a class="autorefs autorefs-internal" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.fail"><code>trial.fail()</code></a> or
<a class="autorefs autorefs-internal" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.crashed"><code>trial.crashed()</code></a>
that contains an exception.</p>
<p>Please see the <a href="../../../../guides/optimization/">optimization guide</a>
for more. In all cases, the exception will be attached to the
<a class="autorefs autorefs-internal" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report"><code>Trial.Report</code></a> object under
<a class="autorefs autorefs-internal" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report.exception"><code>report.exception</code></a>.</p>
<ul>
<li>If <code class="highlight"><span class="s2">&quot;raise&quot;</span></code>, then the exception will be raised
immediatly and the optimization process will halt. The default
and good for initial development.</li>
<li>If <code class="highlight"><span class="s2">&quot;end&quot;</span></code>, then the exception will be caught and
the optimization process will end gracefully.</li>
<li>If <code class="highlight"><span class="s2">&quot;continue&quot;</span></code>, the exception will be ignored and
the optimization procedure will continue.</li>
</ul>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;raise&#39;, &#39;end&#39;, &#39;continue&#39;]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>&#39;raise&#39;</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>max_trials</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The maximum number of trials to run. If <code>None</code>, then the
optimization will continue for as long as the scheduler is
running. You'll likely want to configure this.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>process_memory_limit</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>If specified, the <a class="autorefs autorefs-internal" href="../../scheduling/task/#amltk.scheduling.task.Task"><code>Task</code></a> will
use the
<a class="autorefs autorefs-internal" href="../../scheduling/plugins/pynisher/#amltk.scheduling.plugins.pynisher.PynisherPlugin"><code>PynisherPlugin</code></a>
to limit the memory the process can use. Please
refer to the
<a href="../../../../reference/scheduling/plugins/#pynisher">plugins <code>pynisher</code> reference</a>
for more as there are platform limitations and additional
dependancies required.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>] | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>process_walltime_limit</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>If specified, the <a class="autorefs autorefs-internal" href="../../scheduling/task/#amltk.scheduling.task.Task"><code>Task</code></a> will
use the
<a class="autorefs autorefs-internal" href="../../scheduling/plugins/pynisher/#amltk.scheduling.plugins.pynisher.PynisherPlugin"><code>PynisherPlugin</code></a>
to limit the wall time the process can use. Please
refer to the
<a href="../../../../reference/scheduling/plugins/#pynisher">plugins <code>pynisher</code> reference</a>
for more as there are platform limitations and additional
dependancies required.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>] | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>process_cputime_limit</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>If specified, the <a class="autorefs autorefs-internal" href="../../scheduling/task/#amltk.scheduling.task.Task"><code>Task</code></a> will
use the
<a class="autorefs autorefs-internal" href="../../scheduling/plugins/pynisher/#amltk.scheduling.plugins.pynisher.PynisherPlugin"><code>PynisherPlugin</code></a>
to limit the cputime the process can use. Please
refer to the
<a href="../../../../reference/scheduling/plugins/#pynisher">plugins <code>pynisher</code> reference</a>
for more as there are platform limitations and additional
dependancies required.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>] | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>threadpool_limit_ctl</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>If specified, the <a class="autorefs autorefs-internal" href="../../scheduling/task/#amltk.scheduling.task.Task"><code>Task</code></a> will
use the
<a class="autorefs autorefs-internal" href="../../scheduling/plugins/threadpoolctl/#amltk.scheduling.plugins.threadpoolctl.ThreadPoolCTLPlugin"><code>ThreadPoolCTLPlugin</code></a>
to limit the number of threads used by compliant libraries.
<strong>Notably</strong>, this includes scikit-learn, for which running multiple
in parallel can be problematic if not adjusted accordingly.</p>
<p>The default behavior (when <code>None</code>) is to auto-detect whether this
is applicable. This is done by checking if <code>sklearn</code> is installed
and if the first node in the pipeline has a <code>BaseEstimator</code> item.
Please set this to <code>True</code>/<code>False</code> depending on your preference.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>plugins</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>Additional plugins to attach to the eventual
<a class="autorefs autorefs-internal" href="../../scheduling/task/#amltk.scheduling.task.Task"><code>Task</code></a> that will be executed by
the <a class="autorefs autorefs-internal" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler"><code>Scheduler</code></a>. Please
refer to the
<a href="../../../../reference/scheduling/plugins/">plugins reference</a> for more.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.scheduling.plugins.Plugin" href="../../scheduling/plugins/plugin/#amltk.scheduling.plugins.plugin.Plugin">Plugin</a> | <a class="autorefs autorefs-external" title="collections.abc.Iterable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable">Iterable</a>[<a class="autorefs autorefs-internal" title="amltk.scheduling.plugins.Plugin" href="../../scheduling/plugins/plugin/#amltk.scheduling.plugins.plugin.Plugin">Plugin</a>] | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">RETURNS</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td>
              <span class="doc-returns-annotation">
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>[<a class="autorefs autorefs-internal" title="amltk.scheduling.Scheduler" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler">Scheduler</a>, <a class="autorefs autorefs-internal" title="amltk.scheduling.Task" href="../../scheduling/task/#amltk.scheduling.task.Task">Task</a>[[<a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial">Trial</a>, <a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a>], <a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a>], <a class="autorefs autorefs-internal" title="amltk.optimization.history.History" href="../../optimization/history/#amltk.optimization.history.History">History</a>]</code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>A tuple of the <a class="autorefs autorefs-internal" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler"><code>Scheduler</code></a>, the
<a class="autorefs autorefs-internal" href="../../scheduling/task/#amltk.scheduling.task.Task"><code>Task</code></a> and the
<a class="autorefs autorefs-internal" href="../../optimization/history/#amltk.optimization.history.History"><code>History</code></a> that reports will be put into.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>src/amltk/pipeline/node.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-920"> 920</a></span>
<span class="normal"><a href="#__codelineno-0-921"> 921</a></span>
<span class="normal"><a href="#__codelineno-0-922"> 922</a></span>
<span class="normal"><a href="#__codelineno-0-923"> 923</a></span>
<span class="normal"><a href="#__codelineno-0-924"> 924</a></span>
<span class="normal"><a href="#__codelineno-0-925"> 925</a></span>
<span class="normal"><a href="#__codelineno-0-926"> 926</a></span>
<span class="normal"><a href="#__codelineno-0-927"> 927</a></span>
<span class="normal"><a href="#__codelineno-0-928"> 928</a></span>
<span class="normal"><a href="#__codelineno-0-929"> 929</a></span>
<span class="normal"><a href="#__codelineno-0-930"> 930</a></span>
<span class="normal"><a href="#__codelineno-0-931"> 931</a></span>
<span class="normal"><a href="#__codelineno-0-932"> 932</a></span>
<span class="normal"><a href="#__codelineno-0-933"> 933</a></span>
<span class="normal"><a href="#__codelineno-0-934"> 934</a></span>
<span class="normal"><a href="#__codelineno-0-935"> 935</a></span>
<span class="normal"><a href="#__codelineno-0-936"> 936</a></span>
<span class="normal"><a href="#__codelineno-0-937"> 937</a></span>
<span class="normal"><a href="#__codelineno-0-938"> 938</a></span>
<span class="normal"><a href="#__codelineno-0-939"> 939</a></span>
<span class="normal"><a href="#__codelineno-0-940"> 940</a></span>
<span class="normal"><a href="#__codelineno-0-941"> 941</a></span>
<span class="normal"><a href="#__codelineno-0-942"> 942</a></span>
<span class="normal"><a href="#__codelineno-0-943"> 943</a></span>
<span class="normal"><a href="#__codelineno-0-944"> 944</a></span>
<span class="normal"><a href="#__codelineno-0-945"> 945</a></span>
<span class="normal"><a href="#__codelineno-0-946"> 946</a></span>
<span class="normal"><a href="#__codelineno-0-947"> 947</a></span>
<span class="normal"><a href="#__codelineno-0-948"> 948</a></span>
<span class="normal"><a href="#__codelineno-0-949"> 949</a></span>
<span class="normal"><a href="#__codelineno-0-950"> 950</a></span>
<span class="normal"><a href="#__codelineno-0-951"> 951</a></span>
<span class="normal"><a href="#__codelineno-0-952"> 952</a></span>
<span class="normal"><a href="#__codelineno-0-953"> 953</a></span>
<span class="normal"><a href="#__codelineno-0-954"> 954</a></span>
<span class="normal"><a href="#__codelineno-0-955"> 955</a></span>
<span class="normal"><a href="#__codelineno-0-956"> 956</a></span>
<span class="normal"><a href="#__codelineno-0-957"> 957</a></span>
<span class="normal"><a href="#__codelineno-0-958"> 958</a></span>
<span class="normal"><a href="#__codelineno-0-959"> 959</a></span>
<span class="normal"><a href="#__codelineno-0-960"> 960</a></span>
<span class="normal"><a href="#__codelineno-0-961"> 961</a></span>
<span class="normal"><a href="#__codelineno-0-962"> 962</a></span>
<span class="normal"><a href="#__codelineno-0-963"> 963</a></span>
<span class="normal"><a href="#__codelineno-0-964"> 964</a></span>
<span class="normal"><a href="#__codelineno-0-965"> 965</a></span>
<span class="normal"><a href="#__codelineno-0-966"> 966</a></span>
<span class="normal"><a href="#__codelineno-0-967"> 967</a></span>
<span class="normal"><a href="#__codelineno-0-968"> 968</a></span>
<span class="normal"><a href="#__codelineno-0-969"> 969</a></span>
<span class="normal"><a href="#__codelineno-0-970"> 970</a></span>
<span class="normal"><a href="#__codelineno-0-971"> 971</a></span>
<span class="normal"><a href="#__codelineno-0-972"> 972</a></span>
<span class="normal"><a href="#__codelineno-0-973"> 973</a></span>
<span class="normal"><a href="#__codelineno-0-974"> 974</a></span>
<span class="normal"><a href="#__codelineno-0-975"> 975</a></span>
<span class="normal"><a href="#__codelineno-0-976"> 976</a></span>
<span class="normal"><a href="#__codelineno-0-977"> 977</a></span>
<span class="normal"><a href="#__codelineno-0-978"> 978</a></span>
<span class="normal"><a href="#__codelineno-0-979"> 979</a></span>
<span class="normal"><a href="#__codelineno-0-980"> 980</a></span>
<span class="normal"><a href="#__codelineno-0-981"> 981</a></span>
<span class="normal"><a href="#__codelineno-0-982"> 982</a></span>
<span class="normal"><a href="#__codelineno-0-983"> 983</a></span>
<span class="normal"><a href="#__codelineno-0-984"> 984</a></span>
<span class="normal"><a href="#__codelineno-0-985"> 985</a></span>
<span class="normal"><a href="#__codelineno-0-986"> 986</a></span>
<span class="normal"><a href="#__codelineno-0-987"> 987</a></span>
<span class="normal"><a href="#__codelineno-0-988"> 988</a></span>
<span class="normal"><a href="#__codelineno-0-989"> 989</a></span>
<span class="normal"><a href="#__codelineno-0-990"> 990</a></span>
<span class="normal"><a href="#__codelineno-0-991"> 991</a></span>
<span class="normal"><a href="#__codelineno-0-992"> 992</a></span>
<span class="normal"><a href="#__codelineno-0-993"> 993</a></span>
<span class="normal"><a href="#__codelineno-0-994"> 994</a></span>
<span class="normal"><a href="#__codelineno-0-995"> 995</a></span>
<span class="normal"><a href="#__codelineno-0-996"> 996</a></span>
<span class="normal"><a href="#__codelineno-0-997"> 997</a></span>
<span class="normal"><a href="#__codelineno-0-998"> 998</a></span>
<span class="normal"><a href="#__codelineno-0-999"> 999</a></span>
<span class="normal"><a href="#__codelineno-0-1000">1000</a></span>
<span class="normal"><a href="#__codelineno-0-1001">1001</a></span>
<span class="normal"><a href="#__codelineno-0-1002">1002</a></span>
<span class="normal"><a href="#__codelineno-0-1003">1003</a></span>
<span class="normal"><a href="#__codelineno-0-1004">1004</a></span>
<span class="normal"><a href="#__codelineno-0-1005">1005</a></span>
<span class="normal"><a href="#__codelineno-0-1006">1006</a></span>
<span class="normal"><a href="#__codelineno-0-1007">1007</a></span>
<span class="normal"><a href="#__codelineno-0-1008">1008</a></span>
<span class="normal"><a href="#__codelineno-0-1009">1009</a></span>
<span class="normal"><a href="#__codelineno-0-1010">1010</a></span>
<span class="normal"><a href="#__codelineno-0-1011">1011</a></span>
<span class="normal"><a href="#__codelineno-0-1012">1012</a></span>
<span class="normal"><a href="#__codelineno-0-1013">1013</a></span>
<span class="normal"><a href="#__codelineno-0-1014">1014</a></span>
<span class="normal"><a href="#__codelineno-0-1015">1015</a></span>
<span class="normal"><a href="#__codelineno-0-1016">1016</a></span>
<span class="normal"><a href="#__codelineno-0-1017">1017</a></span>
<span class="normal"><a href="#__codelineno-0-1018">1018</a></span>
<span class="normal"><a href="#__codelineno-0-1019">1019</a></span>
<span class="normal"><a href="#__codelineno-0-1020">1020</a></span>
<span class="normal"><a href="#__codelineno-0-1021">1021</a></span>
<span class="normal"><a href="#__codelineno-0-1022">1022</a></span>
<span class="normal"><a href="#__codelineno-0-1023">1023</a></span>
<span class="normal"><a href="#__codelineno-0-1024">1024</a></span>
<span class="normal"><a href="#__codelineno-0-1025">1025</a></span>
<span class="normal"><a href="#__codelineno-0-1026">1026</a></span>
<span class="normal"><a href="#__codelineno-0-1027">1027</a></span>
<span class="normal"><a href="#__codelineno-0-1028">1028</a></span>
<span class="normal"><a href="#__codelineno-0-1029">1029</a></span>
<span class="normal"><a href="#__codelineno-0-1030">1030</a></span>
<span class="normal"><a href="#__codelineno-0-1031">1031</a></span>
<span class="normal"><a href="#__codelineno-0-1032">1032</a></span>
<span class="normal"><a href="#__codelineno-0-1033">1033</a></span>
<span class="normal"><a href="#__codelineno-0-1034">1034</a></span>
<span class="normal"><a href="#__codelineno-0-1035">1035</a></span>
<span class="normal"><a href="#__codelineno-0-1036">1036</a></span>
<span class="normal"><a href="#__codelineno-0-1037">1037</a></span>
<span class="normal"><a href="#__codelineno-0-1038">1038</a></span>
<span class="normal"><a href="#__codelineno-0-1039">1039</a></span>
<span class="normal"><a href="#__codelineno-0-1040">1040</a></span>
<span class="normal"><a href="#__codelineno-0-1041">1041</a></span>
<span class="normal"><a href="#__codelineno-0-1042">1042</a></span>
<span class="normal"><a href="#__codelineno-0-1043">1043</a></span>
<span class="normal"><a href="#__codelineno-0-1044">1044</a></span>
<span class="normal"><a href="#__codelineno-0-1045">1045</a></span>
<span class="normal"><a href="#__codelineno-0-1046">1046</a></span>
<span class="normal"><a href="#__codelineno-0-1047">1047</a></span>
<span class="normal"><a href="#__codelineno-0-1048">1048</a></span>
<span class="normal"><a href="#__codelineno-0-1049">1049</a></span>
<span class="normal"><a href="#__codelineno-0-1050">1050</a></span>
<span class="normal"><a href="#__codelineno-0-1051">1051</a></span>
<span class="normal"><a href="#__codelineno-0-1052">1052</a></span>
<span class="normal"><a href="#__codelineno-0-1053">1053</a></span>
<span class="normal"><a href="#__codelineno-0-1054">1054</a></span>
<span class="normal"><a href="#__codelineno-0-1055">1055</a></span>
<span class="normal"><a href="#__codelineno-0-1056">1056</a></span>
<span class="normal"><a href="#__codelineno-0-1057">1057</a></span>
<span class="normal"><a href="#__codelineno-0-1058">1058</a></span>
<span class="normal"><a href="#__codelineno-0-1059">1059</a></span>
<span class="normal"><a href="#__codelineno-0-1060">1060</a></span>
<span class="normal"><a href="#__codelineno-0-1061">1061</a></span>
<span class="normal"><a href="#__codelineno-0-1062">1062</a></span>
<span class="normal"><a href="#__codelineno-0-1063">1063</a></span>
<span class="normal"><a href="#__codelineno-0-1064">1064</a></span>
<span class="normal"><a href="#__codelineno-0-1065">1065</a></span>
<span class="normal"><a href="#__codelineno-0-1066">1066</a></span>
<span class="normal"><a href="#__codelineno-0-1067">1067</a></span>
<span class="normal"><a href="#__codelineno-0-1068">1068</a></span>
<span class="normal"><a href="#__codelineno-0-1069">1069</a></span>
<span class="normal"><a href="#__codelineno-0-1070">1070</a></span>
<span class="normal"><a href="#__codelineno-0-1071">1071</a></span>
<span class="normal"><a href="#__codelineno-0-1072">1072</a></span>
<span class="normal"><a href="#__codelineno-0-1073">1073</a></span>
<span class="normal"><a href="#__codelineno-0-1074">1074</a></span>
<span class="normal"><a href="#__codelineno-0-1075">1075</a></span>
<span class="normal"><a href="#__codelineno-0-1076">1076</a></span>
<span class="normal"><a href="#__codelineno-0-1077">1077</a></span>
<span class="normal"><a href="#__codelineno-0-1078">1078</a></span>
<span class="normal"><a href="#__codelineno-0-1079">1079</a></span>
<span class="normal"><a href="#__codelineno-0-1080">1080</a></span>
<span class="normal"><a href="#__codelineno-0-1081">1081</a></span>
<span class="normal"><a href="#__codelineno-0-1082">1082</a></span>
<span class="normal"><a href="#__codelineno-0-1083">1083</a></span>
<span class="normal"><a href="#__codelineno-0-1084">1084</a></span>
<span class="normal"><a href="#__codelineno-0-1085">1085</a></span>
<span class="normal"><a href="#__codelineno-0-1086">1086</a></span>
<span class="normal"><a href="#__codelineno-0-1087">1087</a></span>
<span class="normal"><a href="#__codelineno-0-1088">1088</a></span>
<span class="normal"><a href="#__codelineno-0-1089">1089</a></span>
<span class="normal"><a href="#__codelineno-0-1090">1090</a></span>
<span class="normal"><a href="#__codelineno-0-1091">1091</a></span>
<span class="normal"><a href="#__codelineno-0-1092">1092</a></span>
<span class="normal"><a href="#__codelineno-0-1093">1093</a></span>
<span class="normal"><a href="#__codelineno-0-1094">1094</a></span>
<span class="normal"><a href="#__codelineno-0-1095">1095</a></span>
<span class="normal"><a href="#__codelineno-0-1096">1096</a></span>
<span class="normal"><a href="#__codelineno-0-1097">1097</a></span>
<span class="normal"><a href="#__codelineno-0-1098">1098</a></span>
<span class="normal"><a href="#__codelineno-0-1099">1099</a></span>
<span class="normal"><a href="#__codelineno-0-1100">1100</a></span>
<span class="normal"><a href="#__codelineno-0-1101">1101</a></span>
<span class="normal"><a href="#__codelineno-0-1102">1102</a></span>
<span class="normal"><a href="#__codelineno-0-1103">1103</a></span>
<span class="normal"><a href="#__codelineno-0-1104">1104</a></span>
<span class="normal"><a href="#__codelineno-0-1105">1105</a></span>
<span class="normal"><a href="#__codelineno-0-1106">1106</a></span>
<span class="normal"><a href="#__codelineno-0-1107">1107</a></span>
<span class="normal"><a href="#__codelineno-0-1108">1108</a></span>
<span class="normal"><a href="#__codelineno-0-1109">1109</a></span>
<span class="normal"><a href="#__codelineno-0-1110">1110</a></span>
<span class="normal"><a href="#__codelineno-0-1111">1111</a></span>
<span class="normal"><a href="#__codelineno-0-1112">1112</a></span>
<span class="normal"><a href="#__codelineno-0-1113">1113</a></span>
<span class="normal"><a href="#__codelineno-0-1114">1114</a></span>
<span class="normal"><a href="#__codelineno-0-1115">1115</a></span>
<span class="normal"><a href="#__codelineno-0-1116">1116</a></span>
<span class="normal"><a href="#__codelineno-0-1117">1117</a></span>
<span class="normal"><a href="#__codelineno-0-1118">1118</a></span>
<span class="normal"><a href="#__codelineno-0-1119">1119</a></span>
<span class="normal"><a href="#__codelineno-0-1120">1120</a></span>
<span class="normal"><a href="#__codelineno-0-1121">1121</a></span>
<span class="normal"><a href="#__codelineno-0-1122">1122</a></span>
<span class="normal"><a href="#__codelineno-0-1123">1123</a></span>
<span class="normal"><a href="#__codelineno-0-1124">1124</a></span>
<span class="normal"><a href="#__codelineno-0-1125">1125</a></span>
<span class="normal"><a href="#__codelineno-0-1126">1126</a></span>
<span class="normal"><a href="#__codelineno-0-1127">1127</a></span>
<span class="normal"><a href="#__codelineno-0-1128">1128</a></span>
<span class="normal"><a href="#__codelineno-0-1129">1129</a></span>
<span class="normal"><a href="#__codelineno-0-1130">1130</a></span>
<span class="normal"><a href="#__codelineno-0-1131">1131</a></span>
<span class="normal"><a href="#__codelineno-0-1132">1132</a></span>
<span class="normal"><a href="#__codelineno-0-1133">1133</a></span>
<span class="normal"><a href="#__codelineno-0-1134">1134</a></span>
<span class="normal"><a href="#__codelineno-0-1135">1135</a></span>
<span class="normal"><a href="#__codelineno-0-1136">1136</a></span>
<span class="normal"><a href="#__codelineno-0-1137">1137</a></span>
<span class="normal"><a href="#__codelineno-0-1138">1138</a></span>
<span class="normal"><a href="#__codelineno-0-1139">1139</a></span>
<span class="normal"><a href="#__codelineno-0-1140">1140</a></span>
<span class="normal"><a href="#__codelineno-0-1141">1141</a></span>
<span class="normal"><a href="#__codelineno-0-1142">1142</a></span>
<span class="normal"><a href="#__codelineno-0-1143">1143</a></span>
<span class="normal"><a href="#__codelineno-0-1144">1144</a></span>
<span class="normal"><a href="#__codelineno-0-1145">1145</a></span>
<span class="normal"><a href="#__codelineno-0-1146">1146</a></span>
<span class="normal"><a href="#__codelineno-0-1147">1147</a></span>
<span class="normal"><a href="#__codelineno-0-1148">1148</a></span>
<span class="normal"><a href="#__codelineno-0-1149">1149</a></span>
<span class="normal"><a href="#__codelineno-0-1150">1150</a></span>
<span class="normal"><a href="#__codelineno-0-1151">1151</a></span>
<span class="normal"><a href="#__codelineno-0-1152">1152</a></span>
<span class="normal"><a href="#__codelineno-0-1153">1153</a></span>
<span class="normal"><a href="#__codelineno-0-1154">1154</a></span>
<span class="normal"><a href="#__codelineno-0-1155">1155</a></span>
<span class="normal"><a href="#__codelineno-0-1156">1156</a></span>
<span class="normal"><a href="#__codelineno-0-1157">1157</a></span>
<span class="normal"><a href="#__codelineno-0-1158">1158</a></span>
<span class="normal"><a href="#__codelineno-0-1159">1159</a></span>
<span class="normal"><a href="#__codelineno-0-1160">1160</a></span>
<span class="normal"><a href="#__codelineno-0-1161">1161</a></span>
<span class="normal"><a href="#__codelineno-0-1162">1162</a></span>
<span class="normal"><a href="#__codelineno-0-1163">1163</a></span>
<span class="normal"><a href="#__codelineno-0-1164">1164</a></span>
<span class="normal"><a href="#__codelineno-0-1165">1165</a></span>
<span class="normal"><a href="#__codelineno-0-1166">1166</a></span>
<span class="normal"><a href="#__codelineno-0-1167">1167</a></span>
<span class="normal"><a href="#__codelineno-0-1168">1168</a></span>
<span class="normal"><a href="#__codelineno-0-1169">1169</a></span>
<span class="normal"><a href="#__codelineno-0-1170">1170</a></span>
<span class="normal"><a href="#__codelineno-0-1171">1171</a></span>
<span class="normal"><a href="#__codelineno-0-1172">1172</a></span>
<span class="normal"><a href="#__codelineno-0-1173">1173</a></span>
<span class="normal"><a href="#__codelineno-0-1174">1174</a></span>
<span class="normal"><a href="#__codelineno-0-1175">1175</a></span>
<span class="normal"><a href="#__codelineno-0-1176">1176</a></span>
<span class="normal"><a href="#__codelineno-0-1177">1177</a></span>
<span class="normal"><a href="#__codelineno-0-1178">1178</a></span>
<span class="normal"><a href="#__codelineno-0-1179">1179</a></span>
<span class="normal"><a href="#__codelineno-0-1180">1180</a></span>
<span class="normal"><a href="#__codelineno-0-1181">1181</a></span>
<span class="normal"><a href="#__codelineno-0-1182">1182</a></span>
<span class="normal"><a href="#__codelineno-0-1183">1183</a></span>
<span class="normal"><a href="#__codelineno-0-1184">1184</a></span>
<span class="normal"><a href="#__codelineno-0-1185">1185</a></span>
<span class="normal"><a href="#__codelineno-0-1186">1186</a></span>
<span class="normal"><a href="#__codelineno-0-1187">1187</a></span>
<span class="normal"><a href="#__codelineno-0-1188">1188</a></span>
<span class="normal"><a href="#__codelineno-0-1189">1189</a></span>
<span class="normal"><a href="#__codelineno-0-1190">1190</a></span>
<span class="normal"><a href="#__codelineno-0-1191">1191</a></span>
<span class="normal"><a href="#__codelineno-0-1192">1192</a></span>
<span class="normal"><a href="#__codelineno-0-1193">1193</a></span>
<span class="normal"><a href="#__codelineno-0-1194">1194</a></span>
<span class="normal"><a href="#__codelineno-0-1195">1195</a></span>
<span class="normal"><a href="#__codelineno-0-1196">1196</a></span>
<span class="normal"><a href="#__codelineno-0-1197">1197</a></span>
<span class="normal"><a href="#__codelineno-0-1198">1198</a></span>
<span class="normal"><a href="#__codelineno-0-1199">1199</a></span>
<span class="normal"><a href="#__codelineno-0-1200">1200</a></span>
<span class="normal"><a href="#__codelineno-0-1201">1201</a></span>
<span class="normal"><a href="#__codelineno-0-1202">1202</a></span>
<span class="normal"><a href="#__codelineno-0-1203">1203</a></span>
<span class="normal"><a href="#__codelineno-0-1204">1204</a></span>
<span class="normal"><a href="#__codelineno-0-1205">1205</a></span>
<span class="normal"><a href="#__codelineno-0-1206">1206</a></span>
<span class="normal"><a href="#__codelineno-0-1207">1207</a></span>
<span class="normal"><a href="#__codelineno-0-1208">1208</a></span>
<span class="normal"><a href="#__codelineno-0-1209">1209</a></span>
<span class="normal"><a href="#__codelineno-0-1210">1210</a></span>
<span class="normal"><a href="#__codelineno-0-1211">1211</a></span>
<span class="normal"><a href="#__codelineno-0-1212">1212</a></span>
<span class="normal"><a href="#__codelineno-0-1213">1213</a></span>
<span class="normal"><a href="#__codelineno-0-1214">1214</a></span>
<span class="normal"><a href="#__codelineno-0-1215">1215</a></span>
<span class="normal"><a href="#__codelineno-0-1216">1216</a></span>
<span class="normal"><a href="#__codelineno-0-1217">1217</a></span>
<span class="normal"><a href="#__codelineno-0-1218">1218</a></span>
<span class="normal"><a href="#__codelineno-0-1219">1219</a></span>
<span class="normal"><a href="#__codelineno-0-1220">1220</a></span>
<span class="normal"><a href="#__codelineno-0-1221">1221</a></span>
<span class="normal"><a href="#__codelineno-0-1222">1222</a></span>
<span class="normal"><a href="#__codelineno-0-1223">1223</a></span>
<span class="normal"><a href="#__codelineno-0-1224">1224</a></span>
<span class="normal"><a href="#__codelineno-0-1225">1225</a></span>
<span class="normal"><a href="#__codelineno-0-1226">1226</a></span>
<span class="normal"><a href="#__codelineno-0-1227">1227</a></span>
<span class="normal"><a href="#__codelineno-0-1228">1228</a></span>
<span class="normal"><a href="#__codelineno-0-1229">1229</a></span>
<span class="normal"><a href="#__codelineno-0-1230">1230</a></span>
<span class="normal"><a href="#__codelineno-0-1231">1231</a></span>
<span class="normal"><a href="#__codelineno-0-1232">1232</a></span>
<span class="normal"><a href="#__codelineno-0-1233">1233</a></span>
<span class="normal"><a href="#__codelineno-0-1234">1234</a></span>
<span class="normal"><a href="#__codelineno-0-1235">1235</a></span>
<span class="normal"><a href="#__codelineno-0-1236">1236</a></span>
<span class="normal"><a href="#__codelineno-0-1237">1237</a></span>
<span class="normal"><a href="#__codelineno-0-1238">1238</a></span>
<span class="normal"><a href="#__codelineno-0-1239">1239</a></span>
<span class="normal"><a href="#__codelineno-0-1240">1240</a></span>
<span class="normal"><a href="#__codelineno-0-1241">1241</a></span>
<span class="normal"><a href="#__codelineno-0-1242">1242</a></span>
<span class="normal"><a href="#__codelineno-0-1243">1243</a></span>
<span class="normal"><a href="#__codelineno-0-1244">1244</a></span>
<span class="normal"><a href="#__codelineno-0-1245">1245</a></span>
<span class="normal"><a href="#__codelineno-0-1246">1246</a></span>
<span class="normal"><a href="#__codelineno-0-1247">1247</a></span>
<span class="normal"><a href="#__codelineno-0-1248">1248</a></span>
<span class="normal"><a href="#__codelineno-0-1249">1249</a></span>
<span class="normal"><a href="#__codelineno-0-1250">1250</a></span>
<span class="normal"><a href="#__codelineno-0-1251">1251</a></span>
<span class="normal"><a href="#__codelineno-0-1252">1252</a></span>
<span class="normal"><a href="#__codelineno-0-1253">1253</a></span>
<span class="normal"><a href="#__codelineno-0-1254">1254</a></span>
<span class="normal"><a href="#__codelineno-0-1255">1255</a></span>
<span class="normal"><a href="#__codelineno-0-1256">1256</a></span>
<span class="normal"><a href="#__codelineno-0-1257">1257</a></span>
<span class="normal"><a href="#__codelineno-0-1258">1258</a></span>
<span class="normal"><a href="#__codelineno-0-1259">1259</a></span>
<span class="normal"><a href="#__codelineno-0-1260">1260</a></span>
<span class="normal"><a href="#__codelineno-0-1261">1261</a></span>
<span class="normal"><a href="#__codelineno-0-1262">1262</a></span>
<span class="normal"><a href="#__codelineno-0-1263">1263</a></span>
<span class="normal"><a href="#__codelineno-0-1264">1264</a></span>
<span class="normal"><a href="#__codelineno-0-1265">1265</a></span>
<span class="normal"><a href="#__codelineno-0-1266">1266</a></span>
<span class="normal"><a href="#__codelineno-0-1267">1267</a></span>
<span class="normal"><a href="#__codelineno-0-1268">1268</a></span>
<span class="normal"><a href="#__codelineno-0-1269">1269</a></span>
<span class="normal"><a href="#__codelineno-0-1270">1270</a></span>
<span class="normal"><a href="#__codelineno-0-1271">1271</a></span>
<span class="normal"><a href="#__codelineno-0-1272">1272</a></span>
<span class="normal"><a href="#__codelineno-0-1273">1273</a></span>
<span class="normal"><a href="#__codelineno-0-1274">1274</a></span>
<span class="normal"><a href="#__codelineno-0-1275">1275</a></span>
<span class="normal"><a href="#__codelineno-0-1276">1276</a></span>
<span class="normal"><a href="#__codelineno-0-1277">1277</a></span>
<span class="normal"><a href="#__codelineno-0-1278">1278</a></span>
<span class="normal"><a href="#__codelineno-0-1279">1279</a></span>
<span class="normal"><a href="#__codelineno-0-1280">1280</a></span>
<span class="normal"><a href="#__codelineno-0-1281">1281</a></span>
<span class="normal"><a href="#__codelineno-0-1282">1282</a></span>
<span class="normal"><a href="#__codelineno-0-1283">1283</a></span>
<span class="normal"><a href="#__codelineno-0-1284">1284</a></span>
<span class="normal"><a href="#__codelineno-0-1285">1285</a></span>
<span class="normal"><a href="#__codelineno-0-1286">1286</a></span>
<span class="normal"><a href="#__codelineno-0-1287">1287</a></span>
<span class="normal"><a href="#__codelineno-0-1288">1288</a></span>
<span class="normal"><a href="#__codelineno-0-1289">1289</a></span>
<span class="normal"><a href="#__codelineno-0-1290">1290</a></span>
<span class="normal"><a href="#__codelineno-0-1291">1291</a></span>
<span class="normal"><a href="#__codelineno-0-1292">1292</a></span>
<span class="normal"><a href="#__codelineno-0-1293">1293</a></span>
<span class="normal"><a href="#__codelineno-0-1294">1294</a></span>
<span class="normal"><a href="#__codelineno-0-1295">1295</a></span>
<span class="normal"><a href="#__codelineno-0-1296">1296</a></span>
<span class="normal"><a href="#__codelineno-0-1297">1297</a></span>
<span class="normal"><a href="#__codelineno-0-1298">1298</a></span>
<span class="normal"><a href="#__codelineno-0-1299">1299</a></span>
<span class="normal"><a href="#__codelineno-0-1300">1300</a></span>
<span class="normal"><a href="#__codelineno-0-1301">1301</a></span>
<span class="normal"><a href="#__codelineno-0-1302">1302</a></span>
<span class="normal"><a href="#__codelineno-0-1303">1303</a></span>
<span class="normal"><a href="#__codelineno-0-1304">1304</a></span>
<span class="normal"><a href="#__codelineno-0-1305">1305</a></span>
<span class="normal"><a href="#__codelineno-0-1306">1306</a></span>
<span class="normal"><a href="#__codelineno-0-1307">1307</a></span>
<span class="normal"><a href="#__codelineno-0-1308">1308</a></span>
<span class="normal"><a href="#__codelineno-0-1309">1309</a></span>
<span class="normal"><a href="#__codelineno-0-1310">1310</a></span>
<span class="normal"><a href="#__codelineno-0-1311">1311</a></span>
<span class="normal"><a href="#__codelineno-0-1312">1312</a></span>
<span class="normal"><a href="#__codelineno-0-1313">1313</a></span>
<span class="normal"><a href="#__codelineno-0-1314">1314</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-920" name="__codelineno-0-920"></a><span class="k">def</span> <span class="nf">register_optimization_loop</span><span class="p">(</span>  <span class="c1"># noqa: C901, PLR0915, PLR0912</span>
<a id="__codelineno-0-921" name="__codelineno-0-921"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-922" name="__codelineno-0-922"></a>    <span class="n">target</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-923" name="__codelineno-0-923"></a>        <span class="n">Task</span><span class="p">[[</span><span class="n">Trial</span><span class="p">,</span> <span class="n">Node</span><span class="p">],</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">]</span> <span class="o">|</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Trial</span><span class="p">,</span> <span class="n">Node</span><span class="p">],</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">]</span>
<a id="__codelineno-0-924" name="__codelineno-0-924"></a>    <span class="p">),</span>
<a id="__codelineno-0-925" name="__codelineno-0-925"></a>    <span class="n">metric</span><span class="p">:</span> <span class="n">Metric</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Metric</span><span class="p">],</span>
<a id="__codelineno-0-926" name="__codelineno-0-926"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-927" name="__codelineno-0-927"></a>    <span class="n">optimizer</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-928" name="__codelineno-0-928"></a>        <span class="nb">type</span><span class="p">[</span><span class="n">Optimizer</span><span class="p">]</span> <span class="o">|</span> <span class="n">Optimizer</span><span class="o">.</span><span class="n">CreateSignature</span> <span class="o">|</span> <span class="n">Optimizer</span> <span class="o">|</span> <span class="kc">None</span>
<a id="__codelineno-0-929" name="__codelineno-0-929"></a>    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-930" name="__codelineno-0-930"></a>    <span class="n">seed</span><span class="p">:</span> <span class="n">Seed</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-931" name="__codelineno-0-931"></a>    <span class="n">max_trials</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-932" name="__codelineno-0-932"></a>    <span class="n">n_workers</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-933" name="__codelineno-0-933"></a>    <span class="n">working_dir</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span> <span class="o">|</span> <span class="n">PathBucket</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-934" name="__codelineno-0-934"></a>    <span class="n">scheduler</span><span class="p">:</span> <span class="n">Scheduler</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-935" name="__codelineno-0-935"></a>    <span class="n">history</span><span class="p">:</span> <span class="n">History</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-936" name="__codelineno-0-936"></a>    <span class="n">on_begin</span><span class="p">:</span> <span class="n">OnBeginCallbackSignature</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-937" name="__codelineno-0-937"></a>    <span class="n">on_trial_exception</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;raise&quot;</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">,</span> <span class="s2">&quot;continue&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;raise&quot;</span><span class="p">,</span>
<a id="__codelineno-0-938" name="__codelineno-0-938"></a>    <span class="c1"># Plugin creating arguments</span>
<a id="__codelineno-0-939" name="__codelineno-0-939"></a>    <span class="n">plugins</span><span class="p">:</span> <span class="n">Plugin</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Plugin</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-940" name="__codelineno-0-940"></a>    <span class="n">process_memory_limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-941" name="__codelineno-0-941"></a>    <span class="n">process_walltime_limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-942" name="__codelineno-0-942"></a>    <span class="n">process_cputime_limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-943" name="__codelineno-0-943"></a>    <span class="n">threadpool_limit_ctl</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-944" name="__codelineno-0-944"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Scheduler</span><span class="p">,</span> <span class="n">Task</span><span class="p">[[</span><span class="n">Trial</span><span class="p">,</span> <span class="n">Node</span><span class="p">],</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">],</span> <span class="n">History</span><span class="p">]:</span>
<a id="__codelineno-0-945" name="__codelineno-0-945"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Setup a pipeline to be optimized in a loop.</span>
<a id="__codelineno-0-946" name="__codelineno-0-946"></a>
<a id="__codelineno-0-947" name="__codelineno-0-947"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-948" name="__codelineno-0-948"></a><span class="sd">        target:</span>
<a id="__codelineno-0-949" name="__codelineno-0-949"></a><span class="sd">            The function against which to optimize.</span>
<a id="__codelineno-0-950" name="__codelineno-0-950"></a>
<a id="__codelineno-0-951" name="__codelineno-0-951"></a><span class="sd">            * If `target` is a function, then it must take in a</span>
<a id="__codelineno-0-952" name="__codelineno-0-952"></a><span class="sd">            [`Trial`][amltk.optimization.trial.Trial] as the first argument</span>
<a id="__codelineno-0-953" name="__codelineno-0-953"></a><span class="sd">            and a [`Node`][amltk.pipeline.node.Node] second argument, returning a</span>
<a id="__codelineno-0-954" name="__codelineno-0-954"></a><span class="sd">            [`Trial.Report`][amltk.optimization.trial.Trial.Report]. Please refer to</span>
<a id="__codelineno-0-955" name="__codelineno-0-955"></a><span class="sd">            the [optimization guide](../../../guides/optimization.md) for more.</span>
<a id="__codelineno-0-956" name="__codelineno-0-956"></a>
<a id="__codelineno-0-957" name="__codelineno-0-957"></a><span class="sd">            * If `target` is a [`Task`][amltk.scheduling.task.Task], then</span>
<a id="__codelineno-0-958" name="__codelineno-0-958"></a><span class="sd">            this will be used instead, updating the plugins with any additional</span>
<a id="__codelineno-0-959" name="__codelineno-0-959"></a><span class="sd">            plugins specified.</span>
<a id="__codelineno-0-960" name="__codelineno-0-960"></a><span class="sd">        metric:</span>
<a id="__codelineno-0-961" name="__codelineno-0-961"></a><span class="sd">            The metric(s) that will be passed to `optimizer=`. These metrics</span>
<a id="__codelineno-0-962" name="__codelineno-0-962"></a><span class="sd">            should align with what is being computed in `target=`.</span>
<a id="__codelineno-0-963" name="__codelineno-0-963"></a><span class="sd">        optimizer:</span>
<a id="__codelineno-0-964" name="__codelineno-0-964"></a><span class="sd">            The optimizer to use. If `None`, then AMLTK will go through a list</span>
<a id="__codelineno-0-965" name="__codelineno-0-965"></a><span class="sd">            of known optimizers and use the first one it can find which was installed.</span>
<a id="__codelineno-0-966" name="__codelineno-0-966"></a>
<a id="__codelineno-0-967" name="__codelineno-0-967"></a><span class="sd">            Alternatively, this can be a class inheriting from</span>
<a id="__codelineno-0-968" name="__codelineno-0-968"></a><span class="sd">            [`Optimizer`][amltk.optimization.optimizer.Optimizer] or else</span>
<a id="__codelineno-0-969" name="__codelineno-0-969"></a><span class="sd">            a signature match [`Optimizer.CreateSignature`][amltk.optimization.Optimizer.CreateSignature].</span>
<a id="__codelineno-0-970" name="__codelineno-0-970"></a>
<a id="__codelineno-0-971" name="__codelineno-0-971"></a><span class="sd">            ??? tip &quot;`Optimizer.CreateSignature`&quot;</span>
<a id="__codelineno-0-972" name="__codelineno-0-972"></a>
<a id="__codelineno-0-973" name="__codelineno-0-973"></a><span class="sd">                ::: amltk.optimization.Optimizer.CreateSignature</span>
<a id="__codelineno-0-974" name="__codelineno-0-974"></a>
<a id="__codelineno-0-975" name="__codelineno-0-975"></a><span class="sd">            Lastly, you can also pass in your own already instantiated optimizer if you prefer, however</span>
<a id="__codelineno-0-976" name="__codelineno-0-976"></a><span class="sd">            you should make sure to set it up correctly with the given metrics and search space.</span>
<a id="__codelineno-0-977" name="__codelineno-0-977"></a><span class="sd">            It is recommened to just pass in the class if you are unsure how to do this properly.</span>
<a id="__codelineno-0-978" name="__codelineno-0-978"></a><span class="sd">        seed:</span>
<a id="__codelineno-0-979" name="__codelineno-0-979"></a><span class="sd">            A [`seed`][amltk.types.Seed] for the optimizer to use.</span>
<a id="__codelineno-0-980" name="__codelineno-0-980"></a><span class="sd">        n_workers:</span>
<a id="__codelineno-0-981" name="__codelineno-0-981"></a><span class="sd">            The numer of workers to use to evaluate this pipeline.</span>
<a id="__codelineno-0-982" name="__codelineno-0-982"></a><span class="sd">            If no `scheduler=` is provided, then one will be created for</span>
<a id="__codelineno-0-983" name="__codelineno-0-983"></a><span class="sd">            you as [`Scheduler.with_processes(n_workers)`][amltk.scheduling.Scheduler.with_processes].</span>
<a id="__codelineno-0-984" name="__codelineno-0-984"></a><span class="sd">            If you provide your own `scheduler=` then this will limit the maximum</span>
<a id="__codelineno-0-985" name="__codelineno-0-985"></a><span class="sd">            amount of concurrent trials for this pipeline that will be evaluating</span>
<a id="__codelineno-0-986" name="__codelineno-0-986"></a><span class="sd">            at once.</span>
<a id="__codelineno-0-987" name="__codelineno-0-987"></a><span class="sd">        working_dir:</span>
<a id="__codelineno-0-988" name="__codelineno-0-988"></a><span class="sd">            A working directory to use for the optimizer and the trials.</span>
<a id="__codelineno-0-989" name="__codelineno-0-989"></a><span class="sd">            Any items you store in trials will be located in this directory,</span>
<a id="__codelineno-0-990" name="__codelineno-0-990"></a><span class="sd">            where the [`trial.name`][amltk.optimization.Trial.name] will be</span>
<a id="__codelineno-0-991" name="__codelineno-0-991"></a><span class="sd">            used as a subfolder where any contents stored with</span>
<a id="__codelineno-0-992" name="__codelineno-0-992"></a><span class="sd">            [`trial.store()`][amltk.optimization.trial.Trial.store] will be put there.</span>
<a id="__codelineno-0-993" name="__codelineno-0-993"></a><span class="sd">            Please see the [optimization guide](../../../guides/optimization.md)</span>
<a id="__codelineno-0-994" name="__codelineno-0-994"></a><span class="sd">            for more on trial storage.</span>
<a id="__codelineno-0-995" name="__codelineno-0-995"></a><span class="sd">        scheduler:</span>
<a id="__codelineno-0-996" name="__codelineno-0-996"></a><span class="sd">            The specific [`Scheduler`][amltk.scheduling.Scheduler] to use.</span>
<a id="__codelineno-0-997" name="__codelineno-0-997"></a><span class="sd">            If `None`, then one will be created for you with</span>
<a id="__codelineno-0-998" name="__codelineno-0-998"></a><span class="sd">            [`Scheduler.with_processes(n_workers)`][amltk.scheduling.Scheduler.with_processes]</span>
<a id="__codelineno-0-999" name="__codelineno-0-999"></a><span class="sd">        history:</span>
<a id="__codelineno-0-1000" name="__codelineno-0-1000"></a><span class="sd">            A [`History`][amltk.optimization.history.History] to store the</span>
<a id="__codelineno-0-1001" name="__codelineno-0-1001"></a><span class="sd">            [`Trial.Report`][amltk.optimization.Trial.Report]s in. You</span>
<a id="__codelineno-0-1002" name="__codelineno-0-1002"></a><span class="sd">            may pass in your own if you wish for this method to store</span>
<a id="__codelineno-0-1003" name="__codelineno-0-1003"></a><span class="sd">            it there instead of creating its own.</span>
<a id="__codelineno-0-1004" name="__codelineno-0-1004"></a><span class="sd">        on_begin:</span>
<a id="__codelineno-0-1005" name="__codelineno-0-1005"></a><span class="sd">            A callback that will be called before the scheduler is run. This</span>
<a id="__codelineno-0-1006" name="__codelineno-0-1006"></a><span class="sd">            can be used to hook into the life-cycle of the optimization and</span>
<a id="__codelineno-0-1007" name="__codelineno-0-1007"></a><span class="sd">            perform custom routines. Please see the</span>
<a id="__codelineno-0-1008" name="__codelineno-0-1008"></a><span class="sd">            [scheduling guide](../../../guides/scheduling.md) for more.</span>
<a id="__codelineno-0-1009" name="__codelineno-0-1009"></a>
<a id="__codelineno-0-1010" name="__codelineno-0-1010"></a><span class="sd">            ??? tip &quot;on_begin signature&quot;</span>
<a id="__codelineno-0-1011" name="__codelineno-0-1011"></a>
<a id="__codelineno-0-1012" name="__codelineno-0-1012"></a><span class="sd">                ::: amltk.pipeline.node.OnBeginCallbackSignature</span>
<a id="__codelineno-0-1013" name="__codelineno-0-1013"></a>
<a id="__codelineno-0-1014" name="__codelineno-0-1014"></a><span class="sd">        on_trial_exception:</span>
<a id="__codelineno-0-1015" name="__codelineno-0-1015"></a><span class="sd">            What to do when a trial returns a fail report from</span>
<a id="__codelineno-0-1016" name="__codelineno-0-1016"></a><span class="sd">            [`trial.fail()`][amltk.optimization.trial.Trial.fail] or</span>
<a id="__codelineno-0-1017" name="__codelineno-0-1017"></a><span class="sd">            [`trial.crashed()`][amltk.optimization.trial.Trial.crashed]</span>
<a id="__codelineno-0-1018" name="__codelineno-0-1018"></a><span class="sd">            that contains an exception.</span>
<a id="__codelineno-0-1019" name="__codelineno-0-1019"></a>
<a id="__codelineno-0-1020" name="__codelineno-0-1020"></a><span class="sd">            Please see the [optimization guide](../../../guides/optimization.md)</span>
<a id="__codelineno-0-1021" name="__codelineno-0-1021"></a><span class="sd">            for more. In all cases, the exception will be attached to the</span>
<a id="__codelineno-0-1022" name="__codelineno-0-1022"></a><span class="sd">            [`Trial.Report`][amltk.optimization.Trial.Report] object under</span>
<a id="__codelineno-0-1023" name="__codelineno-0-1023"></a><span class="sd">            [`report.exception`][amltk.optimization.Trial.Report.exception].</span>
<a id="__codelineno-0-1024" name="__codelineno-0-1024"></a>
<a id="__codelineno-0-1025" name="__codelineno-0-1025"></a><span class="sd">            * If `#!python &quot;raise&quot;`, then the exception will be raised</span>
<a id="__codelineno-0-1026" name="__codelineno-0-1026"></a><span class="sd">            immediatly and the optimization process will halt. The default</span>
<a id="__codelineno-0-1027" name="__codelineno-0-1027"></a><span class="sd">            and good for initial development.</span>
<a id="__codelineno-0-1028" name="__codelineno-0-1028"></a><span class="sd">            * If `#!python &quot;end&quot;`, then the exception will be caught and</span>
<a id="__codelineno-0-1029" name="__codelineno-0-1029"></a><span class="sd">            the optimization process will end gracefully.</span>
<a id="__codelineno-0-1030" name="__codelineno-0-1030"></a><span class="sd">            * If `#!python &quot;continue&quot;`, the exception will be ignored and</span>
<a id="__codelineno-0-1031" name="__codelineno-0-1031"></a><span class="sd">            the optimization procedure will continue.</span>
<a id="__codelineno-0-1032" name="__codelineno-0-1032"></a>
<a id="__codelineno-0-1033" name="__codelineno-0-1033"></a><span class="sd">        max_trials:</span>
<a id="__codelineno-0-1034" name="__codelineno-0-1034"></a><span class="sd">            The maximum number of trials to run. If `None`, then the</span>
<a id="__codelineno-0-1035" name="__codelineno-0-1035"></a><span class="sd">            optimization will continue for as long as the scheduler is</span>
<a id="__codelineno-0-1036" name="__codelineno-0-1036"></a><span class="sd">            running. You&#39;ll likely want to configure this.</span>
<a id="__codelineno-0-1037" name="__codelineno-0-1037"></a><span class="sd">        process_memory_limit:</span>
<a id="__codelineno-0-1038" name="__codelineno-0-1038"></a><span class="sd">            If specified, the [`Task`][amltk.scheduling.task.Task] will</span>
<a id="__codelineno-0-1039" name="__codelineno-0-1039"></a><span class="sd">            use the</span>
<a id="__codelineno-0-1040" name="__codelineno-0-1040"></a><span class="sd">            [`PynisherPlugin`][amltk.scheduling.plugins.pynisher.PynisherPlugin]</span>
<a id="__codelineno-0-1041" name="__codelineno-0-1041"></a><span class="sd">            to limit the memory the process can use. Please</span>
<a id="__codelineno-0-1042" name="__codelineno-0-1042"></a><span class="sd">            refer to the</span>
<a id="__codelineno-0-1043" name="__codelineno-0-1043"></a><span class="sd">            [plugins `pynisher` reference](../../../reference/scheduling/plugins.md#pynisher)</span>
<a id="__codelineno-0-1044" name="__codelineno-0-1044"></a><span class="sd">            for more as there are platform limitations and additional</span>
<a id="__codelineno-0-1045" name="__codelineno-0-1045"></a><span class="sd">            dependancies required.</span>
<a id="__codelineno-0-1046" name="__codelineno-0-1046"></a><span class="sd">        process_walltime_limit:</span>
<a id="__codelineno-0-1047" name="__codelineno-0-1047"></a><span class="sd">            If specified, the [`Task`][amltk.scheduling.task.Task] will</span>
<a id="__codelineno-0-1048" name="__codelineno-0-1048"></a><span class="sd">            use the</span>
<a id="__codelineno-0-1049" name="__codelineno-0-1049"></a><span class="sd">            [`PynisherPlugin`][amltk.scheduling.plugins.pynisher.PynisherPlugin]</span>
<a id="__codelineno-0-1050" name="__codelineno-0-1050"></a><span class="sd">            to limit the wall time the process can use. Please</span>
<a id="__codelineno-0-1051" name="__codelineno-0-1051"></a><span class="sd">            refer to the</span>
<a id="__codelineno-0-1052" name="__codelineno-0-1052"></a><span class="sd">            [plugins `pynisher` reference](../../../reference/scheduling/plugins.md#pynisher)</span>
<a id="__codelineno-0-1053" name="__codelineno-0-1053"></a><span class="sd">            for more as there are platform limitations and additional</span>
<a id="__codelineno-0-1054" name="__codelineno-0-1054"></a><span class="sd">            dependancies required.</span>
<a id="__codelineno-0-1055" name="__codelineno-0-1055"></a><span class="sd">        process_cputime_limit:</span>
<a id="__codelineno-0-1056" name="__codelineno-0-1056"></a><span class="sd">            If specified, the [`Task`][amltk.scheduling.task.Task] will</span>
<a id="__codelineno-0-1057" name="__codelineno-0-1057"></a><span class="sd">            use the</span>
<a id="__codelineno-0-1058" name="__codelineno-0-1058"></a><span class="sd">            [`PynisherPlugin`][amltk.scheduling.plugins.pynisher.PynisherPlugin]</span>
<a id="__codelineno-0-1059" name="__codelineno-0-1059"></a><span class="sd">            to limit the cputime the process can use. Please</span>
<a id="__codelineno-0-1060" name="__codelineno-0-1060"></a><span class="sd">            refer to the</span>
<a id="__codelineno-0-1061" name="__codelineno-0-1061"></a><span class="sd">            [plugins `pynisher` reference](../../../reference/scheduling/plugins.md#pynisher)</span>
<a id="__codelineno-0-1062" name="__codelineno-0-1062"></a><span class="sd">            for more as there are platform limitations and additional</span>
<a id="__codelineno-0-1063" name="__codelineno-0-1063"></a><span class="sd">            dependancies required.</span>
<a id="__codelineno-0-1064" name="__codelineno-0-1064"></a><span class="sd">        threadpool_limit_ctl:</span>
<a id="__codelineno-0-1065" name="__codelineno-0-1065"></a><span class="sd">            If specified, the [`Task`][amltk.scheduling.task.Task] will</span>
<a id="__codelineno-0-1066" name="__codelineno-0-1066"></a><span class="sd">            use the</span>
<a id="__codelineno-0-1067" name="__codelineno-0-1067"></a><span class="sd">            [`ThreadPoolCTLPlugin`][amltk.scheduling.plugins.threadpoolctl.ThreadPoolCTLPlugin]</span>
<a id="__codelineno-0-1068" name="__codelineno-0-1068"></a><span class="sd">            to limit the number of threads used by compliant libraries.</span>
<a id="__codelineno-0-1069" name="__codelineno-0-1069"></a><span class="sd">            **Notably**, this includes scikit-learn, for which running multiple</span>
<a id="__codelineno-0-1070" name="__codelineno-0-1070"></a><span class="sd">            in parallel can be problematic if not adjusted accordingly.</span>
<a id="__codelineno-0-1071" name="__codelineno-0-1071"></a>
<a id="__codelineno-0-1072" name="__codelineno-0-1072"></a><span class="sd">            The default behavior (when `None`) is to auto-detect whether this</span>
<a id="__codelineno-0-1073" name="__codelineno-0-1073"></a><span class="sd">            is applicable. This is done by checking if `sklearn` is installed</span>
<a id="__codelineno-0-1074" name="__codelineno-0-1074"></a><span class="sd">            and if the first node in the pipeline has a `BaseEstimator` item.</span>
<a id="__codelineno-0-1075" name="__codelineno-0-1075"></a><span class="sd">            Please set this to `True`/`False` depending on your preference.</span>
<a id="__codelineno-0-1076" name="__codelineno-0-1076"></a><span class="sd">        plugins:</span>
<a id="__codelineno-0-1077" name="__codelineno-0-1077"></a><span class="sd">            Additional plugins to attach to the eventual</span>
<a id="__codelineno-0-1078" name="__codelineno-0-1078"></a><span class="sd">            [`Task`][amltk.scheduling.task.Task] that will be executed by</span>
<a id="__codelineno-0-1079" name="__codelineno-0-1079"></a><span class="sd">            the [`Scheduler`][amltk.scheduling.Scheduler]. Please</span>
<a id="__codelineno-0-1080" name="__codelineno-0-1080"></a><span class="sd">            refer to the</span>
<a id="__codelineno-0-1081" name="__codelineno-0-1081"></a><span class="sd">            [plugins reference](../../../reference/scheduling/plugins.md) for more.</span>
<a id="__codelineno-0-1082" name="__codelineno-0-1082"></a>
<a id="__codelineno-0-1083" name="__codelineno-0-1083"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1084" name="__codelineno-0-1084"></a><span class="sd">        A tuple of the [`Scheduler`][amltk.scheduling.Scheduler], the</span>
<a id="__codelineno-0-1085" name="__codelineno-0-1085"></a><span class="sd">        [`Task`][amltk.scheduling.task.Task] and the</span>
<a id="__codelineno-0-1086" name="__codelineno-0-1086"></a><span class="sd">        [`History`][amltk.optimization.history.History] that reports will be put into.</span>
<a id="__codelineno-0-1087" name="__codelineno-0-1087"></a><span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
<a id="__codelineno-0-1088" name="__codelineno-0-1088"></a>    <span class="k">match</span> <span class="n">history</span><span class="p">:</span>
<a id="__codelineno-0-1089" name="__codelineno-0-1089"></a>        <span class="n">case</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1090" name="__codelineno-0-1090"></a>            <span class="n">history</span> <span class="o">=</span> <span class="n">History</span><span class="p">()</span>
<a id="__codelineno-0-1091" name="__codelineno-0-1091"></a>        <span class="k">case</span> <span class="n">History</span><span class="p">():</span>
<a id="__codelineno-0-1092" name="__codelineno-0-1092"></a>            <span class="k">pass</span>
<a id="__codelineno-0-1093" name="__codelineno-0-1093"></a>        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-1094" name="__codelineno-0-1094"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid history </span><span class="si">{</span><span class="n">history</span><span class="si">}</span><span class="s2">. Must be a History&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1095" name="__codelineno-0-1095"></a>
<a id="__codelineno-0-1096" name="__codelineno-0-1096"></a>    <span class="n">_plugins</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Plugin</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
<a id="__codelineno-0-1097" name="__codelineno-0-1097"></a>    <span class="k">match</span> <span class="n">plugins</span><span class="p">:</span>
<a id="__codelineno-0-1098" name="__codelineno-0-1098"></a>        <span class="n">case</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1099" name="__codelineno-0-1099"></a>            <span class="n">_plugins</span> <span class="o">=</span> <span class="p">()</span>
<a id="__codelineno-0-1100" name="__codelineno-0-1100"></a>        <span class="k">case</span> <span class="n">Plugin</span><span class="p">():</span>
<a id="__codelineno-0-1101" name="__codelineno-0-1101"></a>            <span class="n">_plugins</span> <span class="o">=</span> <span class="p">(</span><span class="n">plugins</span><span class="p">,)</span>
<a id="__codelineno-0-1102" name="__codelineno-0-1102"></a>        <span class="k">case</span> <span class="n">Iterable</span><span class="p">():</span>
<a id="__codelineno-0-1103" name="__codelineno-0-1103"></a>            <span class="n">_plugins</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">plugins</span><span class="p">)</span>
<a id="__codelineno-0-1104" name="__codelineno-0-1104"></a>        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-1105" name="__codelineno-0-1105"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-1106" name="__codelineno-0-1106"></a>                <span class="sa">f</span><span class="s2">&quot;Invalid plugins </span><span class="si">{</span><span class="n">plugins</span><span class="si">}</span><span class="s2">. Must be a Plugin or an Iterable of&quot;</span>
<a id="__codelineno-0-1107" name="__codelineno-0-1107"></a>                <span class="s2">&quot; Plugins&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1108" name="__codelineno-0-1108"></a>            <span class="p">)</span>
<a id="__codelineno-0-1109" name="__codelineno-0-1109"></a>
<a id="__codelineno-0-1110" name="__codelineno-0-1110"></a>    <span class="k">if</span> <span class="nb">any</span><span class="p">(</span>
<a id="__codelineno-0-1111" name="__codelineno-0-1111"></a>        <span class="n">limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<a id="__codelineno-0-1112" name="__codelineno-0-1112"></a>        <span class="k">for</span> <span class="n">limit</span> <span class="ow">in</span> <span class="p">(</span>
<a id="__codelineno-0-1113" name="__codelineno-0-1113"></a>            <span class="n">process_memory_limit</span><span class="p">,</span>
<a id="__codelineno-0-1114" name="__codelineno-0-1114"></a>            <span class="n">process_walltime_limit</span><span class="p">,</span>
<a id="__codelineno-0-1115" name="__codelineno-0-1115"></a>            <span class="n">process_cputime_limit</span><span class="p">,</span>
<a id="__codelineno-0-1116" name="__codelineno-0-1116"></a>        <span class="p">)</span>
<a id="__codelineno-0-1117" name="__codelineno-0-1117"></a>    <span class="p">):</span>
<a id="__codelineno-0-1118" name="__codelineno-0-1118"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-1119" name="__codelineno-0-1119"></a>            <span class="kn">from</span> <span class="nn">amltk.scheduling.plugins.pynisher</span> <span class="kn">import</span> <span class="n">PynisherPlugin</span>
<a id="__codelineno-0-1120" name="__codelineno-0-1120"></a>        <span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-1121" name="__codelineno-0-1121"></a>            <span class="k">raise</span> <span class="ne">ImportError</span><span class="p">(</span>
<a id="__codelineno-0-1122" name="__codelineno-0-1122"></a>                <span class="s2">&quot;You must install `pynisher` to use `trial_*_limit`&quot;</span>
<a id="__codelineno-0-1123" name="__codelineno-0-1123"></a>                <span class="s2">&quot; You can do so with `pip install amltk[pynisher]`&quot;</span>
<a id="__codelineno-0-1124" name="__codelineno-0-1124"></a>                <span class="s2">&quot; or `pip install pynisher` directly&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1125" name="__codelineno-0-1125"></a>            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
<a id="__codelineno-0-1126" name="__codelineno-0-1126"></a>        <span class="c1"># TODO: I&#39;m hesitant to add even more arguments to the `optimize`</span>
<a id="__codelineno-0-1127" name="__codelineno-0-1127"></a>        <span class="c1"># signature, specifically for `mp_context`.</span>
<a id="__codelineno-0-1128" name="__codelineno-0-1128"></a>        <span class="n">plugin</span> <span class="o">=</span> <span class="n">PynisherPlugin</span><span class="p">(</span>
<a id="__codelineno-0-1129" name="__codelineno-0-1129"></a>            <span class="n">memory_limit</span><span class="o">=</span><span class="n">process_memory_limit</span><span class="p">,</span>
<a id="__codelineno-0-1130" name="__codelineno-0-1130"></a>            <span class="n">walltime_limit</span><span class="o">=</span><span class="n">process_walltime_limit</span><span class="p">,</span>
<a id="__codelineno-0-1131" name="__codelineno-0-1131"></a>            <span class="n">cputime_limit</span><span class="o">=</span><span class="n">process_cputime_limit</span><span class="p">,</span>
<a id="__codelineno-0-1132" name="__codelineno-0-1132"></a>        <span class="p">)</span>
<a id="__codelineno-0-1133" name="__codelineno-0-1133"></a>        <span class="n">_plugins</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="n">_plugins</span><span class="p">,</span> <span class="n">plugin</span><span class="p">)</span>
<a id="__codelineno-0-1134" name="__codelineno-0-1134"></a>
<a id="__codelineno-0-1135" name="__codelineno-0-1135"></a>    <span class="c1"># If threadpool_limit_ctl None, we should default to inspecting if it&#39;s</span>
<a id="__codelineno-0-1136" name="__codelineno-0-1136"></a>    <span class="c1"># an sklearn pipeline. This is because sklearn pipelines</span>
<a id="__codelineno-0-1137" name="__codelineno-0-1137"></a>    <span class="c1"># run in parallel will over-subscribe the CPU and cause</span>
<a id="__codelineno-0-1138" name="__codelineno-0-1138"></a>    <span class="c1"># the system to slow down.</span>
<a id="__codelineno-0-1139" name="__codelineno-0-1139"></a>    <span class="c1"># We use a heuristic to check this by checking if the item at the head</span>
<a id="__codelineno-0-1140" name="__codelineno-0-1140"></a>    <span class="c1"># of this node is a subclass of sklearn.base.BaseEstimator</span>
<a id="__codelineno-0-1141" name="__codelineno-0-1141"></a>    <span class="k">match</span> <span class="n">threadpool_limit_ctl</span><span class="p">:</span>
<a id="__codelineno-0-1142" name="__codelineno-0-1142"></a>        <span class="n">case</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1143" name="__codelineno-0-1143"></a>            <span class="kn">from</span> <span class="nn">amltk._util</span> <span class="kn">import</span> <span class="n">threadpoolctl_heuristic</span>
<a id="__codelineno-0-1144" name="__codelineno-0-1144"></a>
<a id="__codelineno-0-1145" name="__codelineno-0-1145"></a>            <span class="n">threadpool_limit_ctl</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-1146" name="__codelineno-0-1146"></a>            <span class="k">if</span> <span class="n">threadpoolctl_heuristic</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item</span><span class="p">):</span>
<a id="__codelineno-0-1147" name="__codelineno-0-1147"></a>                <span class="n">threadpool_limit_ctl</span> <span class="o">=</span> <span class="mi">1</span>
<a id="__codelineno-0-1148" name="__codelineno-0-1148"></a>                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
<a id="__codelineno-0-1149" name="__codelineno-0-1149"></a>                    <span class="s2">&quot;Detected an sklearn pipeline. Setting `threadpool_limit_ctl`&quot;</span>
<a id="__codelineno-0-1150" name="__codelineno-0-1150"></a>                    <span class="s2">&quot; to True. This will limit the number of threads spawned by&quot;</span>
<a id="__codelineno-0-1151" name="__codelineno-0-1151"></a>                    <span class="s2">&quot; sklearn to the number of cores on the machine. This is&quot;</span>
<a id="__codelineno-0-1152" name="__codelineno-0-1152"></a>                    <span class="s2">&quot; because sklearn pipelines run in parallel will over-subscribe&quot;</span>
<a id="__codelineno-0-1153" name="__codelineno-0-1153"></a>                    <span class="s2">&quot; the CPU and cause the system to slow down.&quot;</span>
<a id="__codelineno-0-1154" name="__codelineno-0-1154"></a>                    <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Please set `threadpool_limit_ctl=False` if you do not want&quot;</span>
<a id="__codelineno-0-1155" name="__codelineno-0-1155"></a>                    <span class="s2">&quot; this behaviour and set it to `True` to silence this warning.&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1156" name="__codelineno-0-1156"></a>                    <span class="n">AutomaticThreadPoolCTLWarning</span><span class="p">,</span>
<a id="__codelineno-0-1157" name="__codelineno-0-1157"></a>                    <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-0-1158" name="__codelineno-0-1158"></a>                <span class="p">)</span>
<a id="__codelineno-0-1159" name="__codelineno-0-1159"></a>        <span class="n">case</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-1160" name="__codelineno-0-1160"></a>            <span class="n">threadpool_limit_ctl</span> <span class="o">=</span> <span class="mi">1</span>
<a id="__codelineno-0-1161" name="__codelineno-0-1161"></a>        <span class="n">case</span> <span class="kc">False</span><span class="p">:</span>
<a id="__codelineno-0-1162" name="__codelineno-0-1162"></a>            <span class="k">pass</span>
<a id="__codelineno-0-1163" name="__codelineno-0-1163"></a>        <span class="k">case</span> <span class="nb">int</span><span class="p">():</span>
<a id="__codelineno-0-1164" name="__codelineno-0-1164"></a>            <span class="k">pass</span>
<a id="__codelineno-0-1165" name="__codelineno-0-1165"></a>        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-1166" name="__codelineno-0-1166"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-1167" name="__codelineno-0-1167"></a>                <span class="sa">f</span><span class="s2">&quot;Invalid threadpool_limit_ctl </span><span class="si">{</span><span class="n">threadpool_limit_ctl</span><span class="si">}</span><span class="s2">.&quot;</span>
<a id="__codelineno-0-1168" name="__codelineno-0-1168"></a>                <span class="s2">&quot; Must be a bool or an int&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1169" name="__codelineno-0-1169"></a>            <span class="p">)</span>
<a id="__codelineno-0-1170" name="__codelineno-0-1170"></a>
<a id="__codelineno-0-1171" name="__codelineno-0-1171"></a>    <span class="k">if</span> <span class="n">threadpool_limit_ctl</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">False</span><span class="p">:</span>
<a id="__codelineno-0-1172" name="__codelineno-0-1172"></a>        <span class="kn">from</span> <span class="nn">amltk.scheduling.plugins.threadpoolctl</span> <span class="kn">import</span> <span class="n">ThreadPoolCTLPlugin</span>
<a id="__codelineno-0-1173" name="__codelineno-0-1173"></a>
<a id="__codelineno-0-1174" name="__codelineno-0-1174"></a>        <span class="n">_plugins</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="n">_plugins</span><span class="p">,</span> <span class="n">ThreadPoolCTLPlugin</span><span class="p">(</span><span class="n">threadpool_limit_ctl</span><span class="p">))</span>
<a id="__codelineno-0-1175" name="__codelineno-0-1175"></a>
<a id="__codelineno-0-1176" name="__codelineno-0-1176"></a>    <span class="k">match</span> <span class="n">max_trials</span><span class="p">:</span>
<a id="__codelineno-0-1177" name="__codelineno-0-1177"></a>        <span class="n">case</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1178" name="__codelineno-0-1178"></a>            <span class="k">pass</span>
<a id="__codelineno-0-1179" name="__codelineno-0-1179"></a>        <span class="k">case</span> <span class="nb">int</span><span class="p">()</span> <span class="k">if</span> <span class="n">max_trials</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-1180" name="__codelineno-0-1180"></a>            <span class="kn">from</span> <span class="nn">amltk.scheduling.plugins</span> <span class="kn">import</span> <span class="n">Limiter</span>
<a id="__codelineno-0-1181" name="__codelineno-0-1181"></a>
<a id="__codelineno-0-1182" name="__codelineno-0-1182"></a>            <span class="n">_plugins</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="n">_plugins</span><span class="p">,</span> <span class="n">Limiter</span><span class="p">(</span><span class="n">max_calls</span><span class="o">=</span><span class="n">max_trials</span><span class="p">))</span>
<a id="__codelineno-0-1183" name="__codelineno-0-1183"></a>        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-1184" name="__codelineno-0-1184"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">max_trials</span><span class="si">=}</span><span class="s2"> must be a positive int&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1185" name="__codelineno-0-1185"></a>
<a id="__codelineno-0-1186" name="__codelineno-0-1186"></a>    <span class="kn">from</span> <span class="nn">amltk.scheduling.scheduler</span> <span class="kn">import</span> <span class="n">Scheduler</span>
<a id="__codelineno-0-1187" name="__codelineno-0-1187"></a>
<a id="__codelineno-0-1188" name="__codelineno-0-1188"></a>    <span class="k">match</span> <span class="n">scheduler</span><span class="p">:</span>
<a id="__codelineno-0-1189" name="__codelineno-0-1189"></a>        <span class="n">case</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1190" name="__codelineno-0-1190"></a>            <span class="n">scheduler</span> <span class="o">=</span> <span class="n">Scheduler</span><span class="o">.</span><span class="n">with_processes</span><span class="p">(</span><span class="n">n_workers</span><span class="p">)</span>
<a id="__codelineno-0-1191" name="__codelineno-0-1191"></a>        <span class="k">case</span> <span class="n">Scheduler</span><span class="p">():</span>
<a id="__codelineno-0-1192" name="__codelineno-0-1192"></a>            <span class="k">pass</span>
<a id="__codelineno-0-1193" name="__codelineno-0-1193"></a>        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-1194" name="__codelineno-0-1194"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid scheduler </span><span class="si">{</span><span class="n">scheduler</span><span class="si">}</span><span class="s2">. Must be a Scheduler&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1195" name="__codelineno-0-1195"></a>
<a id="__codelineno-0-1196" name="__codelineno-0-1196"></a>    <span class="k">match</span> <span class="n">target</span><span class="p">:</span>
<a id="__codelineno-0-1197" name="__codelineno-0-1197"></a>        <span class="k">case</span> <span class="n">Task</span><span class="p">():</span>  <span class="c1"># type: ignore # NOTE not sure why pyright complains here</span>
<a id="__codelineno-0-1198" name="__codelineno-0-1198"></a>            <span class="k">for</span> <span class="n">_p</span> <span class="ow">in</span> <span class="n">_plugins</span><span class="p">:</span>
<a id="__codelineno-0-1199" name="__codelineno-0-1199"></a>                <span class="n">target</span><span class="o">.</span><span class="n">attach_plugin</span><span class="p">(</span><span class="n">_p</span><span class="p">)</span>
<a id="__codelineno-0-1200" name="__codelineno-0-1200"></a>            <span class="n">task</span> <span class="o">=</span> <span class="n">target</span>
<a id="__codelineno-0-1201" name="__codelineno-0-1201"></a>        <span class="k">case</span><span class="w"> </span><span class="k">_</span> <span class="k">if</span> <span class="nb">callable</span><span class="p">(</span><span class="n">target</span><span class="p">):</span>
<a id="__codelineno-0-1202" name="__codelineno-0-1202"></a>            <span class="n">task</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">plugins</span><span class="o">=</span><span class="n">_plugins</span><span class="p">)</span>
<a id="__codelineno-0-1203" name="__codelineno-0-1203"></a>        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-1204" name="__codelineno-0-1204"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid </span><span class="si">{</span><span class="n">target</span><span class="si">=}</span><span class="s2">. Must be a function or Task.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1205" name="__codelineno-0-1205"></a>
<a id="__codelineno-0-1206" name="__codelineno-0-1206"></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">optimizer</span><span class="p">,</span> <span class="n">Optimizer</span><span class="p">):</span>
<a id="__codelineno-0-1207" name="__codelineno-0-1207"></a>        <span class="n">_optimizer</span> <span class="o">=</span> <span class="n">optimizer</span>
<a id="__codelineno-0-1208" name="__codelineno-0-1208"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-1209" name="__codelineno-0-1209"></a>        <span class="c1"># NOTE: I&#39;m not particularly fond of this hack but I assume most people</span>
<a id="__codelineno-0-1210" name="__codelineno-0-1210"></a>        <span class="c1"># when prototyping don&#39;t care for the actual underlying optimizer and</span>
<a id="__codelineno-0-1211" name="__codelineno-0-1211"></a>        <span class="c1"># so we should just *pick one*.</span>
<a id="__codelineno-0-1212" name="__codelineno-0-1212"></a>        <span class="n">create_optimizer</span><span class="p">:</span> <span class="n">Optimizer</span><span class="o">.</span><span class="n">CreateSignature</span>
<a id="__codelineno-0-1213" name="__codelineno-0-1213"></a>        <span class="k">match</span> <span class="n">optimizer</span><span class="p">:</span>
<a id="__codelineno-0-1214" name="__codelineno-0-1214"></a>            <span class="n">case</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1215" name="__codelineno-0-1215"></a>                <span class="n">first_opt_class</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span>
<a id="__codelineno-0-1216" name="__codelineno-0-1216"></a>                    <span class="n">Optimizer</span><span class="o">.</span><span class="n">_get_known_importable_optimizer_classes</span><span class="p">(),</span>
<a id="__codelineno-0-1217" name="__codelineno-0-1217"></a>                    <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1218" name="__codelineno-0-1218"></a>                <span class="p">)</span>
<a id="__codelineno-0-1219" name="__codelineno-0-1219"></a>                <span class="k">if</span> <span class="n">first_opt_class</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1220" name="__codelineno-0-1220"></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-1221" name="__codelineno-0-1221"></a>                        <span class="s2">&quot;No optimizer was given and no known importable optimizers &quot;</span>
<a id="__codelineno-0-1222" name="__codelineno-0-1222"></a>                        <span class="s2">&quot; were found. Please consider giving one explicitly or&quot;</span>
<a id="__codelineno-0-1223" name="__codelineno-0-1223"></a>                        <span class="s2">&quot; installing one of the following packages:</span><span class="se">\n</span><span class="s2">&quot;</span>
<a id="__codelineno-0-1224" name="__codelineno-0-1224"></a>                        <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> - optuna&quot;</span>
<a id="__codelineno-0-1225" name="__codelineno-0-1225"></a>                        <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> - smac&quot;</span>
<a id="__codelineno-0-1226" name="__codelineno-0-1226"></a>                        <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> - neural-pipeline-search&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1227" name="__codelineno-0-1227"></a>                    <span class="p">)</span>
<a id="__codelineno-0-1228" name="__codelineno-0-1228"></a>
<a id="__codelineno-0-1229" name="__codelineno-0-1229"></a>                <span class="n">create_optimizer</span> <span class="o">=</span> <span class="n">first_opt_class</span><span class="o">.</span><span class="n">create</span>
<a id="__codelineno-0-1230" name="__codelineno-0-1230"></a>                <span class="n">opt_name</span> <span class="o">=</span> <span class="n">classname</span><span class="p">(</span><span class="n">first_opt_class</span><span class="p">)</span>
<a id="__codelineno-0-1231" name="__codelineno-0-1231"></a>            <span class="k">case</span> <span class="nb">type</span><span class="p">():</span>
<a id="__codelineno-0-1232" name="__codelineno-0-1232"></a>                <span class="k">if</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">optimizer</span><span class="p">,</span> <span class="n">Optimizer</span><span class="p">):</span>
<a id="__codelineno-0-1233" name="__codelineno-0-1233"></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-1234" name="__codelineno-0-1234"></a>                        <span class="sa">f</span><span class="s2">&quot;Invalid optimizer </span><span class="si">{</span><span class="n">optimizer</span><span class="si">}</span><span class="s2">. Must be a subclass of&quot;</span>
<a id="__codelineno-0-1235" name="__codelineno-0-1235"></a>                        <span class="s2">&quot; Optimizer or a function that returns an Optimizer&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1236" name="__codelineno-0-1236"></a>                    <span class="p">)</span>
<a id="__codelineno-0-1237" name="__codelineno-0-1237"></a>                <span class="n">create_optimizer</span> <span class="o">=</span> <span class="n">optimizer</span><span class="o">.</span><span class="n">create</span>
<a id="__codelineno-0-1238" name="__codelineno-0-1238"></a>                <span class="n">opt_name</span> <span class="o">=</span> <span class="n">classname</span><span class="p">(</span><span class="n">optimizer</span><span class="p">)</span>
<a id="__codelineno-0-1239" name="__codelineno-0-1239"></a>            <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-1240" name="__codelineno-0-1240"></a>                <span class="k">assert</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">optimizer</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span>
<a id="__codelineno-0-1241" name="__codelineno-0-1241"></a>                <span class="n">create_optimizer</span> <span class="o">=</span> <span class="n">optimizer</span>
<a id="__codelineno-0-1242" name="__codelineno-0-1242"></a>                <span class="n">opt_name</span> <span class="o">=</span> <span class="n">funcname</span><span class="p">(</span><span class="n">optimizer</span><span class="p">)</span>
<a id="__codelineno-0-1243" name="__codelineno-0-1243"></a>
<a id="__codelineno-0-1244" name="__codelineno-0-1244"></a>        <span class="k">match</span> <span class="n">working_dir</span><span class="p">:</span>
<a id="__codelineno-0-1245" name="__codelineno-0-1245"></a>            <span class="n">case</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1246" name="__codelineno-0-1246"></a>                <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
<a id="__codelineno-0-1247" name="__codelineno-0-1247"></a>
<a id="__codelineno-0-1248" name="__codelineno-0-1248"></a>                <span class="n">working_dir</span> <span class="o">=</span> <span class="n">PathBucket</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">opt_name</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">now</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1249" name="__codelineno-0-1249"></a>            <span class="k">case</span> <span class="nb">str</span><span class="p">()</span> <span class="o">|</span> <span class="n">Path</span><span class="p">():</span>
<a id="__codelineno-0-1250" name="__codelineno-0-1250"></a>                <span class="n">working_dir</span> <span class="o">=</span> <span class="n">PathBucket</span><span class="p">(</span><span class="n">working_dir</span><span class="p">)</span>
<a id="__codelineno-0-1251" name="__codelineno-0-1251"></a>            <span class="k">case</span> <span class="n">PathBucket</span><span class="p">():</span>
<a id="__codelineno-0-1252" name="__codelineno-0-1252"></a>                <span class="k">pass</span>
<a id="__codelineno-0-1253" name="__codelineno-0-1253"></a>            <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-1254" name="__codelineno-0-1254"></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-1255" name="__codelineno-0-1255"></a>                    <span class="sa">f</span><span class="s2">&quot;Invalid working_dir </span><span class="si">{</span><span class="n">working_dir</span><span class="si">}</span><span class="s2">.&quot;</span>
<a id="__codelineno-0-1256" name="__codelineno-0-1256"></a>                    <span class="s2">&quot; Must be a str, Path or PathBucket&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1257" name="__codelineno-0-1257"></a>                <span class="p">)</span>
<a id="__codelineno-0-1258" name="__codelineno-0-1258"></a>
<a id="__codelineno-0-1259" name="__codelineno-0-1259"></a>        <span class="n">_optimizer</span> <span class="o">=</span> <span class="n">create_optimizer</span><span class="p">(</span>
<a id="__codelineno-0-1260" name="__codelineno-0-1260"></a>            <span class="n">space</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-1261" name="__codelineno-0-1261"></a>            <span class="n">metrics</span><span class="o">=</span><span class="n">metric</span><span class="p">,</span>
<a id="__codelineno-0-1262" name="__codelineno-0-1262"></a>            <span class="n">bucket</span><span class="o">=</span><span class="n">working_dir</span><span class="p">,</span>
<a id="__codelineno-0-1263" name="__codelineno-0-1263"></a>            <span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">,</span>
<a id="__codelineno-0-1264" name="__codelineno-0-1264"></a>        <span class="p">)</span>
<a id="__codelineno-0-1265" name="__codelineno-0-1265"></a>        <span class="k">assert</span> <span class="n">_optimizer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<a id="__codelineno-0-1266" name="__codelineno-0-1266"></a>
<a id="__codelineno-0-1267" name="__codelineno-0-1267"></a>    <span class="k">if</span> <span class="n">on_begin</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1268" name="__codelineno-0-1268"></a>        <span class="n">hook</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">on_begin</span><span class="p">,</span> <span class="n">task</span><span class="p">,</span> <span class="n">scheduler</span><span class="p">,</span> <span class="n">history</span><span class="p">)</span>
<a id="__codelineno-0-1269" name="__codelineno-0-1269"></a>        <span class="n">scheduler</span><span class="o">.</span><span class="n">on_start</span><span class="p">(</span><span class="n">hook</span><span class="p">)</span>
<a id="__codelineno-0-1270" name="__codelineno-0-1270"></a>
<a id="__codelineno-0-1271" name="__codelineno-0-1271"></a>    <span class="nd">@scheduler</span><span class="o">.</span><span class="n">on_start</span>
<a id="__codelineno-0-1272" name="__codelineno-0-1272"></a>    <span class="k">def</span> <span class="nf">launch_initial_trials</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1273" name="__codelineno-0-1273"></a>        <span class="n">trials</span> <span class="o">=</span> <span class="n">_optimizer</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">n_workers</span><span class="p">)</span>
<a id="__codelineno-0-1274" name="__codelineno-0-1274"></a>        <span class="k">for</span> <span class="n">trial</span> <span class="ow">in</span> <span class="n">trials</span><span class="p">:</span>
<a id="__codelineno-0-1275" name="__codelineno-0-1275"></a>            <span class="n">task</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">trial</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<a id="__codelineno-0-1276" name="__codelineno-0-1276"></a>
<a id="__codelineno-0-1277" name="__codelineno-0-1277"></a>    <span class="kn">from</span> <span class="nn">amltk.optimization.trial</span> <span class="kn">import</span> <span class="n">Trial</span>
<a id="__codelineno-0-1278" name="__codelineno-0-1278"></a>
<a id="__codelineno-0-1279" name="__codelineno-0-1279"></a>    <span class="nd">@task</span><span class="o">.</span><span class="n">on_result</span>
<a id="__codelineno-0-1280" name="__codelineno-0-1280"></a>    <span class="k">def</span> <span class="nf">tell_optimizer</span><span class="p">(</span><span class="n">_</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">report</span><span class="p">:</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1281" name="__codelineno-0-1281"></a>        <span class="n">_optimizer</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="n">report</span><span class="p">)</span>
<a id="__codelineno-0-1282" name="__codelineno-0-1282"></a>
<a id="__codelineno-0-1283" name="__codelineno-0-1283"></a>    <span class="nd">@task</span><span class="o">.</span><span class="n">on_result</span>
<a id="__codelineno-0-1284" name="__codelineno-0-1284"></a>    <span class="k">def</span> <span class="nf">add_report_to_history</span><span class="p">(</span><span class="n">_</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">report</span><span class="p">:</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1285" name="__codelineno-0-1285"></a>        <span class="n">history</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">report</span><span class="p">)</span>
<a id="__codelineno-0-1286" name="__codelineno-0-1286"></a>        <span class="k">match</span> <span class="n">report</span><span class="o">.</span><span class="n">status</span><span class="p">:</span>
<a id="__codelineno-0-1287" name="__codelineno-0-1287"></a>            <span class="k">case</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">SUCCESS</span><span class="p">:</span>
<a id="__codelineno-0-1288" name="__codelineno-0-1288"></a>                <span class="k">return</span>
<a id="__codelineno-0-1289" name="__codelineno-0-1289"></a>            <span class="k">case</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">FAIL</span> <span class="o">|</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">CRASHED</span> <span class="o">|</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNKNOWN</span><span class="p">:</span>
<a id="__codelineno-0-1290" name="__codelineno-0-1290"></a>                <span class="k">match</span> <span class="n">on_trial_exception</span><span class="p">:</span>
<a id="__codelineno-0-1291" name="__codelineno-0-1291"></a>                    <span class="k">case</span> <span class="s2">&quot;raise&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1292" name="__codelineno-0-1292"></a>                        <span class="k">if</span> <span class="n">report</span><span class="o">.</span><span class="n">exception</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1293" name="__codelineno-0-1293"></a>                            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
<a id="__codelineno-0-1294" name="__codelineno-0-1294"></a>                                <span class="sa">f</span><span class="s2">&quot;Trial finished with status </span><span class="si">{</span><span class="n">report</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2"> but&quot;</span>
<a id="__codelineno-0-1295" name="__codelineno-0-1295"></a>                                <span class="s2">&quot; no exception was attached!&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1296" name="__codelineno-0-1296"></a>                            <span class="p">)</span>
<a id="__codelineno-0-1297" name="__codelineno-0-1297"></a>                        <span class="k">raise</span> <span class="n">report</span><span class="o">.</span><span class="n">exception</span>
<a id="__codelineno-0-1298" name="__codelineno-0-1298"></a>                    <span class="k">case</span> <span class="s2">&quot;end&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1299" name="__codelineno-0-1299"></a>                        <span class="n">scheduler</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span>
<a id="__codelineno-0-1300" name="__codelineno-0-1300"></a>                            <span class="n">stop_msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Trial finished with status </span><span class="si">{</span><span class="n">report</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1301" name="__codelineno-0-1301"></a>                            <span class="n">exception</span><span class="o">=</span><span class="n">report</span><span class="o">.</span><span class="n">exception</span><span class="p">,</span>
<a id="__codelineno-0-1302" name="__codelineno-0-1302"></a>                        <span class="p">)</span>
<a id="__codelineno-0-1303" name="__codelineno-0-1303"></a>                    <span class="k">case</span> <span class="s2">&quot;continue&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1304" name="__codelineno-0-1304"></a>                        <span class="k">pass</span>
<a id="__codelineno-0-1305" name="__codelineno-0-1305"></a>            <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-1306" name="__codelineno-0-1306"></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid status </span><span class="si">{</span><span class="n">report</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1307" name="__codelineno-0-1307"></a>
<a id="__codelineno-0-1308" name="__codelineno-0-1308"></a>    <span class="nd">@task</span><span class="o">.</span><span class="n">on_result</span>
<a id="__codelineno-0-1309" name="__codelineno-0-1309"></a>    <span class="k">def</span> <span class="nf">run_next_trial</span><span class="p">(</span><span class="o">*</span><span class="n">_</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1310" name="__codelineno-0-1310"></a>        <span class="k">if</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">running</span><span class="p">():</span>
<a id="__codelineno-0-1311" name="__codelineno-0-1311"></a>            <span class="n">trial</span> <span class="o">=</span> <span class="n">_optimizer</span><span class="o">.</span><span class="n">ask</span><span class="p">()</span>
<a id="__codelineno-0-1312" name="__codelineno-0-1312"></a>            <span class="n">task</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">trial</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<a id="__codelineno-0-1313" name="__codelineno-0-1313"></a>
<a id="__codelineno-0-1314" name="__codelineno-0-1314"></a>    <span class="k">return</span> <span class="n">scheduler</span><span class="p">,</span> <span class="n">task</span><span class="p">,</span> <span class="n">history</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="amltk.pipeline.node.Node.search_space" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">search_space</span>


<a href="#amltk.pipeline.node.Node.search_space" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">search_space</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">parser</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>        <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="typing.Concatenate" href="https://docs.python.org/3/library/typing.html#typing.Concatenate">Concatenate</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">,</span> <span class="n"><span title="amltk.pipeline.node.P">P</span></span><span class="p">],</span> <span class="n"><span title="amltk.pipeline.node.ParserOutput">ParserOutput</span></span><span class="p">]</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>        <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span><span class="s2">&quot;configspace&quot;</span><span class="p">,</span> <span class="s2">&quot;optuna&quot;</span><span class="p">]</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="p">),</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="o">*</span><span class="n">parser_args</span><span class="p">:</span> <span class="n"><span title="amltk.pipeline.node.P.args">args</span></span><span class="p">,</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="o">**</span><span class="n">parser_kwargs</span><span class="p">:</span> <span class="n"><span title="amltk.pipeline.node.P.kwargs">kwargs</span></span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="amltk.pipeline.node.ParserOutput">ParserOutput</span></span> <span class="o">|</span> <span class="n"><span title="ConfigSpace.ConfigurationSpace">ConfigurationSpace</span></span> <span class="o">|</span> <span class="n"><span title="amltk.pipeline.parsers.optuna.OptunaSearchSpace">OptunaSearchSpace</span></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get the search space for this node.</p>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">PARAMETER</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td><code>parser</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The parser to use. This can be a function that takes in
the node and returns the search space or a string that is one of:</p>
<ul>
<li><code class="highlight"><span class="s2">&quot;configspace&quot;</span></code>: Build a
    <a href="https://automl.github.io/ConfigSpace/master/"><code>ConfigSpace.ConfigurationSpace</code></a>
    out of this node.</li>
<li><code class="highlight"><span class="s2">&quot;optuna&quot;</span></code>: Build a dict of hyperparameters that Optuna can
    use in its <a href="https://optuna.readthedocs.io/en/stable/tutorial/20_recipes/009_ask_and_tell.html#define-and-run">ask and tell methods</a></li>
</ul>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Callable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable">Callable</a>[<a class="autorefs autorefs-external" title="typing.Concatenate" href="https://docs.python.org/3/library/typing.html#typing.Concatenate">Concatenate</a>[<a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a>, <span title="amltk.pipeline.node.P">P</span>], <span title="amltk.pipeline.node.ParserOutput">ParserOutput</span>] | <a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;configspace&#39;, &#39;optuna&#39;]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>parser_args</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The positional arguments to pass to the parser</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><span title="amltk.pipeline.node.P.args">args</span></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>()</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>parser_kwargs</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The keyword arguments to pass to the parser</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><span title="amltk.pipeline.node.P.kwargs">kwargs</span></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>{}</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">RETURNS</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td>
              <span class="doc-returns-annotation">
                  <code><span title="amltk.pipeline.node.ParserOutput">ParserOutput</span> | <span title="ConfigSpace.ConfigurationSpace">ConfigurationSpace</span> | <span title="amltk.pipeline.parsers.optuna.OptunaSearchSpace">OptunaSearchSpace</span></code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>The search space</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>src/amltk/pipeline/node.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-673">673</a></span>
<span class="normal"><a href="#__codelineno-0-674">674</a></span>
<span class="normal"><a href="#__codelineno-0-675">675</a></span>
<span class="normal"><a href="#__codelineno-0-676">676</a></span>
<span class="normal"><a href="#__codelineno-0-677">677</a></span>
<span class="normal"><a href="#__codelineno-0-678">678</a></span>
<span class="normal"><a href="#__codelineno-0-679">679</a></span>
<span class="normal"><a href="#__codelineno-0-680">680</a></span>
<span class="normal"><a href="#__codelineno-0-681">681</a></span>
<span class="normal"><a href="#__codelineno-0-682">682</a></span>
<span class="normal"><a href="#__codelineno-0-683">683</a></span>
<span class="normal"><a href="#__codelineno-0-684">684</a></span>
<span class="normal"><a href="#__codelineno-0-685">685</a></span>
<span class="normal"><a href="#__codelineno-0-686">686</a></span>
<span class="normal"><a href="#__codelineno-0-687">687</a></span>
<span class="normal"><a href="#__codelineno-0-688">688</a></span>
<span class="normal"><a href="#__codelineno-0-689">689</a></span>
<span class="normal"><a href="#__codelineno-0-690">690</a></span>
<span class="normal"><a href="#__codelineno-0-691">691</a></span>
<span class="normal"><a href="#__codelineno-0-692">692</a></span>
<span class="normal"><a href="#__codelineno-0-693">693</a></span>
<span class="normal"><a href="#__codelineno-0-694">694</a></span>
<span class="normal"><a href="#__codelineno-0-695">695</a></span>
<span class="normal"><a href="#__codelineno-0-696">696</a></span>
<span class="normal"><a href="#__codelineno-0-697">697</a></span>
<span class="normal"><a href="#__codelineno-0-698">698</a></span>
<span class="normal"><a href="#__codelineno-0-699">699</a></span>
<span class="normal"><a href="#__codelineno-0-700">700</a></span>
<span class="normal"><a href="#__codelineno-0-701">701</a></span>
<span class="normal"><a href="#__codelineno-0-702">702</a></span>
<span class="normal"><a href="#__codelineno-0-703">703</a></span>
<span class="normal"><a href="#__codelineno-0-704">704</a></span>
<span class="normal"><a href="#__codelineno-0-705">705</a></span>
<span class="normal"><a href="#__codelineno-0-706">706</a></span>
<span class="normal"><a href="#__codelineno-0-707">707</a></span>
<span class="normal"><a href="#__codelineno-0-708">708</a></span>
<span class="normal"><a href="#__codelineno-0-709">709</a></span>
<span class="normal"><a href="#__codelineno-0-710">710</a></span>
<span class="normal"><a href="#__codelineno-0-711">711</a></span>
<span class="normal"><a href="#__codelineno-0-712">712</a></span>
<span class="normal"><a href="#__codelineno-0-713">713</a></span>
<span class="normal"><a href="#__codelineno-0-714">714</a></span>
<span class="normal"><a href="#__codelineno-0-715">715</a></span>
<span class="normal"><a href="#__codelineno-0-716">716</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-673" name="__codelineno-0-673"></a><span class="k">def</span> <span class="nf">search_space</span><span class="p">(</span>
<a id="__codelineno-0-674" name="__codelineno-0-674"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-675" name="__codelineno-0-675"></a>    <span class="n">parser</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-676" name="__codelineno-0-676"></a>        <span class="n">Callable</span><span class="p">[</span><span class="n">Concatenate</span><span class="p">[</span><span class="n">Node</span><span class="p">,</span> <span class="n">P</span><span class="p">],</span> <span class="n">ParserOutput</span><span class="p">]</span>
<a id="__codelineno-0-677" name="__codelineno-0-677"></a>        <span class="o">|</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;configspace&quot;</span><span class="p">,</span> <span class="s2">&quot;optuna&quot;</span><span class="p">]</span>
<a id="__codelineno-0-678" name="__codelineno-0-678"></a>    <span class="p">),</span>
<a id="__codelineno-0-679" name="__codelineno-0-679"></a>    <span class="o">*</span><span class="n">parser_args</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">args</span><span class="p">,</span>
<a id="__codelineno-0-680" name="__codelineno-0-680"></a>    <span class="o">**</span><span class="n">parser_kwargs</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">kwargs</span><span class="p">,</span>
<a id="__codelineno-0-681" name="__codelineno-0-681"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ParserOutput</span> <span class="o">|</span> <span class="n">ConfigurationSpace</span> <span class="o">|</span> <span class="n">OptunaSearchSpace</span><span class="p">:</span>
<a id="__codelineno-0-682" name="__codelineno-0-682"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the search space for this node.</span>
<a id="__codelineno-0-683" name="__codelineno-0-683"></a>
<a id="__codelineno-0-684" name="__codelineno-0-684"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-685" name="__codelineno-0-685"></a><span class="sd">        parser: The parser to use. This can be a function that takes in</span>
<a id="__codelineno-0-686" name="__codelineno-0-686"></a><span class="sd">            the node and returns the search space or a string that is one of:</span>
<a id="__codelineno-0-687" name="__codelineno-0-687"></a>
<a id="__codelineno-0-688" name="__codelineno-0-688"></a><span class="sd">            * `#!python &quot;configspace&quot;`: Build a</span>
<a id="__codelineno-0-689" name="__codelineno-0-689"></a><span class="sd">                [`ConfigSpace.ConfigurationSpace`](https://automl.github.io/ConfigSpace/master/)</span>
<a id="__codelineno-0-690" name="__codelineno-0-690"></a><span class="sd">                out of this node.</span>
<a id="__codelineno-0-691" name="__codelineno-0-691"></a><span class="sd">            * `#!python &quot;optuna&quot;`: Build a dict of hyperparameters that Optuna can</span>
<a id="__codelineno-0-692" name="__codelineno-0-692"></a><span class="sd">                use in its [ask and tell methods](https://optuna.readthedocs.io/en/stable/tutorial/20_recipes/009_ask_and_tell.html#define-and-run)</span>
<a id="__codelineno-0-693" name="__codelineno-0-693"></a>
<a id="__codelineno-0-694" name="__codelineno-0-694"></a><span class="sd">        parser_args: The positional arguments to pass to the parser</span>
<a id="__codelineno-0-695" name="__codelineno-0-695"></a><span class="sd">        parser_kwargs: The keyword arguments to pass to the parser</span>
<a id="__codelineno-0-696" name="__codelineno-0-696"></a>
<a id="__codelineno-0-697" name="__codelineno-0-697"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-698" name="__codelineno-0-698"></a><span class="sd">        The search space</span>
<a id="__codelineno-0-699" name="__codelineno-0-699"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-700" name="__codelineno-0-700"></a>    <span class="k">match</span> <span class="n">parser</span><span class="p">:</span>
<a id="__codelineno-0-701" name="__codelineno-0-701"></a>        <span class="k">case</span> <span class="s2">&quot;configspace&quot;</span><span class="p">:</span>
<a id="__codelineno-0-702" name="__codelineno-0-702"></a>            <span class="kn">from</span> <span class="nn">amltk.pipeline.parsers.configspace</span> <span class="kn">import</span> <span class="n">parser</span> <span class="k">as</span> <span class="n">cs_parser</span>
<a id="__codelineno-0-703" name="__codelineno-0-703"></a>
<a id="__codelineno-0-704" name="__codelineno-0-704"></a>            <span class="k">return</span> <span class="n">cs_parser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">parser_args</span><span class="p">,</span> <span class="o">**</span><span class="n">parser_kwargs</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
<a id="__codelineno-0-705" name="__codelineno-0-705"></a>        <span class="k">case</span> <span class="s2">&quot;optuna&quot;</span><span class="p">:</span>
<a id="__codelineno-0-706" name="__codelineno-0-706"></a>            <span class="kn">from</span> <span class="nn">amltk.pipeline.parsers.optuna</span> <span class="kn">import</span> <span class="n">parser</span> <span class="k">as</span> <span class="n">optuna_parser</span>
<a id="__codelineno-0-707" name="__codelineno-0-707"></a>
<a id="__codelineno-0-708" name="__codelineno-0-708"></a>            <span class="k">return</span> <span class="n">optuna_parser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">parser_args</span><span class="p">,</span> <span class="o">**</span><span class="n">parser_kwargs</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
<a id="__codelineno-0-709" name="__codelineno-0-709"></a>        <span class="k">case</span> <span class="nb">str</span><span class="p">():</span>  <span class="c1"># type: ignore</span>
<a id="__codelineno-0-710" name="__codelineno-0-710"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-711" name="__codelineno-0-711"></a>                <span class="sa">f</span><span class="s2">&quot;Invalid str for parser </span><span class="si">{</span><span class="n">parser</span><span class="si">}</span><span class="s2">. &quot;</span>
<a id="__codelineno-0-712" name="__codelineno-0-712"></a>                <span class="s2">&quot;Please use &#39;configspace&#39; or &#39;optuna&#39; or pass in your own&quot;</span>
<a id="__codelineno-0-713" name="__codelineno-0-713"></a>                <span class="s2">&quot; parser function&quot;</span><span class="p">,</span>
<a id="__codelineno-0-714" name="__codelineno-0-714"></a>            <span class="p">)</span>
<a id="__codelineno-0-715" name="__codelineno-0-715"></a>        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-716" name="__codelineno-0-716"></a>            <span class="k">return</span> <span class="n">parser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">parser_args</span><span class="p">,</span> <span class="o">**</span><span class="n">parser_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="amltk.pipeline.node.Node.walk" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">walk</span>


<a href="#amltk.pipeline.node.Node.walk" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">walk</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">path</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence">Sequence</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Iterator" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterator">Iterator</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">]]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Walk the nodes in this chain.</p>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">PARAMETER</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td><code>path</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The current path to this node</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a>] | None</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">YIELDS</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td>
              <span class="doc-yields-annotation">
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a>]</code>
              </span>
          </td>
          <td class="doc-yields-details">
            <div class="doc-md-description">
              <p>The parents of the node and the node itself</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>src/amltk/pipeline/node.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-591">591</a></span>
<span class="normal"><a href="#__codelineno-0-592">592</a></span>
<span class="normal"><a href="#__codelineno-0-593">593</a></span>
<span class="normal"><a href="#__codelineno-0-594">594</a></span>
<span class="normal"><a href="#__codelineno-0-595">595</a></span>
<span class="normal"><a href="#__codelineno-0-596">596</a></span>
<span class="normal"><a href="#__codelineno-0-597">597</a></span>
<span class="normal"><a href="#__codelineno-0-598">598</a></span>
<span class="normal"><a href="#__codelineno-0-599">599</a></span>
<span class="normal"><a href="#__codelineno-0-600">600</a></span>
<span class="normal"><a href="#__codelineno-0-601">601</a></span>
<span class="normal"><a href="#__codelineno-0-602">602</a></span>
<span class="normal"><a href="#__codelineno-0-603">603</a></span>
<span class="normal"><a href="#__codelineno-0-604">604</a></span>
<span class="normal"><a href="#__codelineno-0-605">605</a></span>
<span class="normal"><a href="#__codelineno-0-606">606</a></span>
<span class="normal"><a href="#__codelineno-0-607">607</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-591" name="__codelineno-0-591"></a><span class="k">def</span> <span class="nf">walk</span><span class="p">(</span>
<a id="__codelineno-0-592" name="__codelineno-0-592"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-593" name="__codelineno-0-593"></a>    <span class="n">path</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Node</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">Node</span><span class="p">],</span> <span class="n">Node</span><span class="p">]]:</span>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Walk the nodes in this chain.</span>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a><span class="sd">        path: The current path to this node</span>
<a id="__codelineno-0-599" name="__codelineno-0-599"></a>
<a id="__codelineno-0-600" name="__codelineno-0-600"></a><span class="sd">    Yields:</span>
<a id="__codelineno-0-601" name="__codelineno-0-601"></a><span class="sd">        The parents of the node and the node itself</span>
<a id="__codelineno-0-602" name="__codelineno-0-602"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-603" name="__codelineno-0-603"></a>    <span class="n">path</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="k">if</span> <span class="n">path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[]</span>
<a id="__codelineno-0-604" name="__codelineno-0-604"></a>    <span class="k">yield</span> <span class="n">path</span><span class="p">,</span> <span class="bp">self</span>
<a id="__codelineno-0-605" name="__codelineno-0-605"></a>
<a id="__codelineno-0-606" name="__codelineno-0-606"></a>    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
<a id="__codelineno-0-607" name="__codelineno-0-607"></a>        <span class="k">yield from</span> <span class="n">node</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="p">[</span><span class="o">*</span><span class="n">path</span><span class="p">,</span> <span class="bp">self</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="amltk.pipeline.node.OnBeginCallbackSignature" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>          <span class="doc doc-object-name doc-class-name">OnBeginCallbackSignature</span>


<a href="#amltk.pipeline.node.OnBeginCallbackSignature" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-external" title="typing.Protocol" href="https://docs.python.org/3/library/typing.html#typing.Protocol">Protocol</a></code></p>

  
      <p>A  calllback to further define control flow from
<a class="autorefs autorefs-internal" href="#amltk.pipeline.node.Node.optimize"><code>pipeline.optimize()</code></a>.</p>
<p>In one of these callbacks, you can register to specific <code>@events</code> of the
<a class="autorefs autorefs-internal" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler"><code>Scheduler</code></a> or <a class="autorefs autorefs-internal" href="../../scheduling/task/#amltk.scheduling.task.Task"><code>Task</code></a>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">pipeline</span> <span class="o">=</span> <span class="o">...</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1"># The callback will get the task, scheduler and the history in which results</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># will be stored</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="k">def</span> <span class="nf">my_callback</span><span class="p">(</span><span class="n">task</span><span class="p">:</span> <span class="n">Task</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">],</span> <span class="n">scheduler</span><span class="p">:</span> <span class="n">Scheduler</span><span class="p">,</span> <span class="n">history</span><span class="p">:</span> <span class="n">History</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="c1"># You can do early stopping based on a target metric</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="nd">@task</span><span class="o">.</span><span class="n">on_result</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="k">def</span> <span class="nf">stop_if_target_reached</span><span class="p">(</span><span class="n">_</span><span class="p">:</span> <span class="n">Future</span><span class="p">,</span> <span class="n">report</span><span class="p">:</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>        <span class="n">score</span> <span class="o">=</span> <span class="n">report</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="s2">&quot;accuracy&quot;</span><span class="p">]</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>        <span class="k">if</span> <span class="n">score</span> <span class="o">&gt;=</span> <span class="mf">0.95</span><span class="p">:</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>            <span class="n">scheduler</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">stop_msg</span><span class="o">=</span><span class="s2">&quot;Target reached!&quot;</span><span class="p">))</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="c1"># You could also perform early stopping based on iterations</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>    <span class="n">last_score</span> <span class="o">=</span> <span class="mf">0.0</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>    <span class="nd">@task</span><span class="o">.</span><span class="n">on_result</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>    <span class="k">def</span> <span class="nf">stop_if_no_improvement_for_n_runs</span><span class="p">(</span><span class="n">_</span><span class="p">:</span> <span class="n">Future</span><span class="p">,</span> <span class="n">report</span><span class="p">:</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>        <span class="n">score</span> <span class="o">=</span> <span class="n">report</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="s2">&quot;accuracy&quot;</span><span class="p">]</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>        <span class="k">if</span> <span class="n">score</span> <span class="o">&gt;</span> <span class="n">last_score</span><span class="p">:</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>            <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>            <span class="n">last_score</span> <span class="o">=</span> <span class="n">score</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>        <span class="k">elif</span> <span class="n">n</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">:</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>            <span class="n">scheduler</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>            <span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>    <span class="c1"># Really whatever you&#39;d like</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>    <span class="nd">@task</span><span class="o">.</span><span class="n">on_result</span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>    <span class="k">def</span> <span class="nf">print_if_choice_made</span><span class="p">(</span><span class="n">_</span><span class="p">:</span> <span class="n">Future</span><span class="p">,</span> <span class="n">report</span><span class="p">:</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>        <span class="k">if</span> <span class="n">report</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;estimator:__choice__&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;random_forest&quot;</span><span class="p">:</span>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;yay&quot;</span><span class="p">)</span>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>    <span class="c1"># Every callback will be called here in the main process so it&#39;s</span>
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>    <span class="c1"># best not to do anything too heavy here.</span>
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a>    <span class="c1"># However you can also submit new tasks or jobs to the scheduler too</span>
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a>    <span class="nd">@task</span><span class="o">.</span><span class="n">on_result</span><span class="p">(</span><span class="n">every</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>  <span class="c1"># Do a cleanup sweep every 30 trials</span>
<a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a>    <span class="k">def</span> <span class="nf">keep_on_ten_best_models_on_disk</span><span class="p">(</span><span class="n">_</span><span class="p">:</span> <span class="n">Future</span><span class="p">,</span> <span class="n">report</span><span class="p">:</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a>        <span class="n">sorted_reports</span> <span class="o">=</span> <span class="n">history</span><span class="o">.</span><span class="n">sortby</span><span class="p">(</span><span class="s2">&quot;accuracy&quot;</span><span class="p">)</span>
<a id="__codelineno-0-41" name="__codelineno-0-41" href="#__codelineno-0-41"></a>        <span class="n">reports_to_cleanup</span> <span class="o">=</span> <span class="n">sorted_reports</span><span class="p">[</span><span class="mi">10</span><span class="p">:]</span>
<a id="__codelineno-0-42" name="__codelineno-0-42" href="#__codelineno-0-42"></a>        <span class="n">scheduler</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">some_cleanup_function</span><span class="p">,</span> <span class="n">reporteds_to_cleanup</span><span class="p">)</span>
<a id="__codelineno-0-43" name="__codelineno-0-43" href="#__codelineno-0-43"></a>
<a id="__codelineno-0-44" name="__codelineno-0-44" href="#__codelineno-0-44"></a><span class="n">history</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">optimize</span><span class="p">(</span>
<a id="__codelineno-0-45" name="__codelineno-0-45" href="#__codelineno-0-45"></a>    <span class="o">...</span><span class="p">,</span>
<a id="__codelineno-0-46" name="__codelineno-0-46" href="#__codelineno-0-46"></a>    <span class="n">on_begin</span><span class="o">=</span><span class="n">my_callback</span><span class="p">,</span>
<a id="__codelineno-0-47" name="__codelineno-0-47" href="#__codelineno-0-47"></a><span class="p">)</span>
</code></pre></div>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="amltk.pipeline.node.OnBeginCallbackSignature.__call__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <span class="doc doc-object-name doc-function-name">__call__</span>


<a href="#amltk.pipeline.node.OnBeginCallbackSignature.__call__" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="fm">__call__</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="nf">task</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.scheduling.Task" href="../../scheduling/task/#amltk.scheduling.task.Task">Task</a></span><span class="p">[[</span><span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial">Trial</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a></span><span class="p">],</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n">scheduler</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.scheduling.Scheduler" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler">Scheduler</a></span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">history</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.optimization.history.History" href="../../optimization/history/#amltk.optimization.history.History">History</a></span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Signature for the callback.</p>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">PARAMETER</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td><code>task</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The task that will be run</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.scheduling.Task" href="../../scheduling/task/#amltk.scheduling.task.Task">Task</a>[[<a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial">Trial</a>, <a class="autorefs autorefs-internal" title="amltk.pipeline.node.Node" href="#amltk.pipeline.node.Node">Node</a>], <a class="autorefs autorefs-internal" title="amltk.optimization.trial.Trial.Report" href="../../../../reference/optimization/trials/#amltk.optimization.trial.Trial.Report">Report</a>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>scheduler</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The scheduler that will be running the optimization</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.scheduling.Scheduler" href="../../scheduling/scheduler/#amltk.scheduling.scheduler.Scheduler">Scheduler</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>history</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The history that will be used to collect the results</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="amltk.optimization.history.History" href="../../optimization/history/#amltk.optimization.history.History">History</a></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>src/amltk/pipeline/node.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-164" name="__codelineno-0-164"></a><span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>    <span class="n">task</span><span class="p">:</span> <span class="n">Task</span><span class="p">[[</span><span class="n">Trial</span><span class="p">,</span> <span class="n">Node</span><span class="p">],</span> <span class="n">Trial</span><span class="o">.</span><span class="n">Report</span><span class="p">],</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>    <span class="n">scheduler</span><span class="p">:</span> <span class="n">Scheduler</span><span class="p">,</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>    <span class="n">history</span><span class="p">:</span> <span class="n">History</span><span class="p">,</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Signature for the callback.</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a><span class="sd">        task: The task that will be run</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a><span class="sd">        scheduler: The scheduler that will be running the optimization</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a><span class="sd">        history: The history that will be used to collect the results</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="amltk.pipeline.node.ParamRequest" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>          <span class="doc doc-object-name doc-class-name">ParamRequest</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

<a href="#amltk.pipeline.node.ParamRequest" class="headerlink" title="Permanent link">#</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">ParamRequest</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="n"><span title="amltk.pipeline.node.T">T</span></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#object">object</a></span> <span class="o">=</span> <span class="n">_NotSet</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-external" title="typing.Generic" href="https://docs.python.org/3/library/typing.html#typing.Generic">Generic</a>[<span title="amltk.pipeline.node.T">T</span>]</code></p>

  
      <p>A parameter request for a node. This is most useful for things like seeds.</p>


  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="amltk.pipeline.node.ParamRequest.default" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">default</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.pipeline.node.ParamRequest.default" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">default</span><span class="p">:</span> <span class="n"><span title="amltk.pipeline.node.T">T</span></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#object">object</a></span> <span class="o">=</span> <span class="n"><span title="amltk.pipeline.node._NotSet">_NotSet</span></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The default value to use if the key is not found.</p>
<p>If left as <code>_NotSet</code> (default) then an error will be raised if the
parameter is not found during configuration with
<a class="autorefs autorefs-internal" href="#amltk.pipeline.node.Node.configure"><code>configure()</code></a>.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.pipeline.node.ParamRequest.has_default" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">has_default</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#amltk.pipeline.node.ParamRequest.has_default" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">has_default</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Whether this request has a default value.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amltk.pipeline.node.ParamRequest.key" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>          <span class="doc doc-object-name doc-attribute-name">key</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#amltk.pipeline.node.ParamRequest.key" class="headerlink" title="Permanent link">#</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">key</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The key to request under.</p>
  </div>

</div>





  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="amltk.pipeline.node.RichOptions" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>          <span class="doc doc-object-name doc-class-name">RichOptions</span>


<a href="#amltk.pipeline.node.RichOptions" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-external" title="typing.NamedTuple" href="https://docs.python.org/3/library/typing.html#typing.NamedTuple">NamedTuple</a></code></p>

  
      <p>Options for rich printing.</p>


  

  <div class="doc doc-children">











  </div>

  </div>


</div>



<div class="doc doc-object doc-function">



<h3 id="amltk.pipeline.node.request" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>          <span class="doc doc-object-name doc-function-name">request</span>


<a href="#amltk.pipeline.node.request" class="headerlink" title="Permanent link">#</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">request</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">key</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="n"><span title="amltk.pipeline.node.T">T</span></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#object">object</a></span> <span class="o">=</span> <span class="n">_NotSet</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="amltk.pipeline.node.ParamRequest" href="#amltk.pipeline.node.ParamRequest">ParamRequest</a></span><span class="p">[</span><span class="n"><span title="amltk.pipeline.node.T">T</span></span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create a new parameter request.</p>



  <table>
    <thead>
      <tr>
        <th><span class="doc-section-title">PARAMETER</span></th>
        <th><span>DESCRIPTION</span></th>
      </tr>
    </thead>
    <tbody>
        <tr class="doc-section-item">
          <td><code>key</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The key to request under.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr class="doc-section-item">
          <td><code>default</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The default value to use if the key is not found.
If left as <code>_NotSet</code> (default) then the key will be removed from the
config once <a class="autorefs autorefs-internal" href="#amltk.pipeline.node.Node.configure"><code>configure</code></a> is called and
nothing has been provided.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><span title="amltk.pipeline.node.T">T</span> | <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#object">object</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code><span title="amltk.pipeline.node._NotSet">_NotSet</span></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>src/amltk/pipeline/node.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-217" name="__codelineno-0-217"></a><span class="k">def</span> <span class="nf">request</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="n">T</span> <span class="o">|</span> <span class="nb">object</span> <span class="o">=</span> <span class="n">_NotSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ParamRequest</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new parameter request.</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a><span class="sd">        key: The key to request under.</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a><span class="sd">        default: The default value to use if the key is not found.</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a><span class="sd">            If left as `_NotSet` (default) then the key will be removed from the</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a><span class="sd">            config once [`configure`][amltk.pipeline.Node.configure] is called and</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a><span class="sd">            nothing has been provided.</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>    <span class="k">return</span> <span class="n">ParamRequest</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../components/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Components">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Components
              </div>
            </div>
          </a>
        
        
          
          <a href="../ops/" class="md-footer__link md-footer__link--next" aria-label="Next: Ops">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Ops
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/automl" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/automl_org" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["content.code.annotate", "content.code.copy", "navigation.footer", "navigation.sections", "toc.follow", "toc.integrate", "navigation.tabs", "navigation.tabs.sticky", "header.autohide", "search.suggest", "search.highlight", "search.share"], "search": "../../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.3220b9d7.min.js"></script>
      
        <script src="../../../../assets/_markdown_exec_pyodide.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>